technologies = {
	#Vertical position
	@1925 = 0
	@1930 = 2
	@1934 = 4
	@1935 = 6
	@1936 = 8
	@1937 = 10
	@1938 = 12
	@1939 = 14
	@1940 = 16
	@1941 = 18
	@1942 = 20
	@1943 = 22
	@1944 = 24
	@1945 = 26
	@1946 = 28
	@1947 = 30
	#Horizontal position
	@GUN_COL0 = 0
	@GUN_COL1 = 1
	@GUN_COL2 = 2
	@GUN_COL3 = 3
	@GUN_COL4 = 4
	@GUN_COL5 = 5
	
	@AMMO_COL1 = 6
	@AMMO_COL2 = 7
	
	@CHASSIS_LIGHT0 = 7
	@CHASSIS_LIGHT1 = 8
	@CHASSIS_LIGHT2 = 9
	@CHASSIS_LIGHT3 = 10
	@CHASSIS_LIGHT4 = 11
	
	@CHASSIS_CAVALRY1 = 12
	@CHASSIS_CAVALRY2 = 13
	@CHASSIS_CAVALRY3 = 14
	@CHASSIS_CAVALRY4 = 15
	@CHASSIS_CAVALRY5 = 16
		
	@CHASSIS_MEDIUM1 = 17
	@CHASSIS_MEDIUM2 = 18
	@CHASSIS_MEDIUM3 = 19
	@CHASSIS_MEDIUM4 = 20
	@CHASSIS_MEDIUM5 = 21
	@CHASSIS_MEDIUM6 = 22
	@CHASSIS_MEDIUM7 = 23
	
	@CHASSIS_INFANTRY1 = 24
	@CHASSIS_INFANTRY2 = 25
	@CHASSIS_INFANTRY3 = 26
	@CHASSIS_INFANTRY4 = 27
	@CHASSIS_INFANTRY5 = 28
	@CHASSIS_INFANTRY6 = 29
	
	@CHASSIS_HEAVY1 = 30
	@CHASSIS_HEAVY2 = 31
	@CHASSIS_HEAVY3 = 32
	@CHASSIS_HEAVY4 = 33
	
	@CHASSIS_SUPERHEAVY = 36
	
	tech_trm_british_armour = {
		allow = { 
			has_country_flag = UNLOCK:armor_folder
			if = {
				limit = { original_tag = RAJ }
				has_completed_focus = RAJ_indian_armor
			}
		} 
		
		enable_equipments = {
			trm_tankette_tank_chassis_eng_cardenloyd_1
		}

		enable_equipment_modules = {
			trm_transmission_brake_front
			trm_transmission_brake_rear
			trm_transmission_differential_front
			trm_transmission_differential_rear
			trm_transmission_twin_drive_front
			trm_transmission_twin_drive_rear
			trm_transmission_twin_transmission_front
			trm_transmission_twin_transmission_rear

			trm_suspension_spring_leaf
			trm_suspension_spring_coil
			trm_suspension_horstmann

			trm_armour_design_partial_sloped
			
			trm_armour_design_light_partial_sloped

			trm_ergonomics_light_standard
			trm_ergonomics_standard
			trm_ergonomics_heavy_standard

			trm_gearbox_simple

			trm_tank_construction_standard
			
			trm_weapon_mg_eng_vickers

			trm_weapon_mg_eng_vickers_heavy

			trm_weapon_c_eng_47_3pdr_mk1
			trm_weapon_c_eng_47_3pdr_mk2

			trm_weapon_c_eng_75_mk2

			trm_weapon_c_eng_76_20cwt
			
			trm_weapon_coax_mg_eng_vickers

			trm_weapon_hull_mg_eng_vickers

			trm_weapon_hull_c_eng_75_mk2

			trm_special_aamg_eng_vickers

			trm_special_offset_mg_eng_vickers

			trm_special_turret_mg_eng_vickers
			
			trm_tankette_tank_eng_cardenloyd_casemate_1
		}
		
		show_equipment_icon = yes

		path = {
			leads_to_tech = tech_trm_light_tank_chassis_eng_vickers_e_1
			research_cost_coeff = 1
		}
		path = {
			leads_to_tech = tech_trm_light_tank_chassis_eng_vickers_light_1
			research_cost_coeff = 1
		}
		path = {
			leads_to_tech = tech_trm_cavalry_tank_chassis_eng_mk1_1
			research_cost_coeff = 1
		}
		path = {
			leads_to_tech = tech_trm_infantry_tank_chassis_eng_matilda1_1
			research_cost_coeff = 1
		}
		path = {
			leads_to_tech = tech_trm_infantry_tank_chassis_eng_valentine_1
			research_cost_coeff = 1
		}
		path = {
			leads_to_tech = tech_trm_infantry_tank_chassis_eng_vickers_medium_1
			research_cost_coeff = 1
		}
		path = {
			leads_to_tech = tech_trm_heavy_tank_chassis_eng_independent_1
			research_cost_coeff = 1
		}
		
		research_cost = 1.6
		start_year = 1925
		folder = {
			name = trm_armour_eng_folder
			position = { x = @CHASSIS_LIGHT3 y = @1925 }
		}		special_project_specialization = { specialization_land }
		ai_will_do = {
			factor = 0
		}
		on_research_complete = {
			set_temp_variable = { tech = token:tech_trm_british_armour }
			is_tech_ai_valid = yes
			if = {
				limit = {
					original_tag = RAJ
				}
				custom_effect_tooltip = trm_eng_restriction_raj_tt
			}
		}
	}
	
	## CHASSIS/TURRETS
	
	#Vickers E Chassis
	tech_trm_light_tank_chassis_eng_vickers_e_1 = {
		allow = { has_country_flag = UNLOCK:armor_folder } 
		
		enable_equipments = {
			trm_light_tank_chassis_eng_vickers_e_1
		}
		
		enable_equipment_modules = {
			trm_light_tank_eng_vickers_e_turret_1
			trm_light_tank_eng_vickers_e_turret_2
		}
		
		show_equipment_icon = yes
		
		research_cost = 1.2
		start_year = 1930
		folder = {
			name = trm_armour_eng_folder
			position = { x = @CHASSIS_LIGHT0 y = @1930 }
		}
		
		allow_branch = {
			OR = {
				original_tag = ENG
				original_tag = CAN
				original_tag = AST
				original_tag = SAF
			}
		}		special_project_specialization = { specialization_land }
		ai_will_do = {
			factor = 0
		}
		on_research_complete = {
			set_temp_variable = { tech = token:tech_trm_light_tank_chassis_eng_vickers_e_1 }
			is_tech_ai_valid = yes
			custom_effect_tooltip = tech_category_tt
			custom_effect_tooltip = armor_tech_tt
			custom_effect_tooltip = armor_chassis_tt
			custom_effect_tooltip = cat_light_armor_tt
		}
		
		categories = {
			armor_tech
			armor_chassis
			cat_light_armor
		}
	}
	
	#Vickers Light Mk I-III Chassis
	tech_trm_light_tank_chassis_eng_vickers_light_1 = {
		allow = { has_country_flag = UNLOCK:armor_folder } 
		
		enable_equipments = {
			trm_light_tank_chassis_eng_vickers_light_1
		}
		
		enable_equipment_modules = {
			trm_light_tank_eng_vickers_light_turret_1
		}
		
		path = {
			leads_to_tech = tech_trm_light_tank_chassis_eng_vickers_light_2
			research_cost_coeff = 1
		}
		
		show_equipment_icon = yes
		
		research_cost = 0.8
		start_year = 1930
		folder = {
			name = trm_armour_eng_folder
			position = { x = @CHASSIS_LIGHT3 y = @1930 }
		}		special_project_specialization = { specialization_land }
		ai_will_do = {
			factor = 0
		}
		on_research_complete = {
			set_temp_variable = { tech = token:tech_trm_light_tank_chassis_eng_vickers_light_1 }
			is_tech_ai_valid = yes
			custom_effect_tooltip = tech_category_tt
			custom_effect_tooltip = armor_tech_tt
			custom_effect_tooltip = armor_chassis_tt
			custom_effect_tooltip = cat_light_armor_tt
		}
		
		categories = {
			armor_tech
			armor_chassis
			cat_light_armor
		}
	}
	
	#Vickers Light Mk IV Chassis
	tech_trm_light_tank_chassis_eng_vickers_light_2 = {
		allow = { has_country_flag = UNLOCK:armor_folder } 
		
		enable_equipments = {
			trm_light_tank_chassis_eng_vickers_light_2
		}
		
		path = {
			leads_to_tech = tech_trm_light_tank_chassis_eng_vickers_light_3
			research_cost_coeff = 1
		}
		
		show_equipment_icon = yes
		
		research_cost = 0.8
		start_year = 1934
		folder = {
			name = trm_armour_eng_folder
			position = { x = @CHASSIS_LIGHT3 y = @1934 }
		}		special_project_specialization = { specialization_land }
		ai_will_do = {
			factor = 0
		}
		on_research_complete = {
			set_temp_variable = { tech = token:tech_trm_light_tank_chassis_eng_vickers_light_2 }
			is_tech_ai_valid = yes
			custom_effect_tooltip = tech_category_tt
			custom_effect_tooltip = armor_tech_tt
			custom_effect_tooltip = armor_chassis_tt
			custom_effect_tooltip = cat_light_armor_tt
		}
		
		categories = {
			armor_tech
			armor_chassis
			cat_light_armor
		}
	}
	
	#Vickers Light Mk V Chassis
	tech_trm_light_tank_chassis_eng_vickers_light_3 = {
		allow = { has_country_flag = UNLOCK:armor_folder } 
		
		enable_equipments = {
			trm_light_tank_chassis_eng_vickers_light_3
		}
		
		enable_equipment_modules = {
			trm_light_tank_eng_vickers_light_turret_2
		}
		
		path = {
			leads_to_tech = tech_trm_light_tank_chassis_eng_vickers_light_4
			research_cost_coeff = 1
		}
		
		show_equipment_icon = yes
		
		research_cost = 0.8
		start_year = 1935
		folder = {
			name = trm_armour_eng_folder
			position = { x = @CHASSIS_LIGHT3 y = @1935 }
		}		special_project_specialization = { specialization_land }
		ai_will_do = {
			factor = 0
		}
		on_research_complete = {
			set_temp_variable = { tech = token:tech_trm_light_tank_chassis_eng_vickers_light_3 }
			is_tech_ai_valid = yes
			custom_effect_tooltip = tech_category_tt
			custom_effect_tooltip = armor_tech_tt
			custom_effect_tooltip = armor_chassis_tt
			custom_effect_tooltip = cat_light_armor_tt
		}
		
		categories = {
			armor_tech
			armor_chassis
			cat_light_armor
		}
	}
	
	#Vickers Light Mk VI Chassis
	tech_trm_light_tank_chassis_eng_vickers_light_4 = {
		allow = { has_country_flag = UNLOCK:armor_folder } 
		
		enable_equipments = {
			trm_light_tank_chassis_eng_vickers_light_4
		}
		
		path = {
			leads_to_tech = tech_trm_para_tank_chassis_eng_tetrarch_1
			research_cost_coeff = 1
		}
		
		path = {
			leads_to_tech = tech_trm_light_tank_eng_vickers_light_aa_open_1
			research_cost_coeff = 1
		}
		
		show_equipment_icon = yes
		
		research_cost = 0.8
		start_year = 1936
		folder = {
			name = trm_armour_eng_folder
			position = { x = @CHASSIS_LIGHT3 y = @1936 }
		}		special_project_specialization = { specialization_land }
		ai_will_do = {
			factor = 0
		}
		on_research_complete = {
			set_temp_variable = { tech = token:tech_trm_light_tank_chassis_eng_vickers_light_4 }
			is_tech_ai_valid = yes
			custom_effect_tooltip = tech_category_tt
			custom_effect_tooltip = armor_tech_tt
			custom_effect_tooltip = armor_chassis_tt
			custom_effect_tooltip = cat_light_armor_tt
		}
		
		categories = {
			armor_tech
			armor_chassis
			cat_light_armor
		}
	}
	
	#Light Mk VI Open AA Mount
	tech_trm_light_tank_eng_vickers_light_aa_open_1 = {
		allow = { has_country_flag = UNLOCK:armor_folder } 

		enable_equipment_modules = {
			trm_light_tank_eng_vickers_light_aa_open_1
		}
		
		research_cost = 0.4
		start_year = 1941
		folder = {
			name = trm_armour_eng_folder
			position = { x = @CHASSIS_LIGHT1 y = @1941 }
		}		special_project_specialization = { specialization_land }
		ai_will_do = {
			factor = 0
		}
		on_research_complete = {
			set_temp_variable = { tech = token:tech_trm_light_tank_eng_vickers_light_aa_open_1 }
			is_tech_ai_valid = yes
			custom_effect_tooltip = tech_category_tt
			custom_effect_tooltip = armor_tech_tt
			custom_effect_tooltip = cat_light_armor_component_tt
		}

		categories = {
			armor_tech
			cat_light_armor_component
		}
	}
	
	#Light Mk VII Tetrarch Chassis
	tech_trm_para_tank_chassis_eng_tetrarch_1 = {
		allow = { has_country_flag = UNLOCK:armor_folder } 
		
		enable_equipments = {
			trm_para_tank_chassis_eng_tetrarch_1
		}
		
		enable_equipment_modules = {
			trm_para_tank_eng_tetrarch_turret_1
		}
		
		path = {
			leads_to_tech = tech_trm_para_tank_chassis_eng_mk8_1
			research_cost_coeff = 1
		}
		
		show_equipment_icon = yes
		
		research_cost = 1.6
		start_year = 1939
		folder = {
			name = trm_armour_eng_folder
			position = { x = @CHASSIS_LIGHT3 y = @1939 }
		}
		
		allow_branch = {
			OR = {
				original_tag = ENG
				original_tag = CAN
			}
		}		special_project_specialization = { specialization_land }
		ai_will_do = {
			factor = 0
		}
		on_research_complete = {
			set_temp_variable = { tech = token:tech_trm_para_tank_chassis_eng_tetrarch_1 }
			is_tech_ai_valid = yes
			custom_effect_tooltip = tech_category_tt
			custom_effect_tooltip = armor_tech_tt
			custom_effect_tooltip = armor_chassis_tt
			custom_effect_tooltip = cat_light_armor_tt
			custom_effect_tooltip = cat_para_armor_tt
		}
		
		categories = {
			armor_tech
			armor_chassis
			cat_light_armor
			cat_para_armor
		}
	}
	
	#Light Mk VIII Chassis
	tech_trm_para_tank_chassis_eng_mk8_1 = {
		allow = { has_country_flag = UNLOCK:armor_folder } 
		
		enable_equipments = {
			trm_para_tank_chassis_eng_mk8_1
		}
		
		enable_equipment_modules = {
			trm_para_tank_eng_mk8_turret_1
		}
		
		show_equipment_icon = yes
		
		research_cost = 1.6
		start_year = 1943
		folder = {
			name = trm_armour_eng_folder
			position = { x = @CHASSIS_LIGHT3 y = @1943 }
		}
		
		allow_branch = {
			OR = {
				original_tag = ENG
				original_tag = CAN
			}
		}		special_project_specialization = { specialization_land }
		ai_will_do = {
			factor = 0
		}
		on_research_complete = {
			set_temp_variable = { tech = token:tech_trm_para_tank_chassis_eng_mk8_1 }
			is_tech_ai_valid = yes
			custom_effect_tooltip = tech_category_tt
			custom_effect_tooltip = armor_tech_tt
			custom_effect_tooltip = armor_chassis_tt
			custom_effect_tooltip = cat_light_armor_tt
			custom_effect_tooltip = cat_para_armor_tt
		}
		
		categories = {
			armor_tech
			armor_chassis
			cat_light_armor
			cat_para_armor
		}
	}
	
	#Cruiser Mk I Chassis
	tech_trm_cavalry_tank_chassis_eng_mk1_1 = {
		allow = { 
			has_country_flag = UNLOCK:armor_folder
			OR = {
				if = {
					limit = { original_tag = CAN }
					has_completed_focus = CAN_the_cruiser_tanks
				}
				if = {
					limit = { original_tag = AST }
					has_completed_focus = AST_british_cruiser_tanks
				}
				if = {
					limit = { original_tag = SAF }
					has_completed_focus = SAF_armor_effort
				}
			}
		} 
		
		enable_equipments = {
			trm_cavalry_tank_chassis_eng_mk1_1
		}
		
		enable_equipment_modules = {
			trm_cavalry_tank_eng_mk1_turret_1
		}
		
		path = {
			leads_to_tech = tech_trm_cavalry_tank_chassis_eng_mk2_1
			research_cost_coeff = 1
		}
		
		show_equipment_icon = yes
		
		research_cost = 1.6
		start_year = 1936
		folder = {
			name = trm_armour_eng_folder
			position = { x = @CHASSIS_CAVALRY2 y = @1936 }
		}
		
		allow_branch = {
			OR = {
				original_tag = ENG
				original_tag = CAN
				original_tag = AST
				original_tag = SAF
			}
		}		special_project_specialization = { specialization_land }
		ai_will_do = {
			factor = 0
		}
		on_research_complete = {
			set_temp_variable = { tech = token:tech_trm_cavalry_tank_chassis_eng_mk1_1 }
			is_tech_ai_valid = yes
			if = {
				limit = {
					original_tag = CAN
				}
				custom_effect_tooltip = trm_eng_restriction_can_cruiser_tt
			}
			if = {
				limit = {
					original_tag = AST
				}
				custom_effect_tooltip = trm_eng_restriction_ast_cruiser_tt
			}
			if = {
				limit = {
					original_tag = SAF
				}
				custom_effect_tooltip = trm_eng_restriction_saf_cruiser_tt
			}
			custom_effect_tooltip = tech_category_tt
			custom_effect_tooltip = armor_tech_tt
			custom_effect_tooltip = armor_chassis_tt
			custom_effect_tooltip = cat_light_armor_tt
		}
		
		categories = {
			armor_tech
			armor_chassis
			cat_light_armor
		}
	}
	
	#Cruiser Mk II Chassis
	tech_trm_cavalry_tank_chassis_eng_mk2_1 = {
		allow = { has_country_flag = UNLOCK:armor_folder } 
		
		enable_equipments = {
			trm_cavalry_tank_chassis_eng_mk2_1
		}
		
		enable_equipment_modules = {
			trm_cavalry_tank_eng_mk2_turret_1
		}
		
		path = {
			leads_to_tech = tech_trm_cavalry_tank_chassis_eng_mk3_1
			research_cost_coeff = 1
		}
		
		show_equipment_icon = yes
		
		research_cost = 1.2
		start_year = 1937
		folder = {
			name = trm_armour_eng_folder
			position = { x = @CHASSIS_CAVALRY2 y = @1937 }
		}		special_project_specialization = { specialization_land }
		ai_will_do = {
			factor = 0
		}
		on_research_complete = {
			set_temp_variable = { tech = token:tech_trm_cavalry_tank_chassis_eng_mk2_1 }
			is_tech_ai_valid = yes
			custom_effect_tooltip = tech_category_tt
			custom_effect_tooltip = armor_tech_tt
			custom_effect_tooltip = armor_chassis_tt
			custom_effect_tooltip = cat_light_armor_tt
		}
		
		categories = {
			armor_tech
			armor_chassis
			cat_light_armor
		}
	}
	
	#Cruiser Mk III Chassis
	tech_trm_cavalry_tank_chassis_eng_mk3_1 = {
		allow = { has_country_flag = UNLOCK:armor_folder } 
		
		enable_equipments = {
			trm_cavalry_tank_chassis_eng_mk3_1
		}
		
		enable_equipment_modules = {
			trm_cavalry_tank_eng_mk3_turret_1
		}
		
		path = {
			leads_to_tech = tech_trm_cavalry_tank_chassis_eng_mk4_1
			research_cost_coeff = 1
		}
		
		show_equipment_icon = yes
		
		research_cost = 1.6
		start_year = 1938
		folder = {
			name = trm_armour_eng_folder
			position = { x = @CHASSIS_CAVALRY2 y = @1938 }
		}		special_project_specialization = { specialization_land }
		ai_will_do = {
			factor = 0
		}
		on_research_complete = {
			set_temp_variable = { tech = token:tech_trm_cavalry_tank_chassis_eng_mk3_1 }
			is_tech_ai_valid = yes
			custom_effect_tooltip = tech_category_tt
			custom_effect_tooltip = armor_tech_tt
			custom_effect_tooltip = armor_chassis_tt
			custom_effect_tooltip = cat_light_armor_tt
		}
		
		categories = {
			armor_tech
			armor_chassis
			cat_light_armor
		}
	}
	
	#Cruiser Mk IV Chassis
	tech_trm_cavalry_tank_chassis_eng_mk4_1 = {
		allow = { has_country_flag = UNLOCK:armor_folder } 
		
		enable_equipments = {
			trm_cavalry_tank_chassis_eng_mk4_1
		}
		
		enable_equipment_modules = {
			trm_cavalry_tank_eng_mk4_turret_1
		}
		
		path = {
			leads_to_tech = tech_trm_cavalry_tank_chassis_eng_mk5_1
			research_cost_coeff = 1
		}
		
		show_equipment_icon = yes
		
		research_cost = 1.2
		start_year = 1939
		folder = {
			name = trm_armour_eng_folder
			position = { x = @CHASSIS_CAVALRY2 y = @1939 }
		}		special_project_specialization = { specialization_land }
		ai_will_do = {
			factor = 0
		}
		on_research_complete = {
			set_temp_variable = { tech = token:tech_trm_cavalry_tank_chassis_eng_mk4_1 }
			is_tech_ai_valid = yes
			custom_effect_tooltip = tech_category_tt
			custom_effect_tooltip = armor_tech_tt
			custom_effect_tooltip = armor_chassis_tt
			custom_effect_tooltip = cat_light_armor_tt
		}
		
		categories = {
			armor_tech
			armor_chassis
			cat_light_armor
		}
	}
	
	#Cruiser Mk V Chassis
	tech_trm_cavalry_tank_chassis_eng_mk5_1 = {
		allow = { has_country_flag = UNLOCK:armor_folder } 
		
		enable_equipments = {
			trm_cavalry_tank_chassis_eng_mk5_1
		}
		
		enable_equipment_modules = {
			trm_cavalry_tank_eng_mk5_turret_1
		}
		
		path = {
			leads_to_tech = tech_trm_cavalry_tank_chassis_eng_mk6_1
			research_cost_coeff = 1
		}
		
		show_equipment_icon = yes
		
		research_cost = 1.2
		start_year = 1940
		folder = {
			name = trm_armour_eng_folder
			position = { x = @CHASSIS_CAVALRY2 y = @1940 }
		}		special_project_specialization = { specialization_land }
		ai_will_do = {
			factor = 0
		}
		on_research_complete = {
			set_temp_variable = { tech = token:tech_trm_cavalry_tank_chassis_eng_mk5_1 }
			is_tech_ai_valid = yes
			custom_effect_tooltip = tech_category_tt
			custom_effect_tooltip = armor_tech_tt
			custom_effect_tooltip = armor_chassis_tt
			custom_effect_tooltip = cat_light_armor_tt
		}
		
		categories = {
			armor_tech
			armor_chassis
			cat_light_armor
		}
	}
	
	#Cruiser Mk VI Chassis
	tech_trm_cavalry_tank_chassis_eng_mk6_1 = {
		allow = { has_country_flag = UNLOCK:armor_folder } 
		
		enable_equipments = {
			trm_cavalry_tank_chassis_eng_mk6_1
		}
		
		enable_equipment_modules = {
			trm_cavalry_tank_eng_mk6_turret_1
		}
		
		path = {
			leads_to_tech = tech_trm_medium_tank_chassis_eng_mk7_1
			research_cost_coeff = 1
		}
		
		path = {
			leads_to_tech = tech_trm_cavalry_tank_eng_mk6_turret_2
			research_cost_coeff = 1
		}
		
		path = {
			leads_to_tech = tech_trm_cavalry_tank_eng_mk6_aa_open_1
			research_cost_coeff = 1
		}
		
		show_equipment_icon = yes
		
		research_cost = 1.6
		start_year = 1940
		folder = {
			name = trm_armour_eng_folder
			position = { x = @CHASSIS_CAVALRY5 y = @1940 }
		}		special_project_specialization = { specialization_land }
		ai_will_do = {
			factor = 0
		}
		on_research_complete = {
			set_temp_variable = { tech = token:tech_trm_cavalry_tank_chassis_eng_mk6_1 }
			is_tech_ai_valid = yes
			custom_effect_tooltip = tech_category_tt
			custom_effect_tooltip = armor_tech_tt
			custom_effect_tooltip = armor_chassis_tt
			custom_effect_tooltip = cat_light_armor_tt
		}
		
		categories = {
			armor_tech
			armor_chassis
			cat_light_armor
		}
	}
	
	#Cruiser Mk VI 6pdr Turret
	tech_trm_cavalry_tank_eng_mk6_turret_2 = {
		allow = { has_country_flag = UNLOCK:armor_folder } 

		enable_equipment_modules = {
			trm_cavalry_tank_eng_mk6_turret_2
		}
		
		research_cost = 0.6
		start_year = 1942
		folder = {
			name = trm_armour_eng_folder
			position = { x = @CHASSIS_CAVALRY4 y = @1942 }
		}		special_project_specialization = { specialization_land }
		ai_will_do = {
			factor = 0
		}
		on_research_complete = {
			set_temp_variable = { tech = token:tech_trm_cavalry_tank_eng_mk6_turret_2 }
			is_tech_ai_valid = yes
			custom_effect_tooltip = tech_category_tt
			custom_effect_tooltip = armor_tech_tt
			custom_effect_tooltip = cat_light_armor_component_tt
		}

		categories = {
			armor_tech
			cat_light_armor_component
		}
	}
	
	#Cruiser Mk VI Open AA Mount
	tech_trm_cavalry_tank_eng_mk6_aa_open_1 = {
		allow = { has_country_flag = UNLOCK:armor_folder } 

		enable_equipment_modules = {
			trm_cavalry_tank_eng_mk6_aa_open_1
		}
		
		path = {
			leads_to_tech = tech_trm_cavalry_tank_eng_mk6_aa_1
			research_cost_coeff = 1
		}
		
		research_cost = 0.4
		start_year = 1943
		folder = {
			name = trm_armour_eng_folder
			position = { x = @CHASSIS_CAVALRY5 y = @1943 }
		}		special_project_specialization = { specialization_land }
		ai_will_do = {
			factor = 0
		}
		on_research_complete = {
			set_temp_variable = { tech = token:tech_trm_cavalry_tank_eng_mk6_aa_open_1 }
			is_tech_ai_valid = yes
			custom_effect_tooltip = tech_category_tt
			custom_effect_tooltip = armor_tech_tt
			custom_effect_tooltip = cat_light_armor_component_tt
		}

		categories = {
			armor_tech
			cat_light_armor_component
		}
	}
	
	#Cruiser Mk VI AA Turret
	tech_trm_cavalry_tank_eng_mk6_aa_1 = {
		allow = { has_country_flag = UNLOCK:armor_folder } 

		enable_equipment_modules = {
			trm_cavalry_tank_eng_mk6_aa_1
		}
		
		path = {
			leads_to_tech = tech_trm_medium_tank_eng_mk8_aa_1
			research_cost_coeff = 1
		}
		
		research_cost = 0.4
		start_year = 1944
		folder = {
			name = trm_armour_eng_folder
			position = { x = @CHASSIS_CAVALRY5 y = @1944 }
		}		special_project_specialization = { specialization_land }
		ai_will_do = {
			factor = 0
		}
		on_research_complete = {
			set_temp_variable = { tech = token:tech_trm_cavalry_tank_eng_mk6_aa_1 }
			is_tech_ai_valid = yes
			custom_effect_tooltip = tech_category_tt
			custom_effect_tooltip = armor_tech_tt
			custom_effect_tooltip = cat_light_armor_component_tt
		}

		categories = {
			armor_tech
			cat_light_armor_component
		}
	}
	
	#Cruiser Mk VII Chassis
	tech_trm_medium_tank_chassis_eng_mk7_1 = {
		allow = { 
			has_country_flag = UNLOCK:armor_folder
			if = {
				limit = { original_tag = CAN }
				has_completed_focus = CAN_heavy_cruiser_tanks
			}
		}  
		
		enable_equipments = {
			trm_medium_tank_chassis_eng_mk7_1
		}
		
		enable_equipment_modules = {
			trm_medium_tank_eng_mk7_turret_1
		}
		
		path = {
			leads_to_tech = tech_trm_medium_tank_chassis_eng_mk8_1
			research_cost_coeff = 1
		}
		
		show_equipment_icon = yes
		
		research_cost = 1.6
		start_year = 1941
		folder = {
			name = trm_armour_eng_folder
			position = { x = @CHASSIS_MEDIUM3 y = @1941 }
		}
		
		allow_branch = {
			OR = {
				original_tag = ENG
				original_tag = CAN
			}
		}		special_project_specialization = { specialization_land }
		ai_will_do = {
			factor = 0
		}
		on_research_complete = {
			set_temp_variable = { tech = token:tech_trm_medium_tank_chassis_eng_mk7_1 }
			is_tech_ai_valid = yes
			if = {
				limit = {
					original_tag = CAN
				}
				custom_effect_tooltip = trm_eng_restriction_can_cruiser_heavy_tt
			}
			custom_effect_tooltip = tech_category_tt
			custom_effect_tooltip = armor_tech_tt
			custom_effect_tooltip = armor_chassis_tt
			custom_effect_tooltip = cat_medium_armor_tt
		}
		
		categories = {
			armor_tech
			armor_chassis
			cat_medium_armor
		}
	}
	
	#Cruiser Mk VIII Chassis
	tech_trm_medium_tank_chassis_eng_mk8_1 = {
		allow = { has_country_flag = UNLOCK:armor_folder } 
		
		enable_equipments = {
			trm_medium_tank_chassis_eng_mk8_1
		}
		
		enable_equipment_modules = {
			trm_medium_tank_eng_mk8_turret_1
		}
		
		path = {
			leads_to_tech = tech_trm_medium_tank_chassis_eng_mk8_2
			research_cost_coeff = 1
		}
		
		path = {
			leads_to_tech = tech_trm_medium_tank_eng_mk8_aa_1
			research_cost_coeff = 1
		}
		
		show_equipment_icon = yes
		
		research_cost = 1.2
		start_year = 1942
		folder = {
			name = trm_armour_eng_folder
			position = { x = @CHASSIS_MEDIUM3 y = @1942 }
		}		special_project_specialization = { specialization_land }
		ai_will_do = {
			factor = 0
		}
		on_research_complete = {
			set_temp_variable = { tech = token:tech_trm_medium_tank_chassis_eng_mk8_1 }
			is_tech_ai_valid = yes
			custom_effect_tooltip = tech_category_tt
			custom_effect_tooltip = armor_tech_tt
			custom_effect_tooltip = armor_chassis_tt
			custom_effect_tooltip = cat_medium_armor_tt
		}
		
		categories = {
			armor_tech
			armor_chassis
			cat_medium_armor
		}
	}
	
	#Cruiser Mk VIII AA Turret
	tech_trm_medium_tank_eng_mk8_aa_1 = {
		allow = { has_country_flag = UNLOCK:armor_folder } 

		enable_equipment_modules = {
			trm_medium_tank_eng_mk8_aa_1
			trm_medium_tank_eng_mk8_aa_2
		}
		
		dependencies = {
			tech_trm_medium_tank_chassis_eng_mk8_1 = 1
			tech_trm_cavalry_tank_eng_mk6_aa_1 = 1
		}
		
		research_cost = 0.4
		start_year = 1944
		folder = {
			name = trm_armour_eng_folder
			position = { x = @CHASSIS_MEDIUM1 y = @1944 }
		}
		
		allow_branch = {
			OR = {
				original_tag = ENG
				original_tag = CAN
			}
		}		special_project_specialization = { specialization_land }
		ai_will_do = {
			factor = 0
		}
		on_research_complete = {
			set_temp_variable = { tech = token:tech_trm_medium_tank_eng_mk8_aa_1 }
			is_tech_ai_valid = yes
			custom_effect_tooltip = tech_category_tt
			custom_effect_tooltip = armor_tech_tt
			custom_effect_tooltip = cat_medium_armor_component_tt
		}

		categories = {
			armor_tech
			cat_medium_armor_component
		}
	}
	
	#Cruiser Mk VIII Chassis
	tech_trm_medium_tank_chassis_eng_mk8_2 = {
		allow = { has_country_flag = UNLOCK:armor_folder } 
		
		enable_equipments = {
			trm_medium_tank_chassis_eng_mk8_2
		}
		
		enable_equipment_modules = {
			trm_medium_tank_eng_mk8_turret_2
		}
		
		path = {
			leads_to_tech = tech_trm_medium_tank_chassis_eng_mk8_3
			research_cost_coeff = 1
		}
		
		path = {
			leads_to_tech = tech_trm_medium_tank_chassis_eng_comet_1
			research_cost_coeff = 1
		}
		
		show_equipment_icon = yes
		
		research_cost = 1.6
		start_year = 1943
		folder = {
			name = trm_armour_eng_folder
			position = { x = @CHASSIS_MEDIUM3 y = @1943 }
		}		special_project_specialization = { specialization_land }
		ai_will_do = {
			factor = 0
		}
		on_research_complete = {
			set_temp_variable = { tech = token:tech_trm_medium_tank_chassis_eng_mk8_2 }
			is_tech_ai_valid = yes
			custom_effect_tooltip = tech_category_tt
			custom_effect_tooltip = armor_tech_tt
			custom_effect_tooltip = armor_chassis_tt
			custom_effect_tooltip = cat_medium_armor_tt
		}
		
		categories = {
			armor_tech
			armor_chassis
			cat_medium_armor
		}
	}
	
	#Cruiser Mk VIII Chassis
	tech_trm_medium_tank_chassis_eng_mk8_3 = {
		allow = { has_country_flag = UNLOCK:armor_folder } 
		
		enable_equipments = {
			trm_medium_tank_chassis_eng_mk8_3
		}
		
		enable_equipment_modules = {
			trm_medium_tank_eng_mk8_turret_3
			trm_medium_tank_eng_mk8_turret_open_1
		}
		
		show_equipment_icon = yes
		
		research_cost = 1.2
		start_year = 1944
		folder = {
			name = trm_armour_eng_folder
			position = { x = @CHASSIS_MEDIUM3 y = @1944 }
		}		special_project_specialization = { specialization_land }
		ai_will_do = {
			factor = 0
		}
		on_research_complete = {
			set_temp_variable = { tech = token:tech_trm_medium_tank_chassis_eng_mk8_3 }
			is_tech_ai_valid = yes
			custom_effect_tooltip = tech_category_tt
			custom_effect_tooltip = armor_tech_tt
			custom_effect_tooltip = armor_chassis_tt
			custom_effect_tooltip = cat_medium_armor_tt
		}
		
		categories = {
			armor_tech
			armor_chassis
			cat_medium_armor
		}
	}
	
	#Cruiser Comet Chassis
	tech_trm_medium_tank_chassis_eng_comet_1 = {
		allow = { has_country_flag = UNLOCK:armor_folder } 
		
		enable_equipments = {
			trm_medium_tank_chassis_eng_comet_1
		}
		
		enable_equipment_modules = {
			trm_medium_tank_eng_comet_turret_1
		}
		
		path = {
			leads_to_tech = tech_trm_medium_advanced_tank_chassis_eng_centurion_1
			research_cost_coeff = 1
		}
		
		show_equipment_icon = yes
		
		research_cost = 1.6
		start_year = 1944
		folder = {
			name = trm_armour_eng_folder
			position = { x = @CHASSIS_MEDIUM6 y = @1944 }
		}
		
		allow_branch = {
			original_tag = ENG
		}		special_project_specialization = { specialization_land }
		ai_will_do = {
			factor = 0
		}
		on_research_complete = {
			set_temp_variable = { tech = token:tech_trm_medium_tank_chassis_eng_comet_1 }
			is_tech_ai_valid = yes
			custom_effect_tooltip = tech_category_tt
			custom_effect_tooltip = armor_tech_tt
			custom_effect_tooltip = armor_chassis_tt
			custom_effect_tooltip = cat_medium_armor_tt
		}
		
		categories = {
			armor_tech
			armor_chassis
			cat_medium_armor
		}
	}
	
	#Centurion Chassis
	tech_trm_medium_advanced_tank_chassis_eng_centurion_1 = {
		allow = { has_country_flag = UNLOCK:armor_folder } 
		
		enable_equipments = {
			trm_medium_advanced_tank_chassis_eng_centurion_1
		}
		
		enable_equipment_modules = {
			trm_medium_advanced_tank_eng_centurion_turret_1
		}
		
		path = {
			leads_to_tech = tech_trm_medium_advanced_tank_eng_centurion_turret_2
			research_cost_coeff = 1
		}
		
		show_equipment_icon = yes
		
		research_cost = 2.0
		start_year = 1945
		folder = {
			name = trm_armour_eng_folder
			position = { x = @CHASSIS_MEDIUM6 y = @1945 }
		}		special_project_specialization = { specialization_land }
		ai_will_do = {
			factor = 0
		}
		on_research_complete = {
			set_temp_variable = { tech = token:tech_trm_medium_advanced_tank_chassis_eng_centurion_1 }
			is_tech_ai_valid = yes
			custom_effect_tooltip = tech_category_tt
			custom_effect_tooltip = armor_tech_tt
			custom_effect_tooltip = armor_chassis_tt
			custom_effect_tooltip = cat_medium_armor_tt
		}
		
		categories = {
			armor_tech
			armor_chassis
			cat_medium_armor
		}
	}
	
	#Centurion 20pdr Turret
	tech_trm_medium_advanced_tank_eng_centurion_turret_2 = {
		allow = { has_country_flag = UNLOCK:armor_folder } 

		enable_equipment_modules = {
			trm_medium_advanced_tank_eng_centurion_turret_2
		}
		
		research_cost = 0.8
		start_year = 1947
		folder = {
			name = trm_armour_eng_folder
			position = { x = @CHASSIS_MEDIUM6 y = @1947 }
		}		special_project_specialization = { specialization_land }
		ai_will_do = {
			factor = 0
		}
		on_research_complete = {
			set_temp_variable = { tech = token:tech_trm_medium_advanced_tank_eng_centurion_turret_2 }
			is_tech_ai_valid = yes
			custom_effect_tooltip = tech_category_tt
			custom_effect_tooltip = armor_tech_tt
			custom_effect_tooltip = cat_medium_armor_component_tt
		}

		categories = {
			armor_tech
			cat_medium_armor_component
		}
	}
	
	#Medium Mk I/II Chassis
	tech_trm_infantry_tank_chassis_eng_vickers_medium_1 = {
		allow = { has_country_flag = UNLOCK:armor_folder } 
		
		enable_equipments = {
			trm_infantry_tank_chassis_eng_vickers_medium_1
		}
		
		enable_equipment_modules = {
			trm_infantry_tank_eng_vickers_medium_turret_1
		}
		
		show_equipment_icon = yes
		
		research_cost = 1.6
		start_year = 1925
		folder = {
			name = trm_armour_eng_folder
			position = { x = @CHASSIS_INFANTRY2 y = @1925 }
		}
		
		allow_branch = {
			original_tag = ENG
		}		special_project_specialization = { specialization_land }
		ai_will_do = {
			factor = 0
		}
		on_research_complete = {
			set_temp_variable = { tech = token:tech_trm_infantry_tank_chassis_eng_vickers_medium_1 }
			is_tech_ai_valid = yes
			custom_effect_tooltip = tech_category_tt
			custom_effect_tooltip = armor_tech_tt
			custom_effect_tooltip = armor_chassis_tt
			custom_effect_tooltip = cat_medium_armor_tt
		}
		
		categories = {
			armor_tech
			armor_chassis
			cat_medium_armor
		}
	}
	
	#Matilda Mk I Chassis
	tech_trm_infantry_tank_chassis_eng_matilda1_1 = {
		allow = { has_country_flag = UNLOCK:armor_folder } 
		
		enable_equipments = {
			trm_infantry_tank_chassis_eng_matilda1_1
		}
		
		enable_equipment_modules = {
			trm_infantry_tank_eng_matilda1_turret_1
		}
		
		path = {
			leads_to_tech = tech_trm_infantry_tank_chassis_eng_matilda2_1
			research_cost_coeff = 1
		}
		
		show_equipment_icon = yes
		
		research_cost = 1.6
		start_year = 1937
		folder = {
			name = trm_armour_eng_folder
			position = { x = @CHASSIS_INFANTRY5 y = @1937 }
		}
		
		allow_branch = {
			original_tag = ENG
		}		special_project_specialization = { specialization_land }
		ai_will_do = {
			factor = 0
		}
		on_research_complete = {
			set_temp_variable = { tech = token:tech_trm_infantry_tank_chassis_eng_matilda1_1 }
			is_tech_ai_valid = yes
			custom_effect_tooltip = tech_category_tt
			custom_effect_tooltip = armor_tech_tt
			custom_effect_tooltip = armor_chassis_tt
			custom_effect_tooltip = cat_medium_armor_tt
		}
		
		categories = {
			armor_tech
			armor_chassis
			cat_medium_armor
		}
	}
	
	#Matilda Mk II Chassis
	tech_trm_infantry_tank_chassis_eng_matilda2_1 = {
		allow = { has_country_flag = UNLOCK:armor_folder } 
		
		enable_equipments = {
			trm_infantry_tank_chassis_eng_matilda2_1
		}
		
		enable_equipment_modules = {
			trm_infantry_tank_eng_matilda2_turret_1
		}
		
		path = {
			leads_to_tech = tech_trm_heavy_tank_chassis_eng_churchill_1
			research_cost_coeff = 1
		}
		
		show_equipment_icon = yes
		
		research_cost = 1.6
		start_year = 1939
		folder = {
			name = trm_armour_eng_folder
			position = { x = @CHASSIS_INFANTRY5 y = @1939 }
		}		special_project_specialization = { specialization_land }
		ai_will_do = {
			factor = 0
		}
		on_research_complete = {
			set_temp_variable = { tech = token:tech_trm_infantry_tank_chassis_eng_matilda2_1 }
			is_tech_ai_valid = yes
			custom_effect_tooltip = tech_category_tt
			custom_effect_tooltip = armor_tech_tt
			custom_effect_tooltip = armor_chassis_tt
			custom_effect_tooltip = cat_medium_armor_tt
		}
		
		categories = {
			armor_tech
			armor_chassis
			cat_medium_armor
		}
	}
	
	#Valentine Mk I Chassis
	tech_trm_infantry_tank_chassis_eng_valentine_1 = {
		allow = { 
			has_country_flag = UNLOCK:armor_folder
			OR = {
				if = {
					limit = { original_tag = CAN }
					has_completed_focus = CAN_the_valentine_tank
				}
				if = {
					limit = { original_tag = AST }
					has_completed_focus = AST_british_infantry_tanks
				}
			}
		} 
		
		enable_equipments = {
			trm_infantry_tank_chassis_eng_valentine_1
		}
		
		enable_equipment_modules = {
			trm_infantry_tank_eng_valentine_turret_1
		}
		
		path = {
			leads_to_tech = tech_trm_infantry_tank_chassis_eng_valentine_2
			research_cost_coeff = 1
		}
		
		dependencies = {
			tech_trm_infantry_tank_chassis_eng_matilda1_1 = 1
			tech_trm_cavalry_tank_chassis_eng_mk2_1 = 1
		}
		
		show_equipment_icon = yes
		
		research_cost = 1.6
		start_year = 1939
		folder = {
			name = trm_armour_eng_folder
			position = { x = @CHASSIS_INFANTRY2 y = @1939 }
		}
		
		allow_branch = {
			OR = {
				original_tag = ENG
				original_tag = CAN
				original_tag = AST
			}
		}		special_project_specialization = { specialization_land }
		ai_will_do = {
			factor = 0
		}
		on_research_complete = {
			set_temp_variable = { tech = token:tech_trm_infantry_tank_chassis_eng_valentine_1 }
			is_tech_ai_valid = yes
			if = {
				limit = {
					original_tag = CAN
				}
				custom_effect_tooltip = trm_eng_restriction_can_valentine_tt
			}
			if = {
				limit = {
					original_tag = AST
				}
				custom_effect_tooltip = trm_eng_restriction_ast_infantry_tt
			}
			custom_effect_tooltip = tech_category_tt
			custom_effect_tooltip = armor_tech_tt
			custom_effect_tooltip = armor_chassis_tt
			custom_effect_tooltip = cat_medium_armor_tt
		}
		
		categories = {
			armor_tech
			armor_chassis
			cat_medium_armor
		}
	}
	
	#Valentine Mk III Chassis
	tech_trm_infantry_tank_chassis_eng_valentine_2 = {
		allow = { has_country_flag = UNLOCK:armor_folder } 
		
		enable_equipments = {
			trm_infantry_tank_chassis_eng_valentine_2
		}
		
		enable_equipment_modules = {
			trm_infantry_tank_eng_valentine_turret_2
		}
		
		path = {
			leads_to_tech = tech_trm_infantry_tank_chassis_eng_valentine_3
			research_cost_coeff = 1
		}
		
		path = {
			leads_to_tech = tech_trm_infantry_tank_eng_valentine_superstructure_1
			research_cost_coeff = 1
		}
		
		path = {
			leads_to_tech = tech_trm_infantry_tank_eng_valentine_superstructure_open_1
			research_cost_coeff = 1
		}
		
		show_equipment_icon = yes
		
		research_cost = 1.2
		start_year = 1940
		folder = {
			name = trm_armour_eng_folder
			position = { x = @CHASSIS_INFANTRY2 y = @1940 }
		}		special_project_specialization = { specialization_land }
		ai_will_do = {
			factor = 0
		}
		on_research_complete = {
			set_temp_variable = { tech = token:tech_trm_infantry_tank_chassis_eng_valentine_2 }
			is_tech_ai_valid = yes
			custom_effect_tooltip = tech_category_tt
			custom_effect_tooltip = armor_tech_tt
			custom_effect_tooltip = armor_chassis_tt
			custom_effect_tooltip = cat_medium_armor_tt
		}
		
		categories = {
			armor_tech
			armor_chassis
			cat_medium_armor
		}
	}
	
	#Valentine Bishop Superstructure
	tech_trm_infantry_tank_eng_valentine_superstructure_1 = {
		allow = { has_country_flag = UNLOCK:armor_folder } 

		enable_equipment_modules = {
			trm_infantry_tank_eng_valentine_superstructure_1
		}
		
		research_cost = 0.8
		start_year = 1942
		folder = {
			name = trm_armour_eng_folder
			position = { x = @CHASSIS_INFANTRY5 y = @1942 }
		}		special_project_specialization = { specialization_land }
		ai_will_do = {
			factor = 0
		}
		on_research_complete = {
			set_temp_variable = { tech = token:tech_trm_infantry_tank_eng_valentine_superstructure_1 }
			is_tech_ai_valid = yes
			custom_effect_tooltip = tech_category_tt
			custom_effect_tooltip = armor_tech_tt
			custom_effect_tooltip = cat_medium_armor_component_tt
		}

		categories = {
			armor_tech
			cat_medium_armor_component
		}
	}
	
	#Valentine Archer Superstructure
	tech_trm_infantry_tank_eng_valentine_superstructure_open_1 = {
		allow = { has_country_flag = UNLOCK:armor_folder } 

		enable_equipment_modules = {
			trm_infantry_tank_eng_valentine_superstructure_open_1
		}
		
		research_cost = 0.8
		start_year = 1943
		folder = {
			name = trm_armour_eng_folder
			position = { x = @CHASSIS_INFANTRY4 y = @1943 }
		}		special_project_specialization = { specialization_land }
		ai_will_do = {
			factor = 0
		}
		on_research_complete = {
			set_temp_variable = { tech = token:tech_trm_infantry_tank_eng_valentine_superstructure_open_1 }
			is_tech_ai_valid = yes
			custom_effect_tooltip = tech_category_tt
			custom_effect_tooltip = armor_tech_tt
			custom_effect_tooltip = cat_medium_armor_component_tt
		}

		categories = {
			armor_tech
			cat_medium_armor_component
		}
	}
	
	#Valentine Mk IX Chassis
	tech_trm_infantry_tank_chassis_eng_valentine_3 = {
		allow = { has_country_flag = UNLOCK:armor_folder } 
		
		enable_equipments = {
			trm_infantry_tank_chassis_eng_valentine_3
		}
		
		enable_equipment_modules = {
			trm_infantry_tank_eng_valentine_turret_3
		}
		
		path = {
			leads_to_tech = tech_trm_infantry_tank_eng_valentine_turret_4
			research_cost_coeff = 1
		}
		
		show_equipment_icon = yes
		
		research_cost = 1.6
		start_year = 1942
		folder = {
			name = trm_armour_eng_folder
			position = { x = @CHASSIS_INFANTRY2 y = @1942 }
		}		special_project_specialization = { specialization_land }
		ai_will_do = {
			factor = 0
		}
		on_research_complete = {
			set_temp_variable = { tech = token:tech_trm_infantry_tank_chassis_eng_valentine_3 }
			is_tech_ai_valid = yes
			custom_effect_tooltip = tech_category_tt
			custom_effect_tooltip = armor_tech_tt
			custom_effect_tooltip = armor_chassis_tt
			custom_effect_tooltip = cat_medium_armor_tt
		}
		
		categories = {
			armor_tech
			armor_chassis
			cat_medium_armor
		}
	}
	
	#Valentine 75mm Turret
	tech_trm_infantry_tank_eng_valentine_turret_4 = {
		allow = { has_country_flag = UNLOCK:armor_folder } 

		enable_equipment_modules = {
			trm_infantry_tank_eng_valentine_turret_4
		}
		
		research_cost = 0.8
		start_year = 1943
		folder = {
			name = trm_armour_eng_folder
			position = { x = @CHASSIS_INFANTRY2 y = @1943 }
		}		special_project_specialization = { specialization_land }
		ai_will_do = {
			factor = 0
		}
		on_research_complete = {
			set_temp_variable = { tech = token:tech_trm_infantry_tank_eng_valentine_turret_4 }
			is_tech_ai_valid = yes
			custom_effect_tooltip = tech_category_tt
			custom_effect_tooltip = armor_tech_tt
			custom_effect_tooltip = cat_medium_armor_component_tt
		}

		categories = {
			armor_tech
			cat_medium_armor_component
		}
	}
	
	#Independent Chassis
	tech_trm_heavy_tank_chassis_eng_independent_1 = {
		allow = { has_country_flag = UNLOCK:armor_folder } 
		
		enable_equipments = {
			trm_heavy_tank_chassis_eng_independent_1
		}
		
		enable_equipment_modules = {
			trm_heavy_tank_eng_independent_turret_1
		}
		
		show_equipment_icon = yes
		
		research_cost = 1.6
		start_year = 1925
		folder = {
			name = trm_armour_eng_folder
			position = { x = @CHASSIS_HEAVY1 y = @1925 }
		}
		
		allow_branch = {
			original_tag = ENG
		}		special_project_specialization = { specialization_land }
		ai_will_do = {
			factor = 0
		}
		on_research_complete = {
			set_temp_variable = { tech = token:tech_trm_heavy_tank_chassis_eng_independent_1 }
			is_tech_ai_valid = yes
			custom_effect_tooltip = tech_category_tt
			custom_effect_tooltip = armor_tech_tt
			custom_effect_tooltip = armor_chassis_tt
			custom_effect_tooltip = cat_heavy_armor_tt
		}
		
		categories = {
			armor_tech
			armor_chassis
			cat_heavy_armor
		}
	}
	
	#Churchill Mk I Chassis
	tech_trm_heavy_tank_chassis_eng_churchill_1 = {
		allow = { has_country_flag = UNLOCK:armor_folder } 
		
		enable_equipments = {
			trm_heavy_tank_chassis_eng_churchill_1
		}
		
		enable_equipment_modules = {
			trm_heavy_tank_eng_churchill_turret_1
		}
		
		path = {
			leads_to_tech = tech_trm_heavy_tank_chassis_eng_churchill_2
			research_cost_coeff = 1
		}
		
		path = {
			leads_to_tech = tech_trm_heavy_tank_eng_churchill_casemate_1
			research_cost_coeff = 1
		}
		
		dependencies = {
			tech_trm_infantry_tank_chassis_eng_matilda2_1 = 1
			tech_trm_infantry_tank_chassis_eng_valentine_1 = 1
		}
		
		show_equipment_icon = yes
		
		research_cost = 1.6
		start_year = 1941
		folder = {
			name = trm_armour_eng_folder
			position = { x = @CHASSIS_HEAVY1 y = @1941 }
		}
		
		allow_branch = {
			original_tag = ENG
		}		special_project_specialization = { specialization_land }
		ai_will_do = {
			factor = 0
		}
		on_research_complete = {
			set_temp_variable = { tech = token:tech_trm_heavy_tank_chassis_eng_churchill_1 }
			is_tech_ai_valid = yes
			custom_effect_tooltip = tech_category_tt
			custom_effect_tooltip = armor_tech_tt
			custom_effect_tooltip = armor_chassis_tt
			custom_effect_tooltip = cat_heavy_armor_tt
		}
		
		categories = {
			armor_tech
			armor_chassis
			cat_heavy_armor
		}
	}
	
	#Churchill Casemate
	tech_trm_heavy_tank_eng_churchill_casemate_1 = {
		allow = { has_country_flag = UNLOCK:armor_folder } 

		enable_equipment_modules = {
			trm_heavy_tank_eng_churchill_casemate_1
		}
		
		research_cost = 0.6
		start_year = 1942
		folder = {
			name = trm_armour_eng_folder
			position = { x = @CHASSIS_HEAVY3 y = @1942 }
		}		special_project_specialization = { specialization_land }
		ai_will_do = {
			factor = 0
		}
		on_research_complete = {
			set_temp_variable = { tech = token:tech_trm_heavy_tank_eng_churchill_casemate_1 }
			is_tech_ai_valid = yes
			custom_effect_tooltip = tech_category_tt
			custom_effect_tooltip = armor_tech_tt
			custom_effect_tooltip = cat_heavy_armor_component_tt
		}

		categories = {
			armor_tech
			cat_heavy_armor_component
		}
	}
	
	#Churchill Mk III Chassis
	tech_trm_heavy_tank_chassis_eng_churchill_2 = {
		allow = { has_country_flag = UNLOCK:armor_folder } 
		
		enable_equipments = {
			trm_heavy_tank_chassis_eng_churchill_2
		}
		
		enable_equipment_modules = {
			trm_heavy_tank_eng_churchill_turret_2
		}
		
		path = {
			leads_to_tech = tech_trm_heavy_tank_chassis_eng_churchill_3
			research_cost_coeff = 1
		}
		
		show_equipment_icon = yes
		
		research_cost = 1.2
		start_year = 1942
		folder = {
			name = trm_armour_eng_folder
			position = { x = @CHASSIS_HEAVY1 y = @1942 }
		}		special_project_specialization = { specialization_land }
		ai_will_do = {
			factor = 0
		}
		on_research_complete = {
			set_temp_variable = { tech = token:tech_trm_heavy_tank_chassis_eng_churchill_2 }
			is_tech_ai_valid = yes
			custom_effect_tooltip = tech_category_tt
			custom_effect_tooltip = armor_tech_tt
			custom_effect_tooltip = armor_chassis_tt
			custom_effect_tooltip = cat_heavy_armor_tt
		}
		
		categories = {
			armor_tech
			armor_chassis
			cat_heavy_armor
		}
	}
	
	#Churchill Mk VII Chassis
	tech_trm_heavy_tank_chassis_eng_churchill_3 = {
		allow = { has_country_flag = UNLOCK:armor_folder } 
		
		enable_equipments = {
			trm_heavy_tank_chassis_eng_churchill_3
		}
		
		enable_equipment_modules = {
			trm_heavy_tank_eng_churchill_turret_3
		}
		
		path = {
			leads_to_tech = tech_trm_heavy_tank_chassis_eng_churchill_4
			research_cost_coeff = 1
		}
		
		show_equipment_icon = yes
		
		research_cost = 1.6
		start_year = 1944
		folder = {
			name = trm_armour_eng_folder
			position = { x = @CHASSIS_HEAVY1 y = @1944 }
		}		special_project_specialization = { specialization_land }
		ai_will_do = {
			factor = 0
		}
		on_research_complete = {
			set_temp_variable = { tech = token:tech_trm_heavy_tank_chassis_eng_churchill_3 }
			is_tech_ai_valid = yes
			custom_effect_tooltip = tech_category_tt
			custom_effect_tooltip = armor_tech_tt
			custom_effect_tooltip = armor_chassis_tt
			custom_effect_tooltip = cat_heavy_armor_tt
		}
		
		categories = {
			armor_tech
			armor_chassis
			cat_heavy_armor
		}
	}
	
	#Churchill BP Chassis
	tech_trm_heavy_tank_chassis_eng_churchill_4 = {
		allow = { has_country_flag = UNLOCK:armor_folder } 
		
		enable_equipments = {
			trm_heavy_tank_chassis_eng_churchill_4
		}
		
		enable_equipment_modules = {
			trm_heavy_tank_eng_churchill_turret_4
		}
		
		show_equipment_icon = yes
		
		research_cost = 1.6
		start_year = 1945
		folder = {
			name = trm_armour_eng_folder
			position = { x = @CHASSIS_HEAVY1 y = @1945 }
		}		special_project_specialization = { specialization_land }
		ai_will_do = {
			factor = 0
		}
		on_research_complete = {
			set_temp_variable = { tech = token:tech_trm_heavy_tank_chassis_eng_churchill_4 }
			is_tech_ai_valid = yes
			custom_effect_tooltip = tech_category_tt
			custom_effect_tooltip = armor_tech_tt
			custom_effect_tooltip = armor_chassis_tt
			custom_effect_tooltip = cat_heavy_armor_tt
		}
		
		categories = {
			armor_tech
			armor_chassis
			cat_heavy_armor
		}
	}
	
	#Excelsior Chassis
	tech_trm_heavy_tank_chassis_eng_excelsior_1 = {
		allow = { has_country_flag = UNLOCK:armor_folder } 
		
		enable_equipments = {
			trm_heavy_tank_chassis_eng_excelsior_1
		}
		
		enable_equipment_modules = {
			trm_heavy_tank_eng_exelsior_turret_1
		}
		
		path = {
			leads_to_tech = tech_trm_heavy_tank_eng_exelsior_turret_2
			research_cost_coeff = 1
		}
		
		dependencies = {
			tech_trm_medium_tank_chassis_eng_mk8_2 = 1
		}
		
		show_equipment_icon = yes
		
		research_cost = 1.6
		start_year = 1944
		folder = {
			name = trm_armour_eng_folder
			position = { x = @CHASSIS_HEAVY4 y = @1944 }
		}
		
		allow_branch = {
			original_tag = ENG
		}		special_project_specialization = { specialization_land }
		ai_will_do = {
			factor = 0
		}
		on_research_complete = {
			set_temp_variable = { tech = token:tech_trm_heavy_tank_chassis_eng_excelsior_1 }
			is_tech_ai_valid = yes
			custom_effect_tooltip = tech_category_tt
			custom_effect_tooltip = armor_tech_tt
			custom_effect_tooltip = armor_chassis_tt
			custom_effect_tooltip = cat_heavy_armor_tt
		}
		
		categories = {
			armor_tech
			armor_chassis
			cat_heavy_armor
		}
	}
	
	#Excelsior 17pdr Turret
	tech_trm_heavy_tank_eng_exelsior_turret_2 = {
		allow = { has_country_flag = UNLOCK:armor_folder } 

		enable_equipment_modules = {
			trm_heavy_tank_eng_exelsior_turret_2
		}
		
		research_cost = 1.2
		start_year = 1945
		folder = {
			name = trm_armour_eng_folder
			position = { x = @CHASSIS_HEAVY4 y = @1945 }
		}		special_project_specialization = { specialization_land }
		ai_will_do = {
			factor = 0
		}
		on_research_complete = {
			set_temp_variable = { tech = token:tech_trm_heavy_tank_eng_exelsior_turret_2 }
			is_tech_ai_valid = yes
			custom_effect_tooltip = tech_category_tt
			custom_effect_tooltip = armor_tech_tt
			custom_effect_tooltip = cat_heavy_armor_component_tt
		}

		categories = {
			armor_tech
			cat_heavy_armor_component
		}
	}
	
	#Tortoise Chassis
	tech_trm_superheavy_tank_chassis_eng_tortoise_1 = {
		allow = { has_country_flag = UNLOCK:armor_folder } 
		
		enable_equipments = {
			trm_superheavy_tank_chassis_eng_tortoise_1
		}
		
		enable_equipment_modules = {
			trm_superheavy_tank_eng_tortoise_casemate_1
		}
		
		dependencies = {
			tech_trm_heavy_tank_chassis_eng_churchill_3 = 1
			tech_trm_heavy_tank_chassis_eng_excelsior_1 = 1
		}
		
		show_equipment_icon = yes
		
		research_cost = 1.6
		start_year = 1945
		folder = {
			name = trm_armour_eng_folder
			position = { x = @CHASSIS_SUPERHEAVY y = @1945 }
		}
		
		allow_branch = {
			original_tag = ENG
		}		special_project_specialization = { specialization_land }
		ai_will_do = {
			factor = 0
		}
		on_research_complete = {
			set_temp_variable = { tech = token:tech_trm_superheavy_tank_chassis_eng_tortoise_1 }
			is_tech_ai_valid = yes
			custom_effect_tooltip = tech_category_tt
			custom_effect_tooltip = armor_tech_tt
			custom_effect_tooltip = armor_chassis_tt
			custom_effect_tooltip = cat_heavy_armor_tt
		}
		
		categories = {
			armor_tech
			armor_chassis
			cat_heavy_armor
		}
	}
	
	## CHASSIS/TURRETS (FIREFLY/ACHILLES)
	
	#Firefly Turret
	tech_trm_medium_tank_usa_m4_turret_4 = {
		allow = { has_country_flag = UNLOCK:armor_folder } 

		enable_equipment_modules = {
			trm_medium_tank_usa_m4_turret_4
		}
		
		dependencies = {
			tech_trm_weapon_c_eng_76_17pdr = 1
		}
		
		research_cost = 1.2
		start_year = 1944
		folder = {
			name = trm_armour_eng_folder
			position = { x = @CHASSIS_CAVALRY3 y = @1944 }
		}
		
		allow_branch = {
			OR = {
				original_tag = ENG
				original_tag = CAN
			}
		}		special_project_specialization = { specialization_land }
		ai_will_do = {
			factor = 0
		}
		on_research_complete = {
			set_temp_variable = { tech = token:tech_trm_medium_tank_usa_m4_turret_4 }
			is_tech_ai_valid = yes
			custom_effect_tooltip = tech_category_tt
			custom_effect_tooltip = armor_tech_tt
			custom_effect_tooltip = cat_medium_armor_component_tt
		}

		categories = {
			armor_tech
			cat_medium_armor_component
		}
	}
	
	#Achilles Turret
	tech_trm_medium_tank_usa_m4_turret_open_3 = {
		allow = { has_country_flag = UNLOCK:armor_folder } 

		enable_equipment_modules = {
			trm_medium_tank_usa_m4_turret_open_3
		}
		
		dependencies = {
			tech_trm_weapon_c_eng_76_17pdr = 1
		}
		
		research_cost = 0.8
		start_year = 1944
		folder = {
			name = trm_armour_eng_folder
			position = { x = @CHASSIS_CAVALRY1 y = @1944 }
		}
		
		allow_branch = {
			OR = {
				original_tag = ENG
				original_tag = CAN
			}
		}		special_project_specialization = { specialization_land }
		ai_will_do = {
			factor = 0
		}
		on_research_complete = {
			set_temp_variable = { tech = token:tech_trm_medium_tank_usa_m4_turret_open_3 }
			is_tech_ai_valid = yes
			custom_effect_tooltip = tech_category_tt
			custom_effect_tooltip = armor_tech_tt
			custom_effect_tooltip = cat_medium_armor_component_tt
		}

		categories = {
			armor_tech
			cat_medium_armor_component
		}
	}
	
	## CHASSIS/TURRETS (CAN/AST)
	
	#Cruiser AC1 Chassis
	tech_trm_medium_tank_chassis_ast_ac1_1 = {
		allow = { 
			has_country_flag = UNLOCK:armor_folder
			if = {
				limit = { original_tag = AST }
				has_completed_focus = AST_sentinel_tank_project
			}
		} 
		
		enable_equipments = {
			trm_medium_tank_chassis_ast_ac1_1
		}
		
		enable_equipment_modules = {
			trm_medium_tank_ast_ac1_turret_1
		}
		
		path = {
			leads_to_tech = tech_trm_medium_tank_chassis_ast_ac3_1
			research_cost_coeff = 1
		}
		
		dependencies = {
			tech_trm_british_armour = 1
		}
		
		show_equipment_icon = yes
		
		research_cost = 1.6
		start_year = 1942
		folder = {
			name = trm_armour_eng_folder
			position = { x = @CHASSIS_MEDIUM3 y = @1942 }
		}
		
		allow_branch = {
			original_tag = AST
		}		special_project_specialization = { specialization_land }
		ai_will_do = {
			factor = 0
		}
		on_research_complete = {
			set_temp_variable = { tech = token:tech_trm_medium_tank_chassis_ast_ac1_1 }
			is_tech_ai_valid = yes
			if = {
				limit = {
					original_tag = AST
				}
				custom_effect_tooltip = trm_eng_restriction_ast_sentinel_tt
			}
			custom_effect_tooltip = tech_category_tt
			custom_effect_tooltip = armor_tech_tt
			custom_effect_tooltip = armor_chassis_tt
			custom_effect_tooltip = cat_medium_armor_tt
		}
		
		categories = {
			armor_tech
			armor_chassis
			cat_medium_armor
		}
	}
	
	#Cruiser AC3 Chassis
	tech_trm_medium_tank_chassis_ast_ac3_1 = {
		allow = { has_country_flag = UNLOCK:armor_folder } 
		
		enable_equipments = {
			trm_medium_tank_chassis_ast_ac3_1
		}
		
		enable_equipment_modules = {
			trm_medium_tank_ast_ac3_turret_1
		}
		
		path = {
			leads_to_tech = tech_trm_medium_tank_chassis_ast_ac4_1
			research_cost_coeff = 1
		}
		
		show_equipment_icon = yes
		
		research_cost = 1.2
		start_year = 1943
		folder = {
			name = trm_armour_eng_folder
			position = { x = @CHASSIS_MEDIUM3 y = @1943 }
		}		special_project_specialization = { specialization_land }
		ai_will_do = {
			factor = 0
		}
		on_research_complete = {
			set_temp_variable = { tech = token:tech_trm_medium_tank_chassis_ast_ac3_1 }
			is_tech_ai_valid = yes
			custom_effect_tooltip = tech_category_tt
			custom_effect_tooltip = armor_tech_tt
			custom_effect_tooltip = armor_chassis_tt
			custom_effect_tooltip = cat_medium_armor_tt
		}
		
		categories = {
			armor_tech
			armor_chassis
			cat_medium_armor
		}
	}
	
	#Cruiser AC4 Chassis
	tech_trm_medium_tank_chassis_ast_ac4_1 = {
		allow = { has_country_flag = UNLOCK:armor_folder } 
		
		enable_equipments = {
			trm_medium_tank_chassis_ast_ac4_1
		}
		
		enable_equipment_modules = {
			trm_medium_tank_ast_ac4_turret_1
		}
		
		show_equipment_icon = yes
		
		research_cost = 1.6
		start_year = 1944
		folder = {
			name = trm_armour_eng_folder
			position = { x = @CHASSIS_MEDIUM3 y = @1944 }
		}		special_project_specialization = { specialization_land }
		ai_will_do = {
			factor = 0
		}
		on_research_complete = {
			set_temp_variable = { tech = token:tech_trm_medium_tank_chassis_ast_ac4_1 }
			is_tech_ai_valid = yes
			custom_effect_tooltip = tech_category_tt
			custom_effect_tooltip = armor_tech_tt
			custom_effect_tooltip = armor_chassis_tt
			custom_effect_tooltip = cat_medium_armor_tt
		}
		
		categories = {
			armor_tech
			armor_chassis
			cat_medium_armor
		}
	}
	
	#Cruiser Ram Chassis
	tech_trm_medium_tank_chassis_usa_ram_1 = {
		allow = { 
			has_country_flag = UNLOCK:armor_folder
			if = {
				limit = { original_tag = CAN }
				has_completed_focus = CAN_the_american_mediums
				USA = { has_tech = tech_trm_medium_tank_chassis_usa_m3_1 }
			}
		} 
		
		enable_equipments = {
			trm_medium_tank_chassis_usa_ram_1
		}
		
		enable_equipment_modules = {
			trm_medium_tank_usa_m3_turret_2
		}
		
		path = {
			leads_to_tech = tech_trm_medium_tank_chassis_usa_grizzly_1
			research_cost_coeff = 1
		}
		
		path = {
			leads_to_tech = tech_trm_medium_tank_usa_grizzly_superstructure_open_1
			research_cost_coeff = 1
		}
		
		dependencies = {
			tech_trm_british_armour = 1
		}
		
		show_equipment_icon = yes
		
		research_cost = 1.6
		start_year = 1941
		folder = {
			name = trm_armour_eng_folder
			position = { x = @CHASSIS_MEDIUM6 y = @1941 }
		}
		
		allow_branch = {
			original_tag = CAN
		}		special_project_specialization = { specialization_land }
		ai_will_do = {
			factor = 0
		}
		on_research_complete = {
			set_temp_variable = { tech = token:tech_trm_medium_tank_chassis_usa_ram_1 }
			is_tech_ai_valid = yes
			if = {
				limit = {
					original_tag = CAN
				}
				custom_effect_tooltip = trm_eng_restriction_can_ram_tt
			}
			custom_effect_tooltip = tech_category_tt
			custom_effect_tooltip = armor_tech_tt
			custom_effect_tooltip = armor_chassis_tt
			custom_effect_tooltip = cat_medium_armor_tt
		}
		
		categories = {
			armor_tech
			armor_chassis
			cat_medium_armor
		}
	}
	
	#Sexton Superstructure
	tech_trm_medium_tank_usa_grizzly_superstructure_open_1 = {
		allow = { has_country_flag = UNLOCK:armor_folder } 

		enable_equipment_modules = {
			trm_medium_tank_usa_m3_superstructure_open_1
			trm_medium_tank_usa_grizzly_superstructure_open_1
		}
		
		research_cost = 0.8
		start_year = 1942
		folder = {
			name = trm_armour_eng_folder
			position = { x = @CHASSIS_MEDIUM7 y = @1942 }
		}		special_project_specialization = { specialization_land }
		ai_will_do = {
			factor = 0
		}
		on_research_complete = {
			set_temp_variable = { tech = token:tech_trm_medium_tank_usa_grizzly_superstructure_open_1 }
			is_tech_ai_valid = yes
			custom_effect_tooltip = tech_category_tt
			custom_effect_tooltip = armor_tech_tt
			custom_effect_tooltip = cat_medium_armor_component_tt
		}

		categories = {
			armor_tech
			cat_medium_armor_component
		}
	}
	
	#Cruiser Grizzly Chassis
	tech_trm_medium_tank_chassis_usa_grizzly_1 = {
		allow = { 
			has_country_flag = UNLOCK:armor_folder
			if = {
				limit = { original_tag = CAN }
				has_completed_focus = CAN_the_american_mediums
				USA = { has_tech = tech_trm_medium_tank_chassis_usa_m4_1 }
			}
		} 
		
		enable_equipments = {
			trm_medium_tank_chassis_usa_grizzly_1
		}
		
		enable_equipment_modules = {
			trm_medium_tank_usa_grizzly_turret_1
		}
		
		path = {
			leads_to_tech = tech_trm_medium_tank_usa_grizzly_aa_1
			research_cost_coeff = 1
		}
		path = {
			leads_to_tech = tech_trm_medium_tank_can_m4_turret_4
			research_cost_coeff = 1
		}
		path = {
			leads_to_tech = tech_trm_medium_tank_can_m4_turret_open_3
			research_cost_coeff = 1
		}
		
		show_equipment_icon = yes
		
		research_cost = 1.6
		start_year = 1943
		folder = {
			name = trm_armour_eng_folder
			position = { x = @CHASSIS_MEDIUM6 y = @1943 }
		}		special_project_specialization = { specialization_land }
		ai_will_do = {
			factor = 0
		}
		on_research_complete = {
			set_temp_variable = { tech = token:tech_trm_medium_tank_chassis_usa_grizzly_1 }
			is_tech_ai_valid = yes
			if = {
				limit = {
					original_tag = CAN
				}
				custom_effect_tooltip = trm_eng_restriction_can_grizzly_tt
			}
			custom_effect_tooltip = tech_category_tt
			custom_effect_tooltip = armor_tech_tt
			custom_effect_tooltip = armor_chassis_tt
			custom_effect_tooltip = cat_medium_armor_tt
		}
		
		categories = {
			armor_tech
			armor_chassis
			cat_medium_armor
		}
	}
	
	#Skink Superstructure
	tech_trm_medium_tank_usa_grizzly_aa_1 = {
		allow = { has_country_flag = UNLOCK:armor_folder } 

		enable_equipment_modules = {
			trm_medium_tank_usa_grizzly_aa_1
		}
		
		research_cost = 0.8
		start_year = 1944
		folder = {
			name = trm_armour_eng_folder
			position = { x = @CHASSIS_MEDIUM6 y = @1944 }
		}		special_project_specialization = { specialization_land }
		ai_will_do = {
			factor = 0
		}
		on_research_complete = {
			set_temp_variable = { tech = token:tech_trm_medium_tank_usa_grizzly_aa_1 }
			is_tech_ai_valid = yes
			custom_effect_tooltip = tech_category_tt
			custom_effect_tooltip = armor_tech_tt
			custom_effect_tooltip = cat_medium_armor_component_tt
		}

		categories = {
			armor_tech
			cat_medium_armor_component
		}
	}
	
	## WEAPONS

	#BESA MG
	tech_trm_weapon_mg_eng_besa = {
		allow = { has_country_flag = UNLOCK:armor_folder } 
		
		enable_equipment_modules = {
			trm_weapon_mg_eng_besa
			trm_weapon_coax_mg_eng_besa
			trm_weapon_hull_mg_eng_besa
			trm_special_aamg_eng_besa
			trm_special_offset_mg_eng_besa
			trm_special_turret_mg_eng_besa
		}
		
		path = {
			leads_to_tech = tech_trm_weapon_aa_mg_eng_7_besa
			research_cost_coeff = 1
		}
		
		path = {
			leads_to_tech = tech_trm_weapon_mg_eng_besa_heavy
			research_cost_coeff = 1
		}
		
		dependencies = {
			hmg_2 = 1
		}
		
		show_equipment_icon = yes
		
		research_cost = 0.4
		start_year = 1938
		folder = {
			name = trm_armour_eng_folder
			position = { x = @GUN_COL1 y = @1938 }
		}		special_project_specialization = { specialization_land }
		ai_will_do = {
			factor = 0
		}
		on_research_complete = {
			set_temp_variable = { tech = token:tech_trm_weapon_mg_eng_besa }
			is_tech_ai_valid = yes
			custom_effect_tooltip = tech_category_tt
			custom_effect_tooltip = armor_tech_tt
			custom_effect_tooltip = armor_tech_component_tt
			custom_effect_tooltip = armor_tech_gun_tt
		}
		
		categories = {
			armor_tech
			armor_tech_component
			armor_tech_gun
		}
	}
	
	#BESA 15mm MG
	tech_trm_weapon_mg_eng_besa_heavy = {
		allow = { has_country_flag = UNLOCK:armor_folder } 
		
		enable_equipment_modules = {
			trm_weapon_mg_eng_besa_heavy
		}
		
		dependencies = {
			hmg_3 = 1
		}
		
		show_equipment_icon = yes
		
		research_cost = 0.4
		start_year = 1940
		folder = {
			name = trm_armour_eng_folder
			position = { x = @GUN_COL1 y = @1940 }
		}		special_project_specialization = { specialization_land }
		ai_will_do = {
			factor = 0
		}
		on_research_complete = {
			set_temp_variable = { tech = token:tech_trm_weapon_mg_eng_besa_heavy }
			is_tech_ai_valid = yes
			custom_effect_tooltip = tech_category_tt
			custom_effect_tooltip = armor_tech_tt
			custom_effect_tooltip = armor_tech_component_tt
			custom_effect_tooltip = armor_tech_gun_tt
		}
		
		categories = {
			armor_tech
			armor_tech_component
			armor_tech_gun
		}
	}
	
	#40mm 2pdr
	tech_trm_weapon_c_eng_40_2pdr = {
		allow = { has_country_flag = UNLOCK:armor_folder } 
		
		enable_equipment_modules = {
			trm_weapon_c_eng_40_2pdr
			trm_weapon_hull_c_eng_40_2pdr
		}
		
		dependencies = {
			interwar_antitank = 1
		}
		
		show_equipment_icon = yes
		
		research_cost = 0.6
		start_year = 1936
		folder = {
			name = trm_armour_eng_folder
			position = { x = @GUN_COL2 y = @1936 }
		}
		
		allow_branch = {
			OR = {
				original_tag = ENG
				original_tag = CAN
				original_tag = AST
				original_tag = SAF
			}
		}		special_project_specialization = { specialization_land }
		ai_will_do = {
			factor = 0
		}
		on_research_complete = {
			set_temp_variable = { tech = token:tech_trm_weapon_c_eng_40_2pdr }
			is_tech_ai_valid = yes
			custom_effect_tooltip = tech_category_tt
			custom_effect_tooltip = armor_tech_tt
			custom_effect_tooltip = armor_tech_component_tt
			custom_effect_tooltip = armor_tech_gun_tt
		}
		
		categories = {
			armor_tech
			armor_tech_component
			armor_tech_gun
		}
	}
	
	#40mm 2pdr Littlejohn Adapter
	tech_trm_weapon_c_eng_40_2pdr_lja = {
		allow = { has_country_flag = UNLOCK:armor_folder } 
		
		enable_equipment_modules = {
			trm_weapon_c_eng_40_2pdr_lja
		}
		
		dependencies = {
			tech_trm_weapon_c_eng_40_2pdr = 1
			improved_antitank = 1
		}
		
		show_equipment_icon = yes
		
		research_cost = 0.8
		start_year = 1943
		folder = {
			name = trm_armour_eng_folder
			position = { x = @GUN_COL2 y = @1943 }
		}		special_project_specialization = { specialization_land }
		ai_will_do = {
			factor = 0
		}
		on_research_complete = {
			set_temp_variable = { tech = token:tech_trm_weapon_c_eng_40_2pdr_lja }
			is_tech_ai_valid = yes
			custom_effect_tooltip = tech_category_tt
			custom_effect_tooltip = armor_tech_tt
			custom_effect_tooltip = armor_tech_component_tt
			custom_effect_tooltip = armor_tech_gun_tt
		}
		
		categories = {
			armor_tech
			armor_tech_component
			armor_tech_gun
		}
	}
	
	#57mm 6pdr Mk3
	tech_trm_weapon_c_eng_57_6pdr_mk3 = {
		allow = { has_country_flag = UNLOCK:armor_folder } 
		
		enable_equipment_modules = {
			trm_weapon_c_eng_57_6pdr_mk3
		}
		
		path = {
			leads_to_tech = tech_trm_weapon_c_eng_57_6pdr_mk5
			research_cost_coeff = 1
		}
		
		dependencies = {
			antitank2 = 1
		}
		
		show_equipment_icon = yes
		
		research_cost = 0.8
		start_year = 1941
		folder = {
			name = trm_armour_eng_folder
			position = { x = @GUN_COL2 y = @1941 }
		}
		
		allow_branch = {
			OR = {
				original_tag = ENG
				original_tag = CAN
				original_tag = SAF
				original_tag = AST
			}
		}		special_project_specialization = { specialization_land }
		ai_will_do = {
			factor = 0
		}
		on_research_complete = {
			set_temp_variable = { tech = token:trm_weapon_c_eng_57_6pdr_mk3 }
			is_tech_ai_valid = yes
			custom_effect_tooltip = tech_category_tt
			custom_effect_tooltip = armor_tech_tt
			custom_effect_tooltip = armor_tech_component_tt
			custom_effect_tooltip = armor_tech_gun_tt
		}
		
		categories = {
			armor_tech
			armor_tech_component
			armor_tech_gun
		}
	}
	
	#57mm 6pdr Mk5
	tech_trm_weapon_c_eng_57_6pdr_mk5 = {
		allow = { has_country_flag = UNLOCK:armor_folder } 
		
		enable_equipment_modules = {
			trm_weapon_c_eng_57_6pdr_mk5
		}
		
		path = {
			leads_to_tech = tech_trm_weapon_c_eng_75_mk5
			research_cost_coeff = 1
		}
		
		dependencies = {
			antitank4 = 1
		}
		
		show_equipment_icon = yes
		
		research_cost = 0.8
		start_year = 1942
		folder = {
			name = trm_armour_eng_folder
			position = { x = @GUN_COL2 y = @1942 }
		}		special_project_specialization = { specialization_land }
		ai_will_do = {
			factor = 0
		}
		on_research_complete = {
			set_temp_variable = { tech = token:trm_weapon_c_eng_57_6pdr_mk5 }
			is_tech_ai_valid = yes
			custom_effect_tooltip = tech_category_tt
			custom_effect_tooltip = armor_tech_tt
			custom_effect_tooltip = armor_tech_component_tt
			custom_effect_tooltip = armor_tech_gun_tt
		}
		
		categories = {
			armor_tech
			armor_tech_component
			armor_tech_gun
		}
	}
	
	#75mm QF Mk5
	tech_trm_weapon_c_eng_75_mk5 = {
		allow = { has_country_flag = UNLOCK:armor_folder } 
		
		enable_equipment_modules = {
			trm_weapon_c_eng_75_mk5
		}
		
		show_equipment_icon = yes
		
		research_cost = 0.8
		start_year = 1942
		folder = {
			name = trm_armour_eng_folder
			position = { x = @GUN_COL3 y = @1942 }
		}
		
		allow_branch = {
			OR = {
				original_tag = ENG
				original_tag = CAN
				original_tag = AST
			}
		}		special_project_specialization = { specialization_land }
		ai_will_do = {
			factor = 0
		}
		on_research_complete = {
			set_temp_variable = { tech = token:tech_trm_weapon_c_eng_75_mk5 }
			is_tech_ai_valid = yes
			custom_effect_tooltip = tech_category_tt
			custom_effect_tooltip = armor_tech_tt
			custom_effect_tooltip = armor_tech_component_tt
			custom_effect_tooltip = armor_tech_gun_tt
		}
		
		categories = {
			armor_tech
			armor_tech_component
			armor_tech_gun
		}
	}
	
	#76mm/3in 20cwt
	tech_trm_weapon_c_eng_76_20cwt = {
		allow = { has_country_flag = UNLOCK:armor_folder } 
		
		enable_equipment_modules = {
			trm_weapon_c_eng_76_20cwt
		}
		
		dependencies = {
			HVantiair2 = 1
		}
		
		show_equipment_icon = yes
		
		research_cost = 0.8
		start_year = 1941
		folder = {
			name = trm_armour_eng_folder
			position = { x = @GUN_COL3 y = @1941 }
		}
		
		allow_branch = {
			OR = {
				original_tag = ENG
				original_tag = CAN
				original_tag = AST
			}
		}		special_project_specialization = { specialization_land }
		ai_will_do = {
			factor = 0
		}
		on_research_complete = {
			set_temp_variable = { tech = token:tech_trm_weapon_c_eng_76_20cwt }
			is_tech_ai_valid = yes
			custom_effect_tooltip = tech_category_tt
			custom_effect_tooltip = armor_tech_tt
			custom_effect_tooltip = armor_tech_component_tt
			custom_effect_tooltip = armor_tech_gun_tt
		}
		
		categories = {
			armor_tech
			armor_tech_component
			armor_tech_gun
		}
	}
	
	#76mm 17pdr
	tech_trm_weapon_c_eng_76_17pdr = {
		allow = { has_country_flag = UNLOCK:armor_folder } 
		
		enable_equipment_modules = {
			trm_weapon_c_eng_76_17pdr
		}
		
		path = {
			leads_to_tech = tech_trm_weapon_c_eng_76_mk2
			research_cost_coeff = 1
		}
		
		path = {
			leads_to_tech = tech_trm_weapon_c_eng_84_20pdr
			research_cost_coeff = 1
		}
		
		path = {
			leads_to_tech = tech_trm_weapon_c_eng_94_32pdr
			research_cost_coeff = 1
		}
		
		dependencies = {
			artillery4 = 1
			HVantitank1 = 1
		}
		
		show_equipment_icon = yes
		
		research_cost = 0.8
		start_year = 1943
		folder = {
			name = trm_armour_eng_folder
			position = { x = @GUN_COL3 y = @1943 }
		}
		
		allow_branch = {
			OR = {
				original_tag = ENG
				original_tag = CAN
				original_tag = AST
			}
		}		special_project_specialization = { specialization_land }
		ai_will_do = {
			factor = 0
		}
		on_research_complete = {
			set_temp_variable = { tech = token:tech_trm_weapon_c_eng_76_17pdr }
			is_tech_ai_valid = yes
			custom_effect_tooltip = tech_category_tt
			custom_effect_tooltip = armor_tech_tt
			custom_effect_tooltip = armor_tech_component_tt
			custom_effect_tooltip = armor_tech_gun_tt
		}
		
		categories = {
			armor_tech
			armor_tech_component
			armor_tech_gun
		}
	}
	
	#77mm HV Mk2
	tech_trm_weapon_c_eng_76_mk2 = {
		allow = { has_country_flag = UNLOCK:armor_folder } 
		
		enable_equipment_modules = {
			trm_weapon_c_eng_76_mk2
		}
		
		show_equipment_icon = yes
		
		research_cost = 0.8
		start_year = 1944
		folder = {
			name = trm_armour_eng_folder
			position = { x = @GUN_COL3 y = @1944 }
		}		special_project_specialization = { specialization_land }
		ai_will_do = {
			factor = 0
		}
		on_research_complete = {
			set_temp_variable = { tech = token:tech_trm_weapon_c_eng_76_mk2 }
			is_tech_ai_valid = yes
			custom_effect_tooltip = tech_category_tt
			custom_effect_tooltip = armor_tech_tt
			custom_effect_tooltip = armor_tech_component_tt
			custom_effect_tooltip = armor_tech_gun_tt
		}
		
		categories = {
			armor_tech
			armor_tech_component
			armor_tech_gun
		}
	}
	
	#84mm 20pdr
	tech_trm_weapon_c_eng_84_20pdr = {
		allow = { has_country_flag = UNLOCK:armor_folder } 
		
		enable_equipment_modules = {
			trm_weapon_c_eng_84_20pdr
		}
		
		dependencies = {
			HVantitank3 = 1
		}
		
		show_equipment_icon = yes
		
		research_cost = 0.8
		start_year = 1947
		folder = {
			name = trm_armour_eng_folder
			position = { x = @GUN_COL4 y = @1947 }
		}
		
		allow_branch = {
			original_tag = ENG
		}		special_project_specialization = { specialization_land }
		ai_will_do = {
			factor = 0
		}
		on_research_complete = {
			set_temp_variable = { tech = token:tech_trm_weapon_c_eng_84_20pdr }
			is_tech_ai_valid = yes
			custom_effect_tooltip = tech_category_tt
			custom_effect_tooltip = armor_tech_tt
			custom_effect_tooltip = armor_tech_component_tt
			custom_effect_tooltip = armor_tech_gun_tt
		}
		
		categories = {
			armor_tech
			armor_tech_component
			armor_tech_gun
		}
	}
	
	#94mm 32pdr
	tech_trm_weapon_c_eng_94_32pdr = {
		allow = { has_country_flag = UNLOCK:armor_folder } 
		
		enable_equipment_modules = {
			trm_weapon_c_eng_94_32pdr
		}
		
		dependencies = {
			HVantitank3 = 1
		}
		
		show_equipment_icon = yes
		
		research_cost = 0.8
		start_year = 1945
		folder = {
			name = trm_armour_eng_folder
			position = { x = @GUN_COL5 y = @1945 }
		}
		
		allow_branch = {
			original_tag = ENG
		}		special_project_specialization = { specialization_land }
		ai_will_do = {
			factor = 0
		}
		on_research_complete = {
			set_temp_variable = { tech = token:tech_trm_weapon_c_eng_94_32pdr }
			is_tech_ai_valid = yes
			custom_effect_tooltip = tech_category_tt
			custom_effect_tooltip = armor_tech_tt
			custom_effect_tooltip = armor_tech_component_tt
			custom_effect_tooltip = armor_tech_gun_tt
		}
		
		categories = {
			armor_tech
			armor_tech_component
			armor_tech_gun
		}
	}
	
	#95mm QF Howitzer
	tech_trm_weapon_c_eng_95_how = {
		allow = { has_country_flag = UNLOCK:armor_folder } 
		
		enable_equipment_modules = {
			trm_weapon_c_eng_95_how
		}
		
		dependencies = {
			artillery4 = 1
			HVantiair2 = 1
		}
		
		show_equipment_icon = yes
		
		research_cost = 0.8
		start_year = 1943
		folder = {
			name = trm_armour_eng_folder
			position = { x = @GUN_COL5 y = @1943 }
		}
		
		allow_branch = {
			OR = {
				original_tag = ENG
				original_tag = CAN
				original_tag = AST
			}
		}		special_project_specialization = { specialization_land }
		ai_will_do = {
			factor = 0
		}
		on_research_complete = {
			set_temp_variable = { tech = token:tech_trm_weapon_c_eng_95_how }
			is_tech_ai_valid = yes
			custom_effect_tooltip = tech_category_tt
			custom_effect_tooltip = armor_tech_tt
			custom_effect_tooltip = armor_tech_component_tt
			custom_effect_tooltip = armor_tech_gun_tt
		}
		
		categories = {
			armor_tech
			armor_tech_component
			armor_tech_gun
		}
	}
	
	#88mm 25pdr
	tech_trm_weapon_art_eng_88_25pdr = {
		allow = { has_country_flag = UNLOCK:armor_folder } 
		
		enable_equipment_modules = {
			trm_weapon_art_eng_88_25pdr
		}
		
		dependencies = {
			artillery4 = 1
		}
		
		show_equipment_icon = yes
		
		research_cost = 0.8
		start_year = 1942
		folder = {
			name = trm_armour_eng_folder
			position = { x = @GUN_COL5 y = @1942 }
		}
		
		allow_branch = {
			OR = {
				original_tag = ENG
				original_tag = CAN
				original_tag = AST
			}
		}		special_project_specialization = { specialization_land }
		ai_will_do = {
			factor = 0
		}
		on_research_complete = {
			set_temp_variable = { tech = token:tech_trm_weapon_art_eng_88_25pdr }
			is_tech_ai_valid = yes
			custom_effect_tooltip = tech_category_tt
			custom_effect_tooltip = armor_tech_tt
			custom_effect_tooltip = armor_tech_component_tt
			custom_effect_tooltip = armor_tech_gun_tt
		}
		
		categories = {
			armor_tech
			armor_tech_component
			armor_tech_gun
		}
	}
	
	#88mm 25pdr Australian
	tech_trm_weapon_c_eng_88_25pdr = {
		allow = { has_country_flag = UNLOCK:armor_folder } 
		
		enable_equipment_modules = {
			trm_weapon_c_eng_88_25pdr
		}
		
		dependencies = {
			tech_trm_weapon_art_eng_88_25pdr = 1
		}
		
		show_equipment_icon = yes
		
		research_cost = 0.6
		start_year = 1943
		folder = {
			name = trm_armour_eng_folder
			position = { x = @GUN_COL5 y = @1943 }
		}
		
		allow_branch = {
			original_tag = AST
		}		special_project_specialization = { specialization_land }
		ai_will_do = {
			factor = 0
		}
		on_research_complete = {
			set_temp_variable = { tech = token:tech_trm_weapon_c_eng_88_25pdr }
			is_tech_ai_valid = yes
			custom_effect_tooltip = tech_category_tt
			custom_effect_tooltip = armor_tech_tt
			custom_effect_tooltip = armor_tech_component_tt
			custom_effect_tooltip = armor_tech_gun_tt
		}
		
		categories = {
			armor_tech
			armor_tech_component
			armor_tech_gun
		}
	}
	
	#BESA AAMG
	tech_trm_weapon_aa_mg_eng_7_besa = {
		allow = { has_country_flag = UNLOCK:armor_folder } 
		
		enable_equipment_modules = {
			trm_weapon_aa_mg_eng_7_besa_x2
			trm_weapon_aa_mg_eng_7_besa_x4
		}
		
		show_equipment_icon = yes
		
		research_cost = 0.4
		start_year = 1940
		folder = {
			name = trm_armour_eng_folder
			position = { x = @GUN_COL0 y = @1940 }
		}		special_project_specialization = { specialization_land }
		ai_will_do = {
			factor = 0
		}
		on_research_complete = {
			set_temp_variable = { tech = token:tech_trm_weapon_aa_mg_eng_7_besa }
			is_tech_ai_valid = yes
			custom_effect_tooltip = tech_category_tt
			custom_effect_tooltip = armor_tech_tt
			custom_effect_tooltip = armor_tech_component_tt
			custom_effect_tooltip = armor_tech_gun_tt
		}
		
		categories = {
			armor_tech
			armor_tech_component
			armor_tech_gun
		}
	}
	
	#20mm Oerlikon
	tech_trm_weapon_aa_ac_eng_20_oerlikon = {
		allow = { has_country_flag = UNLOCK:armor_folder } 
		
		enable_equipment_modules = {
			trm_weapon_aa_ac_eng_20_oerlikon
			trm_weapon_aa_ac_eng_20_oerlikon_x2
		}
		
		path = {
			leads_to_tech = tech_trm_weapon_aa_ac_eng_20_polsten
			research_cost_coeff = 1
		}
		
		dependencies = {
			antiair1 = 1
		}
		
		show_equipment_icon = yes
		
		research_cost = 0.6
		start_year = 1942
		folder = {
			name = trm_armour_eng_folder
			position = { x = @GUN_COL1 y = @1942 }
		}
		
		allow_branch = {
			OR = {
				original_tag = ENG
				original_tag = CAN
				original_tag = AST
				original_tag = SAF
			}
		}		special_project_specialization = { specialization_land }
		ai_will_do = {
			factor = 0
		}
		on_research_complete = {
			set_temp_variable = { tech = token:tech_trm_weapon_aa_ac_eng_20_oerlikon }
			is_tech_ai_valid = yes
			custom_effect_tooltip = tech_category_tt
			custom_effect_tooltip = armor_tech_tt
			custom_effect_tooltip = armor_tech_component_tt
			custom_effect_tooltip = armor_tech_gun_tt
		}
		
		categories = {
			armor_tech
			armor_tech_component
			armor_tech_gun
		}
	}
	
	#20mm Polsten
	tech_trm_weapon_aa_ac_eng_20_polsten = {
		allow = { has_country_flag = UNLOCK:armor_folder } 
		
		enable_equipment_modules = {
			trm_weapon_aa_ac_eng_20_polsten
			trm_weapon_aa_ac_eng_20_polsten_x2
			trm_weapon_aa_ac_eng_20_polsten_x4
		}
		
		dependencies = {
			antiair3 = 1
		}
		
		show_equipment_icon = yes
		
		research_cost = 0.6
		start_year = 1943
		folder = {
			name = trm_armour_eng_folder
			position = { x = @GUN_COL1 y = @1943 }
		}		special_project_specialization = { specialization_land }
		ai_will_do = {
			factor = 0
		}
		on_research_complete = {
			set_temp_variable = { tech = token:tech_trm_weapon_aa_ac_eng_20_polsten }
			is_tech_ai_valid = yes
			custom_effect_tooltip = tech_category_tt
			custom_effect_tooltip = armor_tech_tt
			custom_effect_tooltip = armor_tech_component_tt
			custom_effect_tooltip = armor_tech_gun_tt
		}
		
		categories = {
			armor_tech
			armor_tech_component
			armor_tech_gun
		}
	}
	
	#40mm Bofors
	tech_trm_weapon_aa_ac_eng_40_bofors = {
		allow = { has_country_flag = UNLOCK:armor_folder } 
		
		enable_equipment_modules = {
			trm_weapon_aa_ac_eng_40_bofors
			trm_weapon_aa_ac_eng_40_bofors_x2
		}
		
		dependencies = {
			antiair3 = 1
		}
		
		show_equipment_icon = yes
		
		research_cost = 0.8
		start_year = 1942
		folder = {
			name = trm_armour_eng_folder
			position = { x = @GUN_COL0 y = @1942 }
		}
		
		allow_branch = {
			OR = {
				original_tag = ENG
				original_tag = CAN
				original_tag = AST
				original_tag = SAF
			}
		}		special_project_specialization = { specialization_land }
		ai_will_do = {
			factor = 0
		}
		on_research_complete = {
			set_temp_variable = { tech = token:tech_trm_weapon_aa_ac_eng_40_bofors }
			is_tech_ai_valid = yes
			custom_effect_tooltip = tech_category_tt
			custom_effect_tooltip = armor_tech_tt
			custom_effect_tooltip = armor_tech_component_tt
			custom_effect_tooltip = armor_tech_gun_tt
		}
		
		categories = {
			armor_tech
			armor_tech_component
			armor_tech_gun
		}
	}
	
	## AMMO
	
	#40mm/57mm AP
	tech_trm_ammo_eng_ap_small = {
		allow = { has_country_flag = UNLOCK:armor_folder } 
		
		xp_research_type = army
		xp_boost_cost = 25
		xp_research_bonus = 0.25
		
		enable_equipment_modules = {
			trm_ammo_c_eng_40_2pdr
			trm_ammo_c_eng_57_6pdr_mk3
			trm_ammo_c_eng_57_6pdr_mk5
		}
		
		path = {
			leads_to_tech = tech_trm_ammo_eng_apds
			research_cost_coeff = 1
		}
		
		show_equipment_icon = yes
		
		dependencies = {
			advanced_machine_tools = 1
		}
		
		research_cost = 0.8
		start_year = 1941
		folder = {
			name = trm_armour_eng_folder
			position = { x = @AMMO_COL1 y = @1941 }
		}
		
		allow_branch = {
			OR = {
				original_tag = ENG
				original_tag = CAN
				original_tag = AST
				original_tag = SAF
			}
		}		special_project_specialization = { specialization_land }
		ai_will_do = {
			factor = 0
		}
		on_research_complete = {
			set_temp_variable = { tech = token:tech_trm_ammo_eng_ap_small }
			is_tech_ai_valid = yes
			custom_effect_tooltip = tech_category_tt
			custom_effect_tooltip = armor_tech_tt
			custom_effect_tooltip = armor_tech_component_tt
			custom_effect_tooltip = armor_tech_ammo_tt
		}
		
		categories = {
			armor_tech
			armor_tech_component
			armor_tech_ammo
		}
	}
	
	#57mm/76mm/84mm APDS
	tech_trm_ammo_eng_apds = {
		allow = { has_country_flag = UNLOCK:armor_folder } 
		
		xp_research_type = army
		xp_boost_cost = 25
		xp_research_bonus = 0.25
		
		enable_equipment_modules = {
			trm_ammo_c_eng_57_6pdr_mk5_2
			trm_ammo_c_eng_76_17pdr
			trm_ammo_c_eng_76_mk2
			trm_ammo_c_eng_84_20pdr
		}
		
		dependencies = {
			assembly_line_production = 1
		}
		
		show_equipment_icon = yes
		
		research_cost = 2.0
		start_year = 1944
		folder = {
			name = trm_armour_eng_folder
			position = { x = @AMMO_COL1 y = @1944 }
		}		special_project_specialization = { specialization_land }
		ai_will_do = {
			factor = 0
		}
		on_research_complete = {
			set_temp_variable = { tech = token:tech_trm_ammo_eng_apds }
			is_tech_ai_valid = yes
			custom_effect_tooltip = tech_category_tt
			custom_effect_tooltip = armor_tech_tt
			custom_effect_tooltip = armor_tech_component_tt
			custom_effect_tooltip = armor_tech_ammo_tt
		}
		
		categories = {
			armor_tech
			armor_tech_component
			armor_tech_ammo
		}
	}
	
	#95mm HEAT
	tech_trm_ammo_eng_heat = {
		allow = { has_country_flag = UNLOCK:armor_folder } 
		
		xp_research_type = army
		xp_boost_cost = 25
		xp_research_bonus = 0.25
		
		enable_equipment_modules = {
			trm_ammo_c_eng_95_how
		}
		
		dependencies = {
			chemical_industry_ii = 1
		}
		
		show_equipment_icon = yes
		
		research_cost = 0.8
		start_year = 1944
		folder = {
			name = trm_armour_eng_folder
			position = { x = @AMMO_COL2 y = @1944 }
		}
		
		allow_branch = {
			OR = {
				original_tag = ENG
				original_tag = CAN
				original_tag = AST
			}
		}		special_project_specialization = { specialization_land }
		ai_will_do = {
			factor = 0
		}
		on_research_complete = {
			set_temp_variable = { tech = token:tech_trm_ammo_eng_heat }
			is_tech_ai_valid = yes
			custom_effect_tooltip = tech_category_tt
			custom_effect_tooltip = armor_tech_tt
			custom_effect_tooltip = armor_tech_component_tt
			custom_effect_tooltip = armor_tech_ammo_tt
		}
		
		categories = {
			armor_tech
			armor_tech_component
			armor_tech_ammo
		}
	}
	
	#M1919 US
	tech_trm_weapon_mg_usa_m1919_can = {

		enable_equipments = { 
			trm_weapon_mg_usa_m1919
			trm_weapon_mg_usa_m1919_x2
			
			trm_weapon_coax_mg_usa_m1919
			trm_weapon_coax_mg_usa_m1919_x2

			trm_weapon_hull_mg_usa_m1919
			trm_weapon_hull_mg_usa_m1919_x2

			trm_special_aamg_usa_m1919

			trm_special_offset_mg_usa_m1919

			trm_special_turret_mg_usa_m1919
		}

		research_cost = 0.5
		start_year = 1930

		#set at gamestart
		allow = {
			always = no
		}
	}
	
	#M2 US
	tech_trm_weapon_mg_usa_m2_can = {

		enable_equipments = { 
			trm_weapon_mg_usa_m2
			
			trm_weapon_coax_mg_usa_m2
			trm_weapon_coax_mg_usa_m2_x2
			
			trm_weapon_hull_mg_usa_m2
			trm_weapon_hull_mg_usa_m2_x2

			trm_special_aamg_usa_m2
		}

		research_cost = 0.5
		start_year = 1930

		#set at gamestart
		allow = {
			always = no
		}
	}

	#75mm M2 US
	tech_trm_weapon_c_usa_75_m2_can = {
		allow = { 
			has_country_flag = UNLOCK:armor_folder
			if = {
				limit = { original_tag = CAN }
				has_completed_focus = CAN_the_american_mediums
				USA = { has_tech = tech_trm_weapon_c_usa_75_m2 }
			}
		}
		
		enable_equipment_modules = {
			trm_weapon_c_usa_75_m2
		}
		
		path = {
			leads_to_tech = tech_trm_weapon_c_usa_75_m3_can
			research_cost_coeff = 1
		}
		
		show_equipment_icon = yes
		
		research_cost = 0.8
		start_year = 1941
		folder = {
			name = trm_armour_eng_folder
			position = { x = @GUN_COL4 y = @1941 }
		}
		
		allow_branch = {
			original_tag = CAN
		}		special_project_specialization = { specialization_land }
		ai_will_do = {
			factor = 0
		}
		on_research_complete = {
			set_temp_variable = { tech = token:tech_trm_weapon_c_usa_75_m2_can }
			is_tech_ai_valid = yes
			if = {
				limit = {
					original_tag = CAN
				}
				custom_effect_tooltip = trm_eng_restriction_can_75m2_tt
			}
			custom_effect_tooltip = tech_category_tt
			custom_effect_tooltip = armor_tech_tt
			custom_effect_tooltip = armor_tech_component_tt
			custom_effect_tooltip = armor_tech_gun_tt
		}
		
		categories = {
			armor_tech
			armor_tech_component
			armor_tech_gun
		}
	}
	
	#75mm M3 US
	tech_trm_weapon_c_usa_75_m3_can = {
		allow = { 
			has_country_flag = UNLOCK:armor_folder
			if = {
				limit = { original_tag = CAN }
				has_completed_focus = CAN_the_american_mediums
				USA = { has_tech = tech_trm_weapon_c_usa_75_m3 }
			}
		}
		
		enable_equipment_modules = {
			trm_weapon_c_usa_75_m3
		}
		
		show_equipment_icon = yes
		
		research_cost = 0.6
		start_year = 1942
		folder = {
			name = trm_armour_eng_folder
			position = { x = @GUN_COL4 y = @1942 }
		}
		
		allow_branch = {
			original_tag = CAN
		}		special_project_specialization = { specialization_land }
		ai_will_do = {
			factor = 0
		}
		on_research_complete = {
			set_temp_variable = { tech = token:tech_trm_weapon_c_usa_75_m3_can }
			is_tech_ai_valid = yes
			if = {
				limit = {
					original_tag = CAN
				}
				custom_effect_tooltip = trm_eng_restriction_can_75m3_tt
			}
			custom_effect_tooltip = tech_category_tt
			custom_effect_tooltip = armor_tech_tt
			custom_effect_tooltip = armor_tech_component_tt
			custom_effect_tooltip = armor_tech_gun_tt
		}
		
		categories = {
			armor_tech
			armor_tech_component
			armor_tech_gun
		}
	}
}
###EOF###