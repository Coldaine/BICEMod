### search_filters = {FOCUS_FILTER_POLITICAL}
### search_filters = {FOCUS_FILTER_RESEARCH}
### search_filters = {FOCUS_FILTER_RESEARCHCENTER}
### search_filters = {FOCUS_FILTER_INDUSTRY}
### search_filters = {FOCUS_FILTER_STABILITY}
### search_filters = {FOCUS_FILTER_WAR_SUPPORT}
### search_filters = {FOCUS_FILTER_MANPOWER}
### search_filters = {FOCUS_FILTER_ANNEXATION}
### search_filters = {FOCUS_FILTER_AIRFORCE}
### search_filters = {FOCUS_FILTER_ARMY}
### search_filters = {FOCUS_FILTER_NAVY}
### search_filters = {FOCUS_FILTER_ICCOST_REDUCTION}
### search_filters = {FOCUS_FILTER_FORTIFICATION}
### search_filters = {FOCUS_FILTER_INFRASTRUCTURE}
### search_filters = {FOCUS_FILTER_FOREIGN_DIPLOMACY}

focus_tree = {
	id = french_focus
	
	country = {
		factor = 0
		
		modifier = {
			add = 10
			tag = FRA
		}
	}
	
	default = no
	
    continuous_focus_position = { x = 3100 y = 1100 }
	
	shortcut = {
		name = FRA_spain_crisis
		target = FRA_spain_crisis 
		scroll_wheel_factor = 1
	}	
	shortcut = {
		name = FRA_budget_crisis
		target = FRA_budget_crisis 
		scroll_wheel_factor = 1
	}	
	shortcut = {
		name = FRA_1936_election_crisis
		target = FRA_1936_election_crisis 
		scroll_wheel_factor = 1
	}		
	shortcut = {
		name = FRA_promise_econ_renewal
		target = FRA_promise_econ_renewal 
		scroll_wheel_factor = 1
	}		
	shortcut = {
		name = FRA_rearmament
		target = FRA_rearmament 
		scroll_wheel_factor = 1
	}		
	shortcut = {
		name = FRA_military_review
		target = FRA_military_review 
		scroll_wheel_factor = 1
	}		
	shortcut = {
		name = FRA_foreign_diplo
		target = FRA_foreign_diplo 
		scroll_wheel_factor = 1
	}			
	shortcut = {
		name = FRA_another_great_war
		target = FRA_another_great_war 
		scroll_wheel_factor = 1
	}
	#########################
	#### CRISIS SECTION #####
	#########################
	
########## Election Crisis ##########
	
	focus = {
		id = FRA_1936_election_crisis
		icon = GFX_goal_fra_crisis_election
		x = 2
		y = 0
		offset = {
			x = 7
			y = 5
			trigger = {
				OR = {
					has_country_flag = FRA_spanish_crisis
					has_country_flag = FRA_budget_crisis_flag
					has_country_flag = testing
				}
			}
		}
		cost = 1
		search_filters = { FOCUS_FILTER_POLITICAL }
		
		available_if_capitulated = yes
		allow_branch  = {
			or = {
				has_country_flag = FRA_election_crisis
				has_country_flag = testing
			}
			NOT = { has_global_flag = fall_of_france }
		}
		
		bypass = {
			has_country_flag = FRA_election_crisis
		}
		
		completion_reward = {
			add_stability = -0.1
		}
	}
	
	focus = {
		id = FRA_democratic_gov
		icon = GFX_goal_FRA_support_democracy
		mutually_exclusive = { focus = FRA_popular_front }
		#mutually_exclusive = { focus = FRA_parliment_riots }
		prerequisite = { focus = FRA_1936_election_crisis }
		relative_position_id = FRA_1936_election_crisis
		x = 3
		y = 1
		cost = 10
		search_filters = { FOCUS_FILTER_POLITICAL }
		
		available_if_capitulated = yes
		
		completion_reward = {
			add_stability = 0.05
			add_popularity = {
				ideology = conservatism
				popularity = 0.10
			}
			country_event = { id = franceBiceE.01 }
			hidden_effect = {
				ENG = { country_event = franceBiceE.84 }
				GER = { country_event = franceBiceE.84 }
			}
		}
	}
	
	focus = {
		id = FRA_arrest_union_leaders
		icon = GFX_goal_rescue_bela_kun
		prerequisite = { focus = FRA_democratic_gov }
		relative_position_id = FRA_democratic_gov
		x = -1
		y = 1
		cost = 50
		search_filters = { FOCUS_FILTER_POLITICAL }
		
		available_if_capitulated = yes
		
		completion_reward = {
			add_popularity = {
				ideology = fascism
				popularity = 0.05
			}
			if = {
				limit = {
					has_idea = security_liberty_first
				}
				swap_ideas = {
					remove_idea = security_liberty_first
					add_idea = security_minor_restrictions
				}
			}
		}
	}
	
	focus = {
		id = FRA_ban_commie_newspapers
		icon = GFX_goal_news_censored
		prerequisite = { focus = FRA_democratic_gov }
		relative_position_id = FRA_democratic_gov
		x = 1
		y = 1
		cost = 50
		search_filters = { FOCUS_FILTER_POLITICAL }
		
		available_if_capitulated = yes
		
		completion_reward = {
			add_popularity = {
				ideology = fascism
				popularity = 0.05
			}
			if = {
				limit = {
					has_idea = press_free
				}
				swap_ideas = {
					remove_idea = press_free
					add_idea = press_regulated
				}
			}
		}
	}
	
	focus = {
		id = FRA_crush_strikers
		icon = GFX_goal_generic_political_pressure
		prerequisite = { focus = FRA_ban_commie_newspapers }
		prerequisite = { focus = FRA_arrest_union_leaders }
		relative_position_id = FRA_democratic_gov
		x = 0
		y = 2
		cost = 50
		search_filters = { FOCUS_FILTER_POLITICAL }
		
		available_if_capitulated = yes
		
		completion_reward = {
			swap_ideas = {
				add_idea = FRA_general_strike_1
				remove_idea = FRA_general_strike_3
			}
		}
	}
	
	focus = {
		id = FRA_deregulate_arms_industry
		icon = GFX_goal_indyclone_funding_restraints
		mutually_exclusive = { focus = FRA_nationalisation_acts }
		prerequisite = { focus = FRA_crush_strikers }
		relative_position_id = FRA_crush_strikers
		x = -1
		y = 1
		cost = 30
		search_filters = { FOCUS_FILTER_POLITICAL }
		
		available_if_capitulated = yes
		
		completion_reward = {
			add_political_power = 50
			custom_effect_tooltip = Unlock_balanced
		}
	}
	
	focus = {
		id = FRA_back_to_work
		icon = GFX_goal_Officers_Command
		prerequisite = { focus = FRA_deregulate_arms_industry focus = FRA_nationalisation_acts }
		prerequisite = { focus = FRA_crush_strikers }
		relative_position_id = FRA_deregulate_arms_industry
		x = 1
		y = 1
		cost = 100
		search_filters = { FOCUS_FILTER_POLITICAL }
		
		available_if_capitulated = yes
		
		completion_reward = {
			clr_country_flag = FRA_in_crisis
			clr_country_flag = FRA_election_crisis
			custom_effect_tooltip = FRA_clear_crisis
			if = {
				limit = {
					has_idea = FRA_general_strike_3
				}
				remove_ideas = FRA_general_strike_3
			}
			if = {
				limit = {
					has_idea = FRA_general_strike_2
				}
				remove_ideas = FRA_general_strike_2
			}
			if = {
				limit = {
					has_idea = FRA_general_strike_1
				}
				remove_ideas = FRA_general_strike_1
			}
			country_event = { id = franceBiceE.17 }
		}
	}
	
	focus = {
		id = FRA_popular_front
		icon = GFX_goal_fra_popular_front
		mutually_exclusive = { focus = FRA_democratic_gov }
		#mutually_exclusive = { focus = FRA_parliment_riots }
		prerequisite = { focus = FRA_1936_election_crisis }
		relative_position_id = FRA_1936_election_crisis
		x = -3
		y = 1
		cost = 10
		search_filters = { FOCUS_FILTER_POLITICAL }
		search_filters = { FOCUS_FILTER_STABILITY }
		
		available_if_capitulated = yes
		
		completion_reward = {
			add_stability = 0.05
			country_event = { id = france.32 }
			hidden_effect = {
				ENG = { country_event = franceBiceE.83 }
				GER = { country_event = franceBiceE.83 }
				country_event = { id = france.32 random_days = 15 }
			}
			if = {
				limit = {
					is_ai = yes
				}
				hidden_effect = {
					add_stability = 0.1
				}
			}
		}
	}
	
	focus = {
		id = FRA_nationalisation_acts
		icon = GFX_goal_court_rulling
		prerequisite = { focus = FRA_democratic_gov focus = FRA_popular_front }
		mutually_exclusive = { focus = FRA_deregulate_arms_industry }
		relative_position_id = FRA_democratic_gov
		x = -3
		y = 3
		cost = 30
		search_filters = { FOCUS_FILTER_POLITICAL }
		
		available_if_capitulated = yes
		
		completion_reward = {
			add_political_power = -50
			custom_effect_tooltip = Unlock_nationalisation
			if = {
				limit = {
					has_idea = key_industries
				}
				swap_ideas = {
					remove_idea = key_industries
					add_idea = major_industries
				}
			}
		}
	}
	
	focus = {
		id = FRA_rush_worker_reforms
		icon = GFX_goal_generic_dangerous_deal
		prerequisite = { focus = FRA_popular_front }
		relative_position_id = FRA_popular_front
		x = 0
		y = 1
		cost = 15
		search_filters = { FOCUS_FILTER_POLITICAL }
		
		available_if_capitulated = yes
		
		completion_reward = {
			swap_ideas = {
				add_idea = FRA_general_strike_2
				remove_idea = FRA_general_strike_3
			}
		}
	}
	
	focus = {
		id = FRA_40hr_week
		icon = GFX_goal_fra_ref_40hrs
		prerequisite = { focus = FRA_rush_worker_reforms }
		relative_position_id = FRA_rush_worker_reforms
		x = -1
		y = 1
		cost = 15
		search_filters = { FOCUS_FILTER_POLITICAL }
		search_filters = { FOCUS_FILTER_STABILITY }
		
		available_if_capitulated = yes
		
		completion_reward = {
			add_stability = 0.05
			custom_effect_tooltip = Matignon_promise
		}
	}
	
	focus = {
		id = FRA_right_to_union
		icon = GFX_goal_fra_ref_unions
		prerequisite = { focus = FRA_rush_worker_reforms }
		relative_position_id = FRA_rush_worker_reforms
		x = 1
		y = 1
		cost = 15
		search_filters = { FOCUS_FILTER_POLITICAL }
		search_filters = { FOCUS_FILTER_STABILITY }
		
		available_if_capitulated = yes
		
		completion_reward = {
			add_stability = 0.05
			custom_effect_tooltip = Matignon_promise
		}
	}
	
	focus = {
		id = FRA_minimum_wage
		icon = GFX_goal_fra_ref_wages
		prerequisite = { focus = FRA_40hr_week }
		relative_position_id = FRA_40hr_week
		x = 0
		y = 1
		cost = 15
		search_filters = { FOCUS_FILTER_POLITICAL }
		search_filters = { FOCUS_FILTER_STABILITY }
		
		available_if_capitulated = yes
		
		completion_reward = {
			add_stability = 0.05
			custom_effect_tooltip = Matignon_promise
		}
	}
	
	focus = {
		id = FRA_vacation_time
		icon = GFX_goal_fra_ref_vacation
		prerequisite = { focus = FRA_right_to_union }
		relative_position_id = FRA_right_to_union
		x = 0
		y = 1
		cost = 15
		search_filters = { FOCUS_FILTER_POLITICAL }
		search_filters = { FOCUS_FILTER_STABILITY }
		
		available_if_capitulated = yes
		
		completion_reward = {
			add_stability = 0.05
			custom_effect_tooltip = Matignon_promise
		}
	}
	
	focus = {
		id = FRA_matignon_agreement_focus
		icon = GFX_goal_generic_forceful_treaty
		prerequisite = { focus = FRA_vacation_time focus = FRA_minimum_wage }
		prerequisite = { focus = FRA_nationalisation_acts }
		relative_position_id = FRA_minimum_wage
		x = 2
		y = 1
		cost = 30
		search_filters = { FOCUS_FILTER_POLITICAL }
		search_filters = { FOCUS_FILTER_STABILITY }
		
		available = {
			has_completed_focus = FRA_nationalisation_acts
		}
		available_if_capitulated = yes
		
		completion_reward = {
			custom_effect_tooltip = FRA_clear_crisis
			clr_country_flag = FRA_in_crisis
			clr_country_flag = FRA_election_crisis
			add_stability = 0.10
			if = {
				limit = {
					has_idea = FRA_general_strike_3
				}
				remove_ideas = FRA_general_strike_3
			}
			if = {
				limit = {
					has_idea = FRA_general_strike_2
				}
				remove_ideas = FRA_general_strike_2
			}
			if = {
				limit = {
					has_idea = FRA_general_strike_1
				}
				remove_ideas = FRA_general_strike_1
			}
			if = {
				limit = {
					and = {
						has_completed_focus = FRA_vacation_time
						has_completed_focus = FRA_minimum_wage
					}
				}
				custom_effect_tooltip = Matignon_agreement_full
				add_ideas = FRA_matignon_agreements
				set_country_flag = FRA_matignon_full_flag
			}
			else = {
				custom_effect_tooltip = Matignon_agreement_weak
				add_ideas = FRA_matignon_agreements_weak
				set_country_flag = FRA_matignon_weak_flag
			}
			country_event = { id = france.36 }
		}
	}
	
	#focus = {
	#	id = FRA_parliment_riots
	#	icon = GFX_goal_dissolve_parliment
	#	mutually_exclusive = { focus = FRA_popular_front }
	#	mutually_exclusive = { focus = FRA_democratic_gov }
	#	prerequisite = { focus = FRA_1936_election_crisis }
	#	relative_position_id = FRA_1936_election_crisis
	#	x = 5
	#	y = 1
	#	cost = 30
	#	search_filters = { FOCUS_FILTER_POLITICAL }
	#	
	#	available = {
	#		always = no
	#		#path not finished yet!
	#	}
	#	available_if_capitulated = yes
	#	
	#	completion_reward = {
	#		add_stability = -0.2
	#		country_event = { id = franceBiceE.02 }
	#		custom_effect_tooltip = BiceE_WIP
	#	}
	#}
	#
	#focus = {
	#	id = FRA_empower_commise
	#	icon = GFX_goal_trotskyite_plot_purged
	#	mutually_exclusive = { focus = FRA_empower_far_right }
	#	prerequisite = { focus = FRA_parliment_riots }
	#	relative_position_id = FRA_parliment_riots
	#	x = -1
	#	y = 1
	#	cost = 30
	#	search_filters = { FOCUS_FILTER_POLITICAL }
	#	
	#	available_if_capitulated = yes
	#
	#	completion_reward = {
	#		custom_effect_tooltip = BiceE_WIP
	#	}
	#}
	#
	#focus = {
	#	id = FRA_empower_far_right
	#	icon = GFX_goal_fra_popular_party
	#	mutually_exclusive = { focus = FRA_empower_commise }
	#	prerequisite = { focus = FRA_parliment_riots }
	#	relative_position_id = FRA_parliment_riots
	#	x = 1
	#	y = 1
	#	cost = 30
	#	search_filters = { FOCUS_FILTER_ARMY }
	#	
	#	available_if_capitulated = yes
	#	
	#	completion_reward = {
	#		custom_effect_tooltip = BiceE_WIP
	#	}
	#}
	
########## Spanish Civil War Crisis ##########
	
	focus = {
		id = FRA_spain_crisis
		icon = GFX_goal_fra_crisis_spain
		x = 3
		y = 0
		cost = 1
		search_filters = { FOCUS_FILTER_POLITICAL }
		
		available_if_capitulated = yes
		allow_branch = {
			or = {
				has_country_flag = FRA_spanish_crisis
				has_country_flag = testing
			}
			NOT = { has_global_flag = fall_of_france }
		}
		
		bypass = {
			has_country_flag = FRA_spanish_crisis
		}
		
		completion_reward = {
			add_stability = -0.1
			add_war_support = 0.05
		}
	}
	
	focus = {
		id = FRA_intervene_in_spain
		icon = GFX_goal_attack_spa
		mutually_exclusive = { focus = FRA_secret_support }
		mutually_exclusive = { focus = FRA_non_intervention_agreement }
		prerequisite = { focus = FRA_spain_crisis }
		relative_position_id = FRA_spain_crisis
		x = 4
		y = 1
		cost = 70
		search_filters = { FOCUS_FILTER_ARMY }
		search_filters = { FOCUS_FILTER_FOREIGN_DIPLOMACY }
		
		available = {
			if = {
				limit = {
					is_ai = no
					ENG = {
						has_completed_focus = ENG_global_defense
					}
				}
				OR = {
					has_stability > 0.4
					ENG = {
						has_completed_focus = ENG_support_spain
					}
				}
			}
			if = {
				limit = {
					is_ai = no
					ENG = {
						NOT = { has_completed_focus = ENG_global_defense }
					}
				}
				OR = {
					has_stability > 0.6
					custom_trigger_tooltip = {
						tooltip = FRA_spanish_intervention_tt
						ENG = {
							has_completed_focus = ENG_global_defense
						}
					}
				}
			}
		}
		cancelable = no
		#will_lead_to_war_with = SPA #how to handle dynamic tag here?
		bypass = {
			has_war_with = SPA
		}
		
		select_effect = {
			news_event = { id = franceBiceE.80 hours = 12 }
		}
		
		completion_reward = {
			if = {
				limit = {
					ENG = {
						NOT = {
							has_completed_focus = ENG_global_defense
						}
					}
				}
				custom_effect_tooltip = FRA_intervention_tooltip_BiceE
				ENG = {
					add_opinion_modifier = {
						target = FRA
						modifier = condemn_aggression 
					}
				}
			}
			set_rule = {
				can_send_volunteers = yes
			}
			SPR = {
				ROOT_bypass_volunteer_ideology_for_THIS = yes
			}
			add_ideas = { FRA_intervention_idea }
			GER = {
				country_event = { days = 5 id = franceBiceE.40 }
			}
			hidden_effect = {
				add_stability = 0.40
			}
		}
		
		ai_will_do = {		# Needed for BICE ai_strategy_plan
			factor = 20
			
			modifier = {
				add = 20
				ENG = {
					has_completed_focus = ENG_global_defense
				}
			}
			modifier = {
				add = 20
				has_completed_focus = FRA_matignon_agreement_focus
			}
			modifier = {
				add = 30
				ENG = {
					has_completed_focus = ENG_support_spain
				}
			}
			modifier = {
				add = 30
				has_stability > 0.5
			}
			modifier = {
				factor = 0
				has_war = yes
			}
		}
	}
	
	focus = {
		id = FRA_international_legions
		icon = GFX_goal_focus_communist_army
		prerequisite = { focus = FRA_intervene_in_spain }
		relative_position_id = FRA_intervene_in_spain
		x = 0
		y = 1
		cost = 30
		search_filters = { FOCUS_FILTER_MANPOWER }
		
		available_if_capitulated = yes
		
		completion_reward = {
			add_manpower = 50000
			hidden_effect = {
				add_equipment_to_stockpile = { type = infantry_equipment amount = 1000 producer = FRA }
			}
		}
	}
	
	focus = {
		id = FRA_spa_give_commies_more_power
		icon = GFX_goal_communist_revolt
		prerequisite = { focus = FRA_international_legions }
		relative_position_id = FRA_international_legions
		mutually_exclusive = { focus = FRA_uk_help_spain }
		x = 1
		y = 1
		cost = 30
		search_filters = { FOCUS_FILTER_MANPOWER }
		
		available_if_capitulated = yes
		
		completion_reward = {
			add_manpower = 30000
			add_popularity = {
				ideology = communism
				popularity = 0.10
			}
		}
		
		ai_will_do = {	# AI logic for decided whether to ask UK or USSR for help
			factor = 20
			
			modifier = {
				add = 20
				ENG = {
					has_completed_focus = ENG_home_defence
				}
			}
			modifier = {
				factor = 0
				has_completed_focus = FRA_democratic_gov
			}
			modifier = {
				factor = 0
				is_in_faction_with = ENG
			}
		}
	}
	
	focus = {
		id = FRA_spa_work_with_soviets
		icon = GFX_goal_sov_arms_deal
		prerequisite = { focus = FRA_spa_give_commies_more_power }
		relative_position_id = FRA_spa_give_commies_more_power
		x = 0
		y = 1
		cost = 30
		search_filters = { FOCUS_FILTER_FOREIGN_DIPLOMACY }
		
		available_if_capitulated = yes
		available = {
			NOT = {
				is_in_faction_with = ENG
			}
		}
		
		completion_reward = {
			SPR = {
				add_equipment_to_stockpile = { type = infantry_equipment amount = 2000 producer = SOV }
				add_equipment_to_stockpile = { type = artillery_equipment amount = 500 producer = SOV }
			}
		}
		
		ai_will_do = {		# Needed for BICE ai_strategy_plan
			factor = 100
		}
	}
	
	focus = {
		id = FRA_uk_help_spain
		icon = GFX_focus_chi_british_cooperation
		prerequisite = { focus = FRA_international_legions }
		relative_position_id = FRA_international_legions
		mutually_exclusive = { focus = FRA_spa_give_commies_more_power }
		x = 3
		y = 1
		cost = 30
		search_filters = { FOCUS_FILTER_FOREIGN_DIPLOMACY }
		
		available = {
			NOT = { has_war_with = ENG }
			democratic_govt = yes
		}
		available_if_capitulated = yes
		bypass = {
			is_in_faction_with = ENG
		}
		
		completion_reward = {
			ENG = {
				custom_effect_tooltip = needs_approval
				country_event = { id = franceBiceE.13 days = 1 }
			}
			effect_tooltip = {
				SPR = {
					add_equipment_to_stockpile = { type = infantry_equipment amount = 1000 producer = ENG }
				}
			}
		}
		
		ai_will_do = {	# AI logic for decided whether to ask UK or USSR for help
			factor = 20
			
			modifier = {
				add = 20
				ENG = {
					has_completed_focus = ENG_global_defense
				}
			}
			modifier = {
				add = 30
				ENG = {
					has_completed_focus = ENG_support_spain
				}
			}
			modifier = {
				factor = 0
				OR = {
					ENG = { has_war_with = JAP }
					ENG = { has_war_with = SOV }
					ENG = { has_war_with = USA }
					FRA = { is_in_faction_with = SOV }
				}
			}
		}
	}
	
	focus = {
		id = FRA_uk_intervene_spain
		icon = GFX_ENG_alliance
		prerequisite = { focus = FRA_uk_help_spain }
		relative_position_id = FRA_uk_help_spain
		x = 0
		y = 1
		cost = 30
		search_filters = { FOCUS_FILTER_FOREIGN_DIPLOMACY }
		allow_branch = {
			has_country_flag = testing
		}		
		available = {
			custom_trigger_tooltip = {
				tooltip = FRA_britain_alliance_tt
				is_puppet = no
				democratic_govt = yes
				ENG = {
					exists = yes
					is_puppet = no
					democratic_govt = yes
				}
				NOT = { has_war_with = ENG }
			}
			NOT = { is_in_faction_with = SOV }
			NOT = { is_in_faction_with = GER }
		}
		available_if_capitulated = no
		bypass = {
			ENG = {
				has_war_with = SPA
			}
		}
		
		completion_reward = {
			ENG = {
				custom_effect_tooltip = needs_approval
				country_event = { id = franceBiceE.16 days = 1 }
			}
			effect_tooltip = {
				ENG = {
					declare_war_on = {
						target = SPA
						type = topple_government
					}
				}
			}
			if = {
				limit = {
					NOT = { ENG = { has_war_with = JAP } }
					NOT = { ENG = { has_war_with = SOV } }
					NOT = { ENG = { has_war_with = USA } }
					NOT = { ENG = { has_war_with = FRA } }
					OR = {
						ENG = {
							has_completed_focus = ENG_support_spain
						}
						AND = {
							ENG = {
								has_opinion = {
									target = FRA
									value > 50
								}
							}
							ENG = {
								has_completed_focus = ENG_global_defense
							}
						}
					}
				}
				custom_effect_tooltip = FRA_uk_intervention_likely
			}
			else_if = {
				limit = {
					OR = {
						ENG = {
							has_completed_focus = uk_rock_focus
						}
						ENG = {
							has_opinion = {
								target = FRA
								value < 0
							}
						}
					}
				}
				custom_effect_tooltip = FRA_uk_intervention_unlikely
			}
			else = {
				custom_effect_tooltip = FRA_uk_intervention_maybe
			}
		}
		
		ai_will_do = {		# Needed for BICE ai_strategy_plan
			factor = 100
		}
	}
	
	focus = {
		id = FRA_secret_support
		icon = GFX_goal_generic_allies_agreement
		mutually_exclusive = { focus = FRA_intervene_in_spain }
		mutually_exclusive = { focus = FRA_non_intervention_agreement }
		prerequisite = { focus = FRA_spain_crisis }
		relative_position_id = FRA_spain_crisis
		x = 0
		y = 1
		cost = 30
		search_filters = { FOCUS_FILTER_FOREIGN_DIPLOMACY }
		
		available = {
			NOT = {
				has_war_with = SPA
			}
		}
		available_if_capitulated = no
		
		ai_will_do = {		# Needed for BICE ai_strategy_plan
			factor = 30
			modifier = {
				add = 70
				has_completed_focus = FRA_deregulate_arms_industry
			}
		}
		
		completion_reward = {
			army_experience = 10
			SPR = {
				add_equipment_to_stockpile = { type = infantry_equipment amount = 2000 producer = FRA }
			}
			add_equipment_to_stockpile = { type = infantry_equipment amount = -2000 producer = FRA }
		}
	}
	
	focus = {
		id = FRA_supply_fighters
		icon = GFX_goal_generic_air_fighter
		prerequisite = { focus = FRA_secret_support }
		relative_position_id = FRA_secret_support
		x = 0
		y = 1
		cost = 30
		search_filters = { FOCUS_FILTER_FOREIGN_DIPLOMACY }
		
		available_if_capitulated = yes
		
		completion_reward = {
			air_experience = 10
			SPR = {
				add_equipment_to_stockpile = { type = fighter_equipment amount = 100 producer = FRA }
			}
			add_equipment_to_stockpile = { type = fighter_equipment amount = -100 producer = FRA }
		}
	}
	
	focus = {
		id = FRA_supply_arty
		icon = GFX_goal_generic_army_artillery2
		prerequisite = { focus = FRA_supply_fighters }
		relative_position_id = FRA_supply_fighters
		x = 0
		y = 1
		cost = 30
		search_filters = { FOCUS_FILTER_FOREIGN_DIPLOMACY }
		
		available_if_capitulated = yes
		
		completion_reward = {
			army_experience = 10
			SPR = {
				add_equipment_to_stockpile = { type = artillery_equipment amount = 500 producer = FRA }
			}
			add_equipment_to_stockpile = { type = artillery_equipment amount = -500 producer = FRA }
		}
	}
	
	focus = {
		id = FRA_supply_bombers
		icon = GFX_goal_generic_air_fighter
		prerequisite = { focus = FRA_supply_arty }
		relative_position_id = FRA_supply_arty
		x = 1
		y = 1
		cost = 30
		search_filters = { FOCUS_FILTER_FOREIGN_DIPLOMACY }
		
		available_if_capitulated = yes
		
		completion_reward = {
			air_experience = 10
			SPR = {
				add_equipment_to_stockpile = { type = cas_equipment amount = 100 producer = FRA }
			}
			add_equipment_to_stockpile = { type = cas_equipment amount = -100 producer = FRA }
		}
	}
	
	focus = {
		id = FRA_supply_tanks
		icon = GFX_goal_generic_army_tanks
		prerequisite = { focus = FRA_supply_arty }
		relative_position_id = FRA_supply_arty
		x = -1
		y = 1
		cost = 30
		search_filters = { FOCUS_FILTER_FOREIGN_DIPLOMACY }
		
		available_if_capitulated = yes
		
		completion_reward = {
			army_experience = 30
			#SPR = { #TODO_MINOR_TANKS
			#	add_equipment_to_stockpile = { type = light_tank_equipment amount = 200 producer = FRA }
			#}
			#add_equipment_to_stockpile = { type = light_tank_equipment amount = -200 producer = FRA }
		}
	}
	
	focus = {
		id = FRA_support_blum
		icon = GFX_support_blum
		prerequisite = { focus = FRA_secret_support focus = FRA_intervene_in_spain }
		relative_position_id = FRA_secret_support
		x = 2
		y = 1
		cost = 30
		search_filters = { FOCUS_FILTER_POLITICAL }
		search_filters = { FOCUS_FILTER_STABILITY }
		
		available = {
			if = {
				limit = {
					is_ai = no
				}
				has_stability > 0.4
			}
			NOT = { has_completed_focus = FRA_support_daladier }
		}
		
		available_if_capitulated = yes
		
		completion_reward = {
			custom_effect_tooltip = FRA_support_blum_tooltip
			if = {
				limit = {
					OR = {
						has_government = socialism
						has_government = liberalism
					}
				}
				add_ideas = FRA_vincent_auriol_economic_minister
			}
		}
	}
	
	focus = {
		id = FRA_popular_front_united
		icon = GFX_france_first
		prerequisite = { focus = FRA_support_blum }
		prerequisite = { focus = FRA_international_legions }
		relative_position_id = FRA_support_blum
		x = 1
		y = 2
		cost = 30
		search_filters = { FOCUS_FILTER_POLITICAL }
		search_filters = { FOCUS_FILTER_STABILITY }
		
		available = {
			NOT = { has_idea = FRA_reforms_failed }
		}
		available_if_capitulated = yes
		
		ai_will_do = {		# Needed for BICE ai_strategy_plan
			factor = 1
			
			modifier = {
				add = 100
				has_completed_focus = FRA_intervene_in_spain
			}
		}
		
		completion_reward = {
			remove_ideas = FRA_disjointed_government
			if = {
				limit = {
					NOT = { has_completed_focus = FRA_support_blum }
				}
				custom_effect_tooltip = FRA_popular_front_united_tooltip1
			}
			if = {
				limit = {
					has_completed_focus = FRA_support_blum
				}
				custom_effect_tooltip = FRA_popular_front_united_tooltip2
			}
		}
	}
	
	focus = {
		id = FRA_non_intervention_agreement
		icon = GFX_ENG_alliance
		mutually_exclusive = { focus = FRA_intervene_in_spain }
		mutually_exclusive = { focus = FRA_secret_support }
		prerequisite = { focus = FRA_spain_crisis }
		relative_position_id = FRA_spain_crisis
		x = -4
		y = 1
		cost = 30
		search_filters = { FOCUS_FILTER_FOREIGN_DIPLOMACY }
		
		available = {
			NOT = {
				has_war_with = SPA
			}
		}
		available_if_capitulated = yes
		
		completion_reward = {
			SPR = {
				add_opinion_modifier = { target = FRA modifier = refused_help }
				add_opinion_modifier = { target = ENG modifier = refused_help }
			}
			ENG = {
				add_opinion_modifier = { target = FRA modifier = medium_increase }
			}
		}
		
		ai_will_do = {		# Needed for BICE ai_strategy_plan
			factor = 40
			
			modifier = {
				add = 20
				ENG = {
					has_completed_focus = ENG_home_defence
				}
			}
			modifier = {
				add = 20
				ENG = {
					has_completed_focus = uk_rock_focus
				}
			}
			modifier = {
				add = 50
				OR = {
					has_stability > 0.2
					SPR = {
						surrender_progress > 0.5
					}
				}
			}
			modifier = {
				add = 200
				has_war = yes
			}
		}
	}
	
	focus = {
		id = FRA_blockade_spain
		icon = GFX_goal_spa_blockade
		prerequisite = { focus = FRA_non_intervention_agreement }
		relative_position_id = FRA_non_intervention_agreement
		x = 0
		y = 1
		cost = 30
		search_filters = { FOCUS_FILTER_FOREIGN_DIPLOMACY }
		
		available_if_capitulated = yes
		
		completion_reward = {
			SPR = {
				add_opinion_modifier = { target = FRA modifier = minor_sanctions }
				add_opinion_modifier = { target = ENG modifier = minor_sanctions }
				
			}
			FRA = {
				add_opinion_modifier = {
					target = SPA
					modifier = minor_sanctions
				}
				every_subject_country = {
					add_opinion_modifier = {
						target = SPA
						modifier = minor_sanctions
					}
				}
			}
		}
	}
	
	focus = {
		id = FRA_accept_spanish_refugees
		icon = GFX_goal_compromise_with_the_nationalities
		prerequisite = { focus = FRA_blockade_spain }
		relative_position_id = FRA_blockade_spain
		x = 0
		y = 1
		cost = 30
		search_filters = { FOCUS_FILTER_FOREIGN_DIPLOMACY }
		
		available_if_capitulated = yes
		
		completion_reward = {
			if = {
				limit = {
					not = {
						has_idea = FRA_stagnant_econ_1
						has_idea = FRA_stagnant_econ_2
						has_idea = FRA_stagnant_econ_3
						has_idea = FRA_stagnant_econ_4
						has_idea = FRA_stagnant_econ_5
					}
				}
				add_ideas = FRA_stagnant_econ_1
			}
			if = {
				limit = {
					has_idea = FRA_stagnant_econ_4
				}
				swap_ideas = {
					remove_idea = FRA_stagnant_econ_4
					add_idea = FRA_stagnant_econ_5
				}
			}
			if = {
				limit = {
					has_idea = FRA_stagnant_econ_3
				}
				swap_ideas = {
					remove_idea = FRA_stagnant_econ_3
					add_idea = FRA_stagnant_econ_4
				}
			}
			if = {
				limit = {
					has_idea = FRA_stagnant_econ_2
				}
				swap_ideas = {
					remove_idea = FRA_stagnant_econ_2
					add_idea = FRA_stagnant_econ_3
				}
			}
			if = {
				limit = {
					has_idea = FRA_stagnant_econ_1
				}
				swap_ideas = {
					remove_idea = FRA_stagnant_econ_1
					add_idea = FRA_stagnant_econ_2
				}
			}
		}
	}
	
	focus = {
		id = FRA_support_daladier
		icon = GFX_support_daladier
		prerequisite = { focus = FRA_non_intervention_agreement focus = FRA_secret_support }
		relative_position_id = FRA_non_intervention_agreement
		x = 2
		y = 1
		cost = 30
		search_filters = { FOCUS_FILTER_POLITICAL }
		
		available = {
			NOT = { has_completed_focus = FRA_support_blum }
		}
		
		completion_reward = {
		#	custom_effect_tooltip = FRA_support_daladier_tooltip
			add_ideas = FRA_edouard_herriot_foreign_minister
			if = {
				limit = {
					has_government = socialism
				}
				news_event = { id = france.34 hours = 12 }
			}
			else = {
				news_event = { id = franceBiceE.86 hours = 12 }
			}
		}
	}
	
	focus = {
		id = FRA_recognize_spainish_state
		icon = GFX_focus_spa_the_phalanx_ascendant
		prerequisite = { focus = FRA_accept_spanish_refugees }
		mutually_exclusive = { focus = FRA_spanish_puppet }
		mutually_exclusive = { focus = FRA_spanish_democracy }
		relative_position_id = FRA_accept_spanish_refugees
		x = 0
		y = 2
		cost = 30
		search_filters = { FOCUS_FILTER_FOREIGN_DIPLOMACY }
		
		available = {
			has_completed_focus = FRA_support_daladier
		}
		available_if_capitulated = yes
		
		completion_reward = {
			custom_effect_tooltip = FRA_clear_crisis
			clr_country_flag = FRA_in_crisis
			clr_country_flag = FRA_spanish_crisis
			SPA = {
				add_opinion_modifier = { target = FRA modifier = medium_increase }
			}
			country_event = { id = franceBiceE.18 }
		}
	}
	
	focus = {
		id = FRA_spanish_democracy
		icon = GFX_goal_SPR_support_democracy
		prerequisite = {
			focus = FRA_popular_front_united 
			focus = FRA_supply_tanks 
			focus = FRA_supply_bombers 
		}
		mutually_exclusive = { focus = FRA_spanish_puppet }
		mutually_exclusive = { focus = FRA_recognize_spainish_state }
		relative_position_id = FRA_supply_bombers
		x = -1
		y = 1
		cost = 30
		search_filters = { FOCUS_FILTER_FOREIGN_DIPLOMACY }
		
		available = {
			democratic_govt = yes
			OR = {
				has_completed_focus = FRA_support_blum
				has_completed_focus = FRA_support_daladier
			}
		}
		
		available_if_capitulated = yes
		
		completion_reward = {
			custom_effect_tooltip = FRA_clear_crisis
			clr_country_flag = FRA_in_crisis
			clr_country_flag = FRA_spanish_crisis
			if = {
				limit = {
					NOT = {
						SPR = {
							has_idea = democratic_influence
						}
					}
				}
				SPR = {
					add_ideas = democratic_influence
				}
			}
			else = {
				SPR = {
					add_popularity = {
						ideology = conservatism
						popularity = 0.05
					}
					add_popularity = {
						ideology = liberalism
						popularity = 0.10
					}
					add_popularity = {
						ideology = socialism
						popularity = 0.20
					}
				}
			}
			country_event = { id = franceBiceE.19 }
		}
	}
	
	focus = {
		id = FRA_spanish_puppet
		icon = GFX_goal_generic_political_pressure
		prerequisite = { focus = FRA_popular_front_united }
		mutually_exclusive = { focus = FRA_spanish_democracy }
		mutually_exclusive = { focus = FRA_recognize_spainish_state }
		relative_position_id = FRA_popular_front_united
		x = 0
		y = 1
		cost = 30
		search_filters = { FOCUS_FILTER_FOREIGN_DIPLOMACY }
		search_filters = { FOCUS_FILTER_ANNEXATION }
		
		available = {
			has_completed_focus = FRA_intervene_in_spain
			OR = {
				SPR = {
					surrender_progress > 0.8
				}
				democratic_govt = no
			}
			OR = {
				has_completed_focus = FRA_support_blum
				has_completed_focus = FRA_support_daladier
			}
		}
		available_if_capitulated = yes
		
		completion_reward = {
			custom_effect_tooltip = FRA_clear_crisis
			clr_country_flag = FRA_in_crisis
			clr_country_flag = FRA_spanish_crisis
			SPR = {
				add_opinion_modifier = { target = FRA modifier = large_decrease }
			}
			ENG = {
				add_opinion_modifier = { target = FRA modifier = large_decrease }
			}
			USA = {
				add_opinion_modifier = { target = FRA modifier = large_decrease }
			}
			puppet = SPR
			country_event = { id = franceBiceE.20 }
		}
	}
	
########## Budget Crisis ##########
	
	focus = {
		id = FRA_budget_crisis
		icon = GFX_goal_fra_crisis_budget
		x = 5
		y = 0
		cost = 1
		search_filters = { FOCUS_FILTER_STABILITY }
		offset = {
			x = -4
			y = 6
			trigger = {
				OR = {
					has_country_flag = FRA_spanish_crisis
					has_country_flag = FRA_budget_crisis_flag
					has_country_flag = testing
				}
			}
		}		
		available_if_capitulated = yes
		allow_branch = {
			or = {
				has_country_flag = FRA_budget_crisis_flag
				has_country_flag = testing
			}	
			NOT = { has_global_flag = fall_of_france }
		}
		
		bypass = {
			has_country_flag = FRA_budget_crisis_flag
		}
		
		completion_reward = {
			add_stability = -0.1
		}
	}
	
	focus = {
		id = FRA_matignon_agreements_amendement 
		icon = GFX_goal_generic_forceful_treaty
		mutually_exclusive = { focus =  FRA_no_compromises }
		prerequisite = { focus = FRA_budget_crisis }
		relative_position_id = FRA_budget_crisis
		x = 2
		y = 1
		cost = 15
		search_filters = { FOCUS_FILTER_POLITICAL }
		search_filters = { FOCUS_FILTER_STABILITY }
		
		available = {
			OR = {
				has_idea = FRA_matignon_agreements
				has_idea = FRA_matignon_agreements_weak
			}
		}
		available_if_capitulated = yes
		
		completion_reward = {
			if = {
				limit = {
					NOT = {
						has_country_flag = no_stagnant_econ
					}
				}
				custom_effect_tooltip = Bypass_no_stagnant_econ
			}
			if = {
				limit = {
					has_idea = FRA_matignon_agreements
				}
				remove_ideas = FRA_matignon_agreements
			}
			else = {
				remove_ideas = FRA_matignon_agreements_weak
			}
			if = {
				limit = {
					has_idea = FRA_stagnant_econ_1
				}
				remove_ideas = FRA_stagnant_econ_1
			}
			if = {
				limit = {
					has_idea = FRA_stagnant_econ_2
				}
				swap_ideas = {
					remove_idea = FRA_stagnant_econ_2
					add_idea = FRA_stagnant_econ_1
				}
			}
			if = {
				limit = {
					has_idea = FRA_stagnant_econ_3
				}
				swap_ideas = {
					remove_idea = FRA_stagnant_econ_3
					add_idea = FRA_stagnant_econ_2
				}
			}
			if = {
				limit = {
					has_idea = FRA_stagnant_econ_4
				}
				swap_ideas = {
					remove_idea = FRA_stagnant_econ_4
					add_idea = FRA_stagnant_econ_3
				}
			}
			if = {
				limit = {
					has_idea = FRA_stagnant_econ_5
				}
				swap_ideas = {
					remove_idea = FRA_stagnant_econ_5
					add_idea = FRA_stagnant_econ_4
				}
			}
			if = {
				limit = {
					NOT = {
						has_idea = FRA_stagnant_econ_5
						has_idea = FRA_stagnant_econ_4
						has_idea = FRA_stagnant_econ_3
						has_idea = FRA_stagnant_econ_2
						has_idea = FRA_stagnant_econ_1
					}
				}
				set_country_flag = no_stagnant_econ
			}
			hidden_effect = {
				country_event = { id = france.37 random_days = 10 } #france.txt
			}
		}
	}
	
	focus = {
		id = FRA_abandon_social_reforms
		icon = GFX_goal_indyclone_funding_restraints
		prerequisite = { focus = FRA_matignon_agreements_amendement }
		relative_position_id = FRA_matignon_agreements_amendement
		x = 0
		y = 1
		cost = 15
		search_filters = { FOCUS_FILTER_INDUSTRY }
		
		bypass = {
			has_country_flag = no_stagnant_econ
		}
		available_if_capitulated = yes
		
		completion_reward = {
			if = {
				limit = {
					NOT = {
						has_country_flag = no_stagnant_econ
					}
				}
				custom_effect_tooltip = Bypass_no_stagnant_econ
			}
			if = {
				limit = {
					has_idea = FRA_stagnant_econ_1
				}
				remove_ideas = FRA_stagnant_econ_1
			}
			if = {
				limit = {
					has_idea = FRA_stagnant_econ_2
				}
				swap_ideas = {
					remove_idea = FRA_stagnant_econ_2
					add_idea = FRA_stagnant_econ_1
				}
			}
			if = {
				limit = {
					has_idea = FRA_stagnant_econ_3
				}
				swap_ideas = {
					remove_idea = FRA_stagnant_econ_3
					add_idea = FRA_stagnant_econ_2
				}
			}
			if = {
				limit = {
					has_idea = FRA_stagnant_econ_4
				}
				swap_ideas = {
					remove_idea = FRA_stagnant_econ_4
					add_idea = FRA_stagnant_econ_3
				}
			}
			if = {
				limit = {
					has_idea = FRA_stagnant_econ_5
				}
				swap_ideas = {
					remove_idea = FRA_stagnant_econ_5
					add_idea = FRA_stagnant_econ_4
				}
			}
			if = {
				limit = {
					NOT = {
						has_idea = FRA_stagnant_econ_5
						has_idea = FRA_stagnant_econ_4
						has_idea = FRA_stagnant_econ_3
						has_idea = FRA_stagnant_econ_2
						has_idea = FRA_stagnant_econ_1
					}
				}
				set_country_flag = no_stagnant_econ
			}
		}
	}
	
	focus = {
		id = FRA_cut_worker_pay
		icon = GFX_goal_sieze_capital
		prerequisite = { focus = FRA_abandon_social_reforms }
		relative_position_id = FRA_abandon_social_reforms
		x = 0
		y = 1
		cost = 15
		search_filters = { FOCUS_FILTER_INDUSTRY }
		
		bypass = {
			has_country_flag = no_stagnant_econ
		}
		available_if_capitulated = yes
		
		completion_reward = {
			if = {
				limit = {
					NOT = {
						has_country_flag = no_stagnant_econ
					}
				}
				custom_effect_tooltip = Bypass_no_stagnant_econ
			}
			if = {
				limit = {
					has_idea = FRA_stagnant_econ_1
				}
				remove_ideas = FRA_stagnant_econ_1
			}
			if = {
				limit = {
					has_idea = FRA_stagnant_econ_2
				}
				swap_ideas = {
					remove_idea = FRA_stagnant_econ_2
					add_idea = FRA_stagnant_econ_1
				}
			}
			if = {
				limit = {
					has_idea = FRA_stagnant_econ_3
				}
				swap_ideas = {
					remove_idea = FRA_stagnant_econ_3
					add_idea = FRA_stagnant_econ_2
				}
			}
			if = {
				limit = {
					has_idea = FRA_stagnant_econ_4
				}
				swap_ideas = {
					remove_idea = FRA_stagnant_econ_4
					add_idea = FRA_stagnant_econ_3
				}
			}
			if = {
				limit = {
					has_idea = FRA_stagnant_econ_5
				}
				swap_ideas = {
					remove_idea = FRA_stagnant_econ_5
					add_idea = FRA_stagnant_econ_4
				}
			}
			if = {
				limit = {
					NOT = {
						has_idea = FRA_stagnant_econ_5
						has_idea = FRA_stagnant_econ_4
						has_idea = FRA_stagnant_econ_3
						has_idea = FRA_stagnant_econ_2
						has_idea = FRA_stagnant_econ_1
					}
				}
				set_country_flag = no_stagnant_econ
			}
		}
	}
	
	focus = {
		id = FRA_no_compromises
		icon = GFX_goal_fra_popular_front
		mutually_exclusive = { focus =  FRA_matignon_agreements_amendement }
		prerequisite = { focus = FRA_budget_crisis }
		relative_position_id = FRA_budget_crisis
		x = -2
		y = 1
		cost = 30
		search_filters = { FOCUS_FILTER_INDUSTRY }
		
		available_if_capitulated = yes
		
		completion_reward = {
			if = {
				limit = {
					NOT = {
						has_country_flag = no_stagnant_econ
					}
				}
				custom_effect_tooltip = Bypass_no_stagnant_econ
			}
			if = {
				limit = {
					has_idea = FRA_stagnant_econ_1
				}
				remove_ideas = FRA_stagnant_econ_1
			}
			if = {
				limit = {
					has_idea = FRA_stagnant_econ_2
				}
				swap_ideas = {
					remove_idea = FRA_stagnant_econ_2
					add_idea = FRA_stagnant_econ_1
				}
			}
			if = {
				limit = {
					has_idea = FRA_stagnant_econ_3
				}
				swap_ideas = {
					remove_idea = FRA_stagnant_econ_3
					add_idea = FRA_stagnant_econ_2
				}
			}
			if = {
				limit = {
					has_idea = FRA_stagnant_econ_4
				}
				swap_ideas = {
					remove_idea = FRA_stagnant_econ_4
					add_idea = FRA_stagnant_econ_3
				}
			}
			if = {
				limit = {
					has_idea = FRA_stagnant_econ_5
				}
				swap_ideas = {
					remove_idea = FRA_stagnant_econ_5
					add_idea = FRA_stagnant_econ_4
				}
			}
			if = {
				limit = {
					NOT = {
						has_idea = FRA_stagnant_econ_5
						has_idea = FRA_stagnant_econ_4
						has_idea = FRA_stagnant_econ_3
						has_idea = FRA_stagnant_econ_2
						has_idea = FRA_stagnant_econ_1
					}
				}
				set_country_flag = no_stagnant_econ
			}
		}
	}
	
	focus = {
		id = FRA_raise_taxes
		icon = GFX_control_money_supply
		prerequisite = { focus = FRA_no_compromises }
		relative_position_id = FRA_no_compromises
		x = 0
		y = 1
		cost = 30
		search_filters = { FOCUS_FILTER_INDUSTRY }
		
		bypass = {
			has_country_flag = no_stagnant_econ
		}
		available_if_capitulated = yes
		
		completion_reward = {
			if = {
				limit = {
					NOT = {
						has_country_flag = no_stagnant_econ
					}
				}
				custom_effect_tooltip = Bypass_no_stagnant_econ
			}
			if = {
				limit = {
					has_idea = FRA_stagnant_econ_1
				}
				remove_ideas = FRA_stagnant_econ_1
			}
			if = {
				limit = {
					has_idea = FRA_stagnant_econ_2
				}
				swap_ideas = {
					remove_idea = FRA_stagnant_econ_2
					add_idea = FRA_stagnant_econ_1
				}
			}
			if = {
				limit = {
					has_idea = FRA_stagnant_econ_3
				}
				swap_ideas = {
					remove_idea = FRA_stagnant_econ_3
					add_idea = FRA_stagnant_econ_2
				}
			}
			if = {
				limit = {
					has_idea = FRA_stagnant_econ_4
				}
				swap_ideas = {
					remove_idea = FRA_stagnant_econ_4
					add_idea = FRA_stagnant_econ_3
				}
			}
			if = {
				limit = {
					has_idea = FRA_stagnant_econ_5
				}
				swap_ideas = {
					remove_idea = FRA_stagnant_econ_5
					add_idea = FRA_stagnant_econ_4
				}
			}
			if = {
				limit = {
					NOT = {
						has_idea = FRA_stagnant_econ_5
						has_idea = FRA_stagnant_econ_4
						has_idea = FRA_stagnant_econ_3
						has_idea = FRA_stagnant_econ_2
						has_idea = FRA_stagnant_econ_1
					}
				}
				set_country_flag = no_stagnant_econ
			}
		}
	}
	
	focus = {
		id = FRA_cut_military_spending
		icon = GFX_goal_fra_soldiers_fire
		prerequisite = { focus = FRA_raise_taxes }
		relative_position_id = FRA_raise_taxes
		x = 0
		y = 1
		cost = 30
		search_filters = { FOCUS_FILTER_INDUSTRY }
		
		bypass = {
			has_country_flag = no_stagnant_econ
		}
		available_if_capitulated = yes
		
		completion_reward = {
			if = {
				limit = {
					NOT = {
						has_country_flag = no_stagnant_econ
					}
				}
				custom_effect_tooltip = Bypass_no_stagnant_econ
			}
			if = {
				limit = {
					has_idea = FRA_stagnant_econ_1
				}
				remove_ideas = FRA_stagnant_econ_1
			}
			if = {
				limit = {
					has_idea = FRA_stagnant_econ_2
				}
				swap_ideas = {
					remove_idea = FRA_stagnant_econ_2
					add_idea = FRA_stagnant_econ_1
				}
			}
			if = {
				limit = {
					has_idea = FRA_stagnant_econ_3
				}
				swap_ideas = {
					remove_idea = FRA_stagnant_econ_3
					add_idea = FRA_stagnant_econ_2
				}
			}
			if = {
				limit = {
					has_idea = FRA_stagnant_econ_4
				}
				swap_ideas = {
					remove_idea = FRA_stagnant_econ_4
					add_idea = FRA_stagnant_econ_3
				}
			}
			if = {
				limit = {
					has_idea = FRA_stagnant_econ_5
				}
				swap_ideas = {
					remove_idea = FRA_stagnant_econ_5
					add_idea = FRA_stagnant_econ_4
				}
			}
			if = {
				limit = {
					NOT = {
						has_idea = FRA_stagnant_econ_5
						has_idea = FRA_stagnant_econ_4
						has_idea = FRA_stagnant_econ_3
						has_idea = FRA_stagnant_econ_2
						has_idea = FRA_stagnant_econ_1
					}
				}
				set_country_flag = no_stagnant_econ
			}
		}
	}
	
	focus = {
		id = FRA_stop_the_inflation
		icon = GFX_goal_generic_inflation
		prerequisite = { focus = FRA_cut_military_spending focus = FRA_cut_worker_pay }
		relative_position_id = FRA_budget_crisis
		x = 0
		y = 4
		cost = 20
		search_filters = { FOCUS_FILTER_INDUSTRY }
		
		available = {
		}
		available_if_capitulated = yes
		
		completion_reward = {
			swap_ideas = {
				remove_idea = FRA_inflation4
				add_idea = FRA_inflation3
			}
		}
	}
	
	focus = {
		id = FRA_devaluation2
		icon = GFX_goal_fra_devaluate_the_franc
		prerequisite = { focus = FRA_stop_the_inflation }
		relative_position_id = FRA_stop_the_inflation
		x = 0
		y = 1
		cost = 20
		search_filters = { FOCUS_FILTER_INDUSTRY }
		
		available = {
		}
		available_if_capitulated = yes
		
		completion_reward = {
			swap_ideas = {
				remove_idea = FRA_inflation3
				add_idea = FRA_inflation2
			}
		}
	}
	
	focus = {
		id = FRA_budget_deficit_law2
		icon = GFX_goal_fra_paper
		prerequisite = { focus = FRA_devaluation2 }
		relative_position_id = FRA_devaluation2
		x = 0
		y = 1
		cost = 20
		search_filters = {  FOCUS_FILTER_INDUSTRY }
		
		available_if_capitulated = yes
		
		completion_reward = {
			swap_ideas = {
				add_idea = FRA_inflation1
				remove_idea = FRA_inflation2
			}
		}
	}
	
	focus = {
		id = FRA_budget_balanced
		icon = GFX_goal_fra_factory_deal
		prerequisite = { focus = FRA_budget_deficit_law2 }
		relative_position_id = FRA_budget_deficit_law2
		x = 0
		y = 1
		cost = 30
		search_filters = { FOCUS_FILTER_INDUSTRY }
		
		available = {
		}
		available_if_capitulated = yes
		
		completion_reward = {
			custom_effect_tooltip = FRA_clear_crisis
			clr_country_flag = FRA_in_crisis
			clr_country_flag = FRA_budget_crisis_flag
			remove_ideas = FRA_inflation1
			if = {
				limit = {
					has_idea = FRA_stagnant_econ_4
				}
				remove_ideas = FRA_stagnant_econ_4
			}
			if = {
				limit = {
					has_idea = FRA_stagnant_econ_3
				}
				remove_ideas = FRA_stagnant_econ_3
			}
			if = {
				limit = {
					has_idea = FRA_stagnant_econ_2
				}
				remove_ideas = FRA_stagnant_econ_2
			}
			if = {
				limit = {
					has_idea = FRA_stagnant_econ_1
				}
				remove_ideas = FRA_stagnant_econ_1
			}
		}
	}
	
########## Economic Tree ##########
	
	focus = {
		id = FRA_promise_econ_renewal
		icon = GFX_goal_fra_factory_deal
		x = 0
		y = 0
		offset = {
			x = 17
			y = 0
			trigger = {
				OR = {
					has_country_flag = FRA_in_crisis
					has_country_flag = testing
				}
			}
		}
		cost = 20
		search_filters = { FOCUS_FILTER_STABILITY }
		
		available = {
			custom_trigger_tooltip = {
				tooltip = FRA_not_in_crisis_tooltip
				NOT = {
					has_country_flag = FRA_in_crisis
				}
			}
		}
		cancel = {
			custom_trigger_tooltip = {
				tooltip = FRA_in_crisis_tooltip
				has_country_flag = FRA_in_crisis
			}
		}
		available_if_capitulated = yes
		allow_branch = {
			NOT = { has_global_flag = fall_of_france }
		}
		
		completion_reward = {
			add_timed_idea = {
				idea = FRA_stable
				days = 100
			}
			### STABILITY ###
			hidden_effect = {
				if = {
					limit = {
						is_ai = yes
						has_stability < 0.4
					}
					add_stability = 0.1
				}
			}
		}
	}
	
	focus = {
		id = FRA_address_stagnant_econ
		icon = GFX_goal_fra_industry
		prerequisite = { focus = FRA_promise_econ_renewal }
		relative_position_id = FRA_promise_econ_renewal
		x = -3
		y = 1
		cost = 30
		search_filters = { FOCUS_FILTER_INDUSTRY }
		search_filters = { FOCUS_FILTER_RESEARCH }
		
		available = {
			custom_trigger_tooltip = {
				tooltip = FRA_not_in_crisis_tooltip
				NOT = {
					has_country_flag = FRA_in_crisis
				}
			}
		}
		cancel = {
			custom_trigger_tooltip = {
				tooltip = FRA_in_crisis_tooltip
				has_country_flag = FRA_in_crisis
			}
		}
		available_if_capitulated = yes
		
		completion_reward = {
			if = {
				limit = {
					has_idea = FRA_stagnant_econ_1
				}
				remove_ideas = FRA_stagnant_econ_1
			}
			if = {
				limit = {
					has_idea = FRA_stagnant_econ_2
				}
				swap_ideas = {
					remove_idea = FRA_stagnant_econ_2
					add_idea = FRA_stagnant_econ_1
				}
			}
			if = {
				limit = {
					has_idea = FRA_stagnant_econ_3
				}
				swap_ideas = {
					remove_idea = FRA_stagnant_econ_3
					add_idea = FRA_stagnant_econ_2
				}
			}
			if = {
				limit = {
					has_idea = FRA_stagnant_econ_4
				}
				swap_ideas = {
					remove_idea = FRA_stagnant_econ_4
					add_idea = FRA_stagnant_econ_3
				}
			}
			if = {
				limit = {
					has_idea = FRA_stagnant_econ_5
				}
				swap_ideas = {
					remove_idea = FRA_stagnant_econ_5
					add_idea = FRA_stagnant_econ_4
				}
			}
			add_tech_bonus = {
				name = FRA_industrial_effort
				bonus = 0.50
				uses = 1
				category = industry
			}
			### STABILITY ###
			hidden_effect = {
				if = {
					limit = {
						is_ai = yes
						has_stability < 0.4
					}
					add_stability = 0.1
				}
			}
		}
	}
	
	focus = {
		id = FRA_tools_modernisation
		icon = GFX_goal_generic_production
		prerequisite = { focus = FRA_address_stagnant_econ }
		relative_position_id = FRA_address_stagnant_econ
		x = 3
		y = 1
		cost = 50
		search_filters = { FOCUS_FILTER_RESEARCH }
		search_filters = { FOCUS_FILTER_INDUSTRY }
		
		available = {
			custom_trigger_tooltip = {
				tooltip = FRA_not_in_crisis_tooltip
				NOT = {
					has_country_flag = FRA_in_crisis
				}
			}
		}
		cancel = {
			custom_trigger_tooltip = {
				tooltip = FRA_in_crisis_tooltip
				has_country_flag = FRA_in_crisis
			}
		}
		available_if_capitulated = yes
		
		completion_reward = {
			if = {
				limit = {
					has_idea = FRA_stagnant_econ_1
				}
				remove_ideas = FRA_stagnant_econ_1
			}
			if = {
				limit = {
					has_idea = FRA_stagnant_econ_2
				}
				swap_ideas = {
					remove_idea = FRA_stagnant_econ_2
					add_idea = FRA_stagnant_econ_1
				}
			}
			if = {
				limit = {
					has_idea = FRA_stagnant_econ_3
				}
				swap_ideas = {
					remove_idea = FRA_stagnant_econ_3
					add_idea = FRA_stagnant_econ_2
				}
			}
			if = {
				limit = {
					has_idea = FRA_stagnant_econ_4
				}
				swap_ideas = {
					remove_idea = FRA_stagnant_econ_4
					add_idea = FRA_stagnant_econ_3
				}
			}
			if = {
				limit = {
					has_idea = FRA_stagnant_econ_5
				}
				swap_ideas = {
					remove_idea = FRA_stagnant_econ_5
					add_idea = FRA_stagnant_econ_4
				}
			}
			add_tech_bonus = {
				name = FRA_industrial_effort
				bonus = 0.50
				uses = 2
				category = industry
			}
			### STABILITY ###
			hidden_effect = {
				if = {
					limit = {
						is_ai = yes
						has_stability < 0.4
					}
					add_stability = 0.1
				}
			}
		}
	}
	focus = {
		id = FRA_white_coal
		icon = GFX_focus_generic_hydroelectric_energy
		prerequisite = { focus = FRA_tools_modernisation }
		relative_position_id = FRA_tools_modernisation
		x = 0
		y = 1
		cost = 33
		search_filters = { FOCUS_FILTER_RESEARCH }
		search_filters = { FOCUS_FILTER_INDUSTRY }
		
		available = {
			custom_trigger_tooltip = {
				tooltip = FRA_not_in_crisis_tooltip
				NOT = {
					has_country_flag = FRA_in_crisis
				}
			}
		}
		cancel = {
			custom_trigger_tooltip = {
				tooltip = FRA_in_crisis_tooltip
				has_country_flag = FRA_in_crisis
			}
		}
		
		completion_reward = {
			32 = {
				if = {
					limit = { is_controlled_by = ROOT }
					add_building_construction = {
						type = hydro_power
						level = 2
						instant_build = yes
					}
				}
			}
		}
	}
	
	#French National Railway Company
	focus = {
		id = FRA_sncf
		icon = GFX_goal_generic_construct_infrastructure
		prerequisite = { focus = FRA_address_stagnant_econ }
		relative_position_id = FRA_address_stagnant_econ
		x = 1
		y = 1
		cost = 50
		search_filters = { FOCUS_FILTER_INFRASTRUCTURE }
		
		available = {
			custom_trigger_tooltip = {
				tooltip = FRA_not_in_crisis_tooltip
				NOT = {
					has_country_flag = FRA_in_crisis
				}
			}
		}
		cancel = {
			custom_trigger_tooltip = {
				tooltip = FRA_in_crisis_tooltip
				has_country_flag = FRA_in_crisis
			}
		}
		
		completion_reward = {
			if = {
				limit = {
					has_idea = FRA_stagnant_econ_1
				}
				remove_ideas = FRA_stagnant_econ_1
			}
			if = {
				limit = {
					has_idea = FRA_stagnant_econ_2
				}
				swap_ideas = {
					remove_idea = FRA_stagnant_econ_2
					add_idea = FRA_stagnant_econ_1
				}
			}
			if = {
				limit = {
					has_idea = FRA_stagnant_econ_3
				}
				swap_ideas = {
					remove_idea = FRA_stagnant_econ_3
					add_idea = FRA_stagnant_econ_2
				}
			}
			if = {
				limit = {
					has_idea = FRA_stagnant_econ_4
				}
				swap_ideas = {
					remove_idea = FRA_stagnant_econ_4
					add_idea = FRA_stagnant_econ_3
				}
			}
			if = {
				limit = {
					has_idea = FRA_stagnant_econ_5
				}
				swap_ideas = {
					remove_idea = FRA_stagnant_econ_5
					add_idea = FRA_stagnant_econ_4
				}
			}
			custom_effect_tooltip = FRA_sncf_tooltip
			hidden_effect = {
				28 = {
					if = {
						limit = { is_controlled_by = ROOT }
						add_building_construction = {
							type = infrastructure
							level = 3
							instant_build = yes
						}
					}
				}
				18 = {
					if = {
						limit = { is_controlled_by = ROOT }
						add_building_construction = {
							type = infrastructure
							level = 3
							instant_build = yes
						}
					}
				}
				29 = {
					if = {
						limit = { is_controlled_by = ROOT }
						add_building_construction = {
							type = infrastructure
							level = 2
							instant_build = yes
						}
					}
				}
				16 = {
					if = {
						limit = { is_controlled_by = ROOT }
						add_building_construction = {
							type = infrastructure
							level = 2
							instant_build = yes
						}
					}
				}
			}
			custom_effect_tooltip = Line_break
			### STABILITY ###
			hidden_effect = {
				if = {
					limit = {
						is_ai = yes
						has_stability < 0.4
					}
					add_stability = 0.1
				}
			}
		}
	}
	
	focus = {
		id = FRA_agriculture_national_office
		icon = GFX_goal_industrialized_agrarian_state
		prerequisite = { focus = FRA_address_stagnant_econ }
		relative_position_id = FRA_address_stagnant_econ
		x = -1
		y = 1
		cost = 50
		search_filters = { FOCUS_FILTER_INDUSTRY }
		
		available = {
			custom_trigger_tooltip = {
				tooltip = FRA_not_in_crisis_tooltip
				NOT = {
					has_country_flag = FRA_in_crisis
				}
			}
		}
		cancel = {
			custom_trigger_tooltip = {
				tooltip = FRA_in_crisis_tooltip
				has_country_flag = FRA_in_crisis
			}
		}
		
		completion_reward = {
			if = {
				limit = {
					has_idea = FRA_stagnant_econ_1
				}
				remove_ideas = FRA_stagnant_econ_1
			}
			if = {
				limit = {
					has_idea = FRA_stagnant_econ_2
				}
				swap_ideas = {
					remove_idea = FRA_stagnant_econ_2
					add_idea = FRA_stagnant_econ_1
				}
			}
			if = {
				limit = {
					has_idea = FRA_stagnant_econ_3
				}
				swap_ideas = {
					remove_idea = FRA_stagnant_econ_3
					add_idea = FRA_stagnant_econ_2
				}
			}
			if = {
				limit = {
					has_idea = FRA_stagnant_econ_4
				}
				swap_ideas = {
					remove_idea = FRA_stagnant_econ_4
					add_idea = FRA_stagnant_econ_3
				}
			}
			if = {
				limit = {
					has_idea = FRA_stagnant_econ_5
				}
				swap_ideas = {
					remove_idea = FRA_stagnant_econ_5
					add_idea = FRA_stagnant_econ_4
				}
			}
			add_ideas = FRA_agriculture_office
			### STABILITY ###
			hidden_effect = {
				if = {
					limit = {
						is_ai = yes
						has_stability < 0.4
					}
					add_stability = 0.1
				}
			}
		}
	}
	
	focus = {
		id = FRA_decrease_unemployement
		icon = GFX_focus_generic_the_giant_wakes
		prerequisite = { focus = FRA_address_stagnant_econ }
		relative_position_id = FRA_address_stagnant_econ
		x = -3
		y = 1
		cost = 50
		search_filters = { FOCUS_FILTER_INDUSTRY }
		
		available = {
			custom_trigger_tooltip = {
				tooltip = FRA_not_in_crisis_tooltip
				NOT = {
					has_country_flag = FRA_in_crisis
				}
			}
		}
		cancel = {
			custom_trigger_tooltip = {
				tooltip = FRA_in_crisis_tooltip
				has_country_flag = FRA_in_crisis
			}
		}
		
		completion_reward = {
			if = {
				limit = {
					has_idea = FRA_stagnant_econ_1
				}
				remove_ideas = FRA_stagnant_econ_1
			}
			if = {
				limit = {
					has_idea = FRA_stagnant_econ_2
				}
				swap_ideas = {
					remove_idea = FRA_stagnant_econ_2
					add_idea = FRA_stagnant_econ_1
				}
			}
			if = {
				limit = {
					has_idea = FRA_stagnant_econ_3
				}
				swap_ideas = {
					remove_idea = FRA_stagnant_econ_3
					add_idea = FRA_stagnant_econ_2
				}
			}
			if = {
				limit = {
					has_idea = FRA_stagnant_econ_4
				}
				swap_ideas = {
					remove_idea = FRA_stagnant_econ_4
					add_idea = FRA_stagnant_econ_3
				}
			}
			if = {
				limit = {
					has_idea = FRA_stagnant_econ_5
				}
				swap_ideas = {
					remove_idea = FRA_stagnant_econ_5
					add_idea = FRA_stagnant_econ_4
				}
			}
			random_owned_controlled_state = {
				limit = {									
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
					is_on_continent = europe
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			add_manpower = -5000
			### STABILITY ###
			hidden_effect = {
				if = {
					limit = {
						is_ai = yes
						has_stability < 0.4
					}
					add_stability = 0.1
				}
			}
		}
	}
	
	focus = {
		id = FRA_fund_synthetics
		icon = GFX_goal_autarky
		prerequisite = { focus = FRA_decrease_unemployement focus = FRA_tools_modernisation }
		prerequisite = { focus = FRA_agriculture_national_office }
		prerequisite = { focus = FRA_sncf }
		relative_position_id = FRA_address_stagnant_econ
		x = -1
		y = 2
		cost = 50
		search_filters = { FOCUS_FILTER_INDUSTRY }
		
		available = {
			date > 1939.1.1
			custom_trigger_tooltip = {
				tooltip = FRA_not_in_crisis_tooltip
				NOT = {
					has_country_flag = FRA_in_crisis
				}
			}
		}
		cancel = {
			custom_trigger_tooltip = {
				tooltip = FRA_in_crisis_tooltip
				has_country_flag = FRA_in_crisis
			}
		}
		
		completion_reward = {
			add_tech_bonus = {
				name = GER_oil_knowledge
				bonus = 0.50
				uses = 1
				category = fuel_tech
			}
			add_tech_bonus = {
				name = GER_oil_knowledge
				bonus = 0.50
				uses = 1
				category = synth_resources
			}
			### STABILITY ###
			hidden_effect = {
				if = {
					limit = {
						is_ai = yes
						has_stability < 0.4
					}
					add_stability = 0.1
				}
			}
		}
	}
	
	focus = {
		id = FRA_national_oil_co
		icon = GFX_goal_fra_co_synthetic
		prerequisite = { focus = FRA_fund_synthetics }
		relative_position_id = FRA_fund_synthetics
		x = 0
		y = 1
		cost = 50
		search_filters = { FOCUS_FILTER_INDUSTRY }
		
		available = {
			date > 1940.1.1
			custom_trigger_tooltip = {
				tooltip = FRA_not_in_crisis_tooltip
				NOT = {
					has_country_flag = FRA_in_crisis
				}
			}
		}
		bypass = {
			has_tech = fuel_refining3
		}
		cancel = {
			custom_trigger_tooltip = {
				tooltip = FRA_in_crisis_tooltip
				has_country_flag = FRA_in_crisis
			}
		}
		
		completion_reward = {
			custom_effect_tooltip = FRA_military_complex_nationalisation_tooltip
			if = {
				limit = {
					NOT = {
						has_tech = fuel_refining
					}
				}
				set_technology = { fuel_refining = 1 }
			}
			else_if = {
				limit = {
					NOT = {
						has_tech = fuel_refining2
					}
				}
				set_technology = { fuel_refining2 = 1 }
			}
			else_if = {
				limit = {
					NOT = {
						has_tech = fuel_refining3
					}
				}
				set_technology = { fuel_refining3 = 1 }
			}		
			### STABILITY ###
			hidden_effect = {
				if = {
					limit = {
						is_ai = yes
						has_stability < 0.4
					}
					add_stability = 0.1
				}
			}
		}
	}
	
	focus = {
		id = FRA_expand_fuel_storage
		icon = GFX_goal_barrels
		prerequisite = { focus = FRA_national_oil_co }
		relative_position_id = FRA_national_oil_co
		x = 0
		y = 1
		cost = 50
		search_filters = { FOCUS_FILTER_INDUSTRY }
		
		available = {
			has_tech = fuel_silos
			custom_trigger_tooltip = {
				tooltip = FRA_not_in_crisis_tooltip
				NOT = {
					has_country_flag = FRA_in_crisis
				}
			}
		}
		cancel = {
			custom_trigger_tooltip = {
				tooltip = FRA_in_crisis_tooltip
				has_country_flag = FRA_in_crisis
			}
		}
		
		completion_reward = {
			if = {
				limit = {
					NOT = {
						has_tech = fuel_silos
					}
				}
				custom_effect_tooltip = FRA_need_fuel_silos
			}
			random_owned_controlled_state = {
				prioritize = { 15 }
				limit = {
					free_building_slots = {
						building = fuel_silo
						size > 0
						include_locked = yes
					}
					is_on_continent = europe
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = fuel_silo
					level = 2
					instant_build = yes
				}
				set_state_flag = FRA_fuel_storage
			}
			### STABILITY ###
			hidden_effect = {
				if = {
					limit = {
						is_ai = yes
						has_stability < 0.4
					}
					add_stability = 0.1
				}
			}
		}
	}
	
	focus = {
		id = FRA_industrial_effort
		icon = GFX_goal_fra_industry
		prerequisite = { focus = FRA_decrease_unemployement focus = FRA_tools_modernisation }
		prerequisite = { focus = FRA_agriculture_national_office }
		prerequisite = { focus = FRA_sncf }
		relative_position_id = FRA_address_stagnant_econ
		x = 1
		y = 2
		cost = 50
		search_filters = { FOCUS_FILTER_INDUSTRY }
		
		available = {
			custom_trigger_tooltip = {
				tooltip = FRA_not_in_crisis_tooltip
				NOT = {
					has_country_flag = FRA_in_crisis
				}
			}
		}
		cancel = {
			custom_trigger_tooltip = {
				tooltip = FRA_in_crisis_tooltip
				has_country_flag = FRA_in_crisis
			}
		}
		available_if_capitulated = yes
		
		completion_reward = {
			every_owned_state = {	
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
					is_on_continent = europe
				}
				random_select_amount = 3
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
					is_on_continent = europe
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
			### STABILITY ###
			hidden_effect = {
				if = {
					limit = {
						is_ai = yes
						has_stability < 0.4
					}
					add_stability = 0.1
				}
			}
		}
	}
	
	focus = {
		id = FRA_industrial_effort_2
		icon = GFX_goal_fra_industry
		prerequisite = { focus = FRA_industrial_effort }
		relative_position_id = FRA_industrial_effort
		x = 0
		y = 1
		cost = 50
		search_filters = { FOCUS_FILTER_INDUSTRY }
		
		available = {
			custom_trigger_tooltip = {
				tooltip = FRA_not_in_crisis_tooltip
				NOT = {
					has_country_flag = FRA_in_crisis
				}
			}
		}
		cancel = {
			custom_trigger_tooltip = {
				tooltip = FRA_in_crisis_tooltip
				has_country_flag = FRA_in_crisis
			}
		}
		available_if_capitulated = yes
		
		completion_reward = {
			every_owned_state = {	
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
					is_on_continent = europe
				}
				random_select_amount = 3
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
					is_on_continent = europe
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
			### STABILITY ###
			hidden_effect = {
				if = {
					limit = {
						is_ai = yes
						has_stability < 0.4
					}
					add_stability = 0.1
				}
			}
		}
	}
	
	focus = {
		id = FRA_infrastructure_effort
		icon = GFX_goal_generic_construct_infrastructure2
		prerequisite = { focus = FRA_industrial_effort_2 }
		relative_position_id = FRA_industrial_effort_2
		x = 0
		y = 1
		cost = 50
		search_filters = { FOCUS_FILTER_INFRASTRUCTURE }
		
		available = {
			custom_trigger_tooltip = {
				tooltip = FRA_not_in_crisis_tooltip
				NOT = {
					has_country_flag = FRA_in_crisis
				}
			}
		}
		cancel = {
			custom_trigger_tooltip = {
				tooltip = FRA_in_crisis_tooltip
				has_country_flag = FRA_in_crisis
			}
		}
		available_if_capitulated = yes
		
		completion_reward = {
			15 = { # Normandy
				if = {
					limit = {
						is_controlled_by = FRA
					}
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			19 = { # Aquitaine
				if = {
					limit = {
						is_controlled_by = FRA
					}
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			23 = { # Poitou
				if = {
					limit = {
						is_controlled_by = FRA
					}
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			30 = { # Loire
				if = {
					limit = {
						is_controlled_by = FRA
					}
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			14 = { # Brittany
				if = {
					limit = {
						is_controlled_by = FRA
					}
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			### STABILITY ###
			hidden_effect = {
				if = {
					limit = {
						is_ai = yes
						has_stability < 0.4
					}
					add_stability = 0.1
				}
			}
		}
	}
	
	focus = {
		id = FRA_research_grants
		icon = GFX_goal_oil_research
		prerequisite = { focus = FRA_expand_fuel_storage focus = FRA_infrastructure_effort }
		relative_position_id = FRA_expand_fuel_storage
		x = 1
		y = 1
		cost = 30
		search_filters = { FOCUS_FILTER_RESEARCHCENTER }
		
		available = {
			custom_trigger_tooltip = {
				tooltip = FRA_not_in_crisis_tooltip
				NOT = {
					has_country_flag = FRA_in_crisis
				}
			}
		}
		cancel = {
			custom_trigger_tooltip = {
				tooltip = FRA_in_crisis_tooltip
				has_country_flag = FRA_in_crisis
			}
		}
		available_if_capitulated = yes
		
		completion_reward = {
			add_research_slot = 1
			add_research_centre = yes
			SLOT:industry_folder = yes
			SLOT:raw_materials_folder = yes
			SLOT:electronics_folder = yes
			SLOT:nuclear_folder = yes
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
					is_on_continent = europe
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
			### STABILITY ###
			hidden_effect = {
				if = {
					limit = {
						is_ai = yes
						has_stability < 0.4
					}
					add_stability = 0.1
				}
			}
		}
	}
	
	focus = {
		id = FRA_economic_reforms
		icon = GFX_goal_generic_inflation
		prerequisite = { focus = FRA_promise_econ_renewal }
		relative_position_id = FRA_promise_econ_renewal
		x = 2
		y = 1
		cost = 50
		search_filters = { FOCUS_FILTER_INDUSTRY }
		
		available = {
			custom_trigger_tooltip = {
				tooltip = Get_dat_inflation
				OR = {
					has_idea = FRA_inflation1
					has_idea = FRA_inflation2
					has_idea = FRA_inflation3
					has_idea = FRA_inflation4
				}
			}
			custom_trigger_tooltip = {
				tooltip = Your_econ_sucks_too_much
				AND = {
					NOT = { has_idea = FRA_stagnant_econ_5 }
					NOT = { has_idea = FRA_stagnant_econ_4 }
					NOT = { has_idea = FRA_stagnant_econ_3 }
					NOT = { has_idea = FRA_stagnant_econ_2 }
					NOT = { has_idea = FRA_stagnant_econ_1 }
				}
			}
			custom_trigger_tooltip = {
				tooltip = FRA_not_in_crisis_tooltip
				NOT = {
					has_country_flag = FRA_in_crisis
				}
			}
		}
		bypass = {
			AND = {
				NOT = { has_idea = FRA_inflation1 }
				NOT = { has_idea = FRA_inflation2 }
				NOT = { has_idea = FRA_inflation3 }
				NOT = { has_idea = FRA_inflation4 }
				has_country_flag = FRA_inflation2_flag
			}
		}
		cancel = {
			custom_trigger_tooltip = {
				tooltip = FRA_in_crisis_tooltip
				has_country_flag = FRA_in_crisis
			}
		}
		available_if_capitulated = yes
		
		completion_reward = {
			if = {
				limit = {
					NOT = {
						has_idea = FRA_inflation1
						has_idea = FRA_inflation2
						has_idea = FRA_inflation3
						has_idea = FRA_inflation4
					}
				}
				custom_effect_tooltip = No_inflation_yet
			}
			if = {
				limit = {
					has_idea = FRA_inflation1
				}
				remove_ideas = FRA_inflation1
			}
			if = {
				limit = {
					has_idea = FRA_inflation2
				}
				swap_ideas = {
					add_idea = FRA_inflation1
					remove_idea = FRA_inflation2
				}
			}
			if = {
				limit = {
					has_idea = FRA_inflation3
				}
				swap_ideas = {
					add_idea = FRA_inflation2
					remove_idea = FRA_inflation3
				}
			}
			if = {
				limit = {
					has_idea = FRA_inflation4
				}
				swap_ideas = {
					add_idea = FRA_inflation3
					remove_idea = FRA_inflation4
				}
			}
			add_stability = -0.05
			### STABILITY ###
			hidden_effect = {
				if = {
					limit = {
						is_ai = yes
						has_stability < 0.4
					}
					add_stability = 0.1
				}
			}
		}
	}
	
	focus = {
		id = FRA_devaluation
		icon = GFX_goal_fra_devaluate_the_franc
		prerequisite = { focus = FRA_economic_reforms }
		relative_position_id = FRA_economic_reforms
		x = 0
		y = 1
		cost = 50
		search_filters = { FOCUS_FILTER_INDUSTRY }
		
		available = {
			custom_trigger_tooltip = {
				tooltip = Get_dat_inflation
				OR = {
					has_idea = FRA_inflation1
					has_idea = FRA_inflation2
					has_idea = FRA_inflation3
					has_idea = FRA_inflation4
				}
			}
			custom_trigger_tooltip = {
				tooltip = Your_econ_sucks_too_much
				AND = {
					NOT = { has_idea = FRA_stagnant_econ_5 }
					NOT = { has_idea = FRA_stagnant_econ_4 }
					NOT = { has_idea = FRA_stagnant_econ_3 }
					NOT = { has_idea = FRA_stagnant_econ_2 }
					NOT = { has_idea = FRA_stagnant_econ_1 }
				}
			}
			custom_trigger_tooltip = {
				tooltip = FRA_not_in_crisis_tooltip
				NOT = {
					has_country_flag = FRA_in_crisis
				}
			}
		}
		bypass = {
			AND = {
				NOT = { has_idea = FRA_inflation1 }
				NOT = { has_idea = FRA_inflation2 }
				NOT = { has_idea = FRA_inflation3 }
				NOT = { has_idea = FRA_inflation4 }
				has_country_flag = FRA_inflation2_flag
			}
		}
		cancel = {
			custom_trigger_tooltip = {
				tooltip = FRA_in_crisis_tooltip
				has_country_flag = FRA_in_crisis
			}
		}
		available_if_capitulated = yes
		
		completion_reward = {
			if = {
				limit = {
					NOT = {
						has_idea = FRA_inflation1
						has_idea = FRA_inflation2
						has_idea = FRA_inflation3
						has_idea = FRA_inflation4
					}
				}
				custom_effect_tooltip = No_inflation_yet
			}
			if = {
				limit = {
					has_idea = FRA_inflation1
				}
				remove_ideas = FRA_inflation1
			}
			if = {
				limit = {
					has_idea = FRA_inflation2
				}
				swap_ideas = {
					add_idea = FRA_inflation1
					remove_idea = FRA_inflation2
				}
			}
			if = {
				limit = {
					has_idea = FRA_inflation3
				}
				swap_ideas = {
					add_idea = FRA_inflation2
					remove_idea = FRA_inflation3
				}
			}
			if = {
				limit = {
					has_idea = FRA_inflation4
				}
				swap_ideas = {
					add_idea = FRA_inflation3
					remove_idea = FRA_inflation4
				}
			}
			add_stability = -0.05
			### STABILITY ###
			hidden_effect = {
				if = {
					limit = {
						is_ai = yes
						has_stability < 0.4
					}
					add_stability = 0.1
				}
			}
		}
	}
	
	focus = {
		id = FRA_budget_deficit_law
		icon = GFX_goal_fra_paper
		prerequisite = { focus = FRA_devaluation }
		relative_position_id = FRA_devaluation
		x = 0
		y = 1
		cost = 50
		search_filters = { FOCUS_FILTER_INDUSTRY }
		
		available = {
			custom_trigger_tooltip = {
				tooltip = Get_dat_inflation
				OR = {
					has_idea = FRA_inflation1
					has_idea = FRA_inflation2
					has_idea = FRA_inflation3
					has_idea = FRA_inflation4
				}
			}
			custom_trigger_tooltip = {
				tooltip = Your_econ_sucks_too_much
				AND = {
					NOT = { has_idea = FRA_stagnant_econ_5 }
					NOT = { has_idea = FRA_stagnant_econ_4 }
					NOT = { has_idea = FRA_stagnant_econ_3 }
					NOT = { has_idea = FRA_stagnant_econ_2 }
					NOT = { has_idea = FRA_stagnant_econ_1 }
				}
			}
			custom_trigger_tooltip = {
				tooltip = FRA_not_in_crisis_tooltip
				NOT = {
					has_country_flag = FRA_in_crisis
				}
			}
		}
		bypass = {
			AND = {
				NOT = { has_idea = FRA_inflation1 }
				NOT = { has_idea = FRA_inflation2 }
				NOT = { has_idea = FRA_inflation3 }
				NOT = { has_idea = FRA_inflation4 }
				has_country_flag = FRA_inflation2_flag
			}
		}
		cancel = {
			custom_trigger_tooltip = {
				tooltip = FRA_in_crisis_tooltip
				has_country_flag = FRA_in_crisis
			}
		}
		available_if_capitulated = yes
		
		completion_reward = {
			if = {
				limit = {
					NOT = {
						has_idea = FRA_inflation1
						has_idea = FRA_inflation2
						has_idea = FRA_inflation3
						has_idea = FRA_inflation4
					}
				}
				custom_effect_tooltip = No_inflation_yet
			}
			if = {
				limit = {
					has_idea = FRA_inflation1
				}
				remove_ideas = FRA_inflation1
			}
			if = {
				limit = {
					has_idea = FRA_inflation2
				}
				swap_ideas = {
					add_idea = FRA_inflation1
					remove_idea = FRA_inflation2
				}
			}
			if = {
				limit = {
					has_idea = FRA_inflation3
				}
				swap_ideas = {
					add_idea = FRA_inflation2
					remove_idea = FRA_inflation3
				}
			}
			if = {
				limit = {
					has_idea = FRA_inflation4
				}
				swap_ideas = {
					add_idea = FRA_inflation3
					remove_idea = FRA_inflation4
				}
			}
			add_stability = -0.05
			### STABILITY ###
			hidden_effect = {
				if = {
					limit = {
						is_ai = yes
						has_stability < 0.4
					}
					add_stability = 0.1
				}
			}
		}
	}
	
	focus = {
		id = FRA_exchange_rate_stabilisation
		icon = GFX_goal_generic_positive_trade_relations
		mutually_exclusive = { focus = FRA_force_economic_reform }
		prerequisite = { focus = FRA_budget_deficit_law }
		relative_position_id = FRA_budget_deficit_law
		x = 1
		y = 1
		cost = 30
		search_filters = { FOCUS_FILTER_POLITICAL }
		available_if_capitulated = yes
		
		available = {
			OR = {
				custom_trigger_tooltip = {
					tooltip = Pop_front_not_dead
					NOT = { has_global_flag = front_explosed }
					has_completed_focus = FRA_popular_front
					has_government = socialism
				}
				custom_trigger_tooltip = {
					tooltip = Unlock_w_crisis_blum
					has_completed_focus = FRA_support_blum
				}
			}
			custom_trigger_tooltip = {
				tooltip = FRA_not_in_crisis_tooltip
				NOT = {
					has_country_flag = FRA_in_crisis
				}
			}
		}
		cancel = {
			custom_trigger_tooltip = {
				tooltip = FRA_in_crisis_tooltip
				has_country_flag = FRA_in_crisis
			}
		}
		
		completion_reward = {
			if = {
				limit = {
					has_idea = FRA_inflation1
				}
				remove_ideas = FRA_inflation1
			}
			add_political_power = 150
			add_stability = 0.2
		}
	}
	
	focus = {
		id = FRA_bank_france
		icon = GFX_goal_fra_bank_of_france
		prerequisite = { focus = FRA_exchange_rate_stabilisation }
		relative_position_id = FRA_exchange_rate_stabilisation
		x = 1
		y = 1
		cost = 30
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }
		
		available = {
			OR = {
				custom_trigger_tooltip = {
					tooltip = Pop_front_not_dead
					NOT = { has_global_flag = front_explosed }
					has_completed_focus = FRA_popular_front
					has_government = socialism
				}
				custom_trigger_tooltip = {
					tooltip = Unlock_w_crisis_blum
					has_completed_focus = FRA_support_blum
				}
			}
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = FRA_not_in_crisis_tooltip
				NOT = {
					has_country_flag = FRA_in_crisis
				}
			}
		}
		cancel = {
			custom_trigger_tooltip = {
				tooltip = FRA_in_crisis_tooltip
				has_country_flag = FRA_in_crisis
			}
		}
		available_if_capitulated = yes
		
		completion_reward = {
			add_stability = -0.03
			add_ideas =  FRA_bank_nationalisation
			### STABILITY ###
			hidden_effect = {
				if = {
					limit = {
						is_ai = yes
						has_stability < 0.4
					}
					add_stability = 0.1
				}
			}
		}
	}
	
	focus = {
		id = FRA_force_economic_reform
		icon = GFX_goal_generic_make_it_legal
		prerequisite = { focus = FRA_budget_deficit_law }
		relative_position_id = FRA_budget_deficit_law
		mutually_exclusive = { focus = FRA_exchange_rate_stabilisation }
		x = -1
		y = 1
		cost = 70
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }
		
		available = {
			OR = {
				date > 1938.1.1
				has_government = communism
				custom_trigger_tooltip = {
					tooltip = Unlock_w_crisis_daladier
					has_completed_focus  =  FRA_support_daladier
				}
			}
			custom_trigger_tooltip = {
				tooltip = FRA_not_in_crisis_tooltip
				NOT = {
					has_country_flag = FRA_in_crisis
				}
			}
		}
		cancel = {
			custom_trigger_tooltip = {
				tooltip = FRA_in_crisis_tooltip
				has_country_flag = FRA_in_crisis
			}
		}
		available_if_capitulated = yes
		
		completion_reward = {
			if = {
				limit = {
					has_idea = FRA_inflation1
				}
				remove_ideas = FRA_inflation1
			}
			add_stability = -0.1
			### STABILITY ###
			hidden_effect = {
				if = {
					limit = {
						is_ai = yes
						has_stability < 0.4
					}
					add_stability = 0.1
				}
			}
		}
	}
	
	focus = {
		id = FRA_liberal_economy
		icon = GFX_goal_FRA_support_democracy
		prerequisite = { focus = FRA_force_economic_reform }
		relative_position_id = FRA_force_economic_reform
		mutually_exclusive = { focus = FRA_economic_centralization }
		x = -1
		y = 1
		cost = 50
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }
		
		available = {
			OR = {
				date > 1939.1.1
				democratic_govt = yes
				custom_trigger_tooltip = {
					tooltip = Unlock_w_crisis_daladier
					has_completed_focus  =  FRA_support_daladier
				}
			}
			custom_trigger_tooltip = {
				tooltip = FRA_not_in_crisis_tooltip
				NOT = {
					has_country_flag = FRA_in_crisis
				}
			}
		}
		cancel = {
			custom_trigger_tooltip = {
				tooltip = FRA_in_crisis_tooltip
				has_country_flag = FRA_in_crisis
			}
		}
		available_if_capitulated = yes
		
		completion_reward = {
			add_stability = -0.05
			add_ideas = fra_economic_recovery
			### STABILITY ###
			hidden_effect = {
				if = {
					limit = {
						is_ai = yes
						has_stability < 0.4
					}
					add_stability = 0.1
				}
			}
		}
	}
	
	focus = {
		id = FRA_economic_centralization
		icon = GFX_goal_state_economy
		prerequisite = { focus = FRA_force_economic_reform }
		relative_position_id = FRA_force_economic_reform
		mutually_exclusive = { focus = FRA_liberal_economy }
		x = 1
		y = 1
		cost = 50
		search_filters = { FOCUS_FILTER_POLITICAL }
		
		available = {
			OR = {
			    has_government = fascism
				has_government = communism
				has_government = monarchism
			}
			custom_trigger_tooltip = {
				tooltip = FRA_not_in_crisis_tooltip
				NOT = {
					has_country_flag = FRA_in_crisis
				}
			}
		}
		cancel = {
			custom_trigger_tooltip = {
				tooltip = FRA_in_crisis_tooltip
				has_country_flag = FRA_in_crisis
			}
		}
		available_if_capitulated = yes
		
		completion_reward = {
			add_timed_idea = { idea = fra_five_year_plan days = 1825 }
			### STABILITY ###
			hidden_effect = {
				if = {
					limit = {
						is_ai = yes
						has_stability < 0.4
					}
					add_stability = 0.1
				}
			}
		}
	}
	
	#Catholic Socialism
	focus = {
		id = FRA_economic_mona
		icon = GFX_focus_por_concordat
		prerequisite = { focus = FRA_economic_centralization }
		relative_position_id = FRA_economic_centralization
		mutually_exclusive = { focus = FRA_economic_fasc }
		mutually_exclusive = { focus = FRA_economic_commie }
		x = -2
		y = 1
		cost = 50
		search_filters = { FOCUS_FILTER_POLITICAL }
		
		available = {
			has_government = monarchism
			custom_trigger_tooltip = {
				tooltip = FRA_not_in_crisis_tooltip
				NOT = {
					has_country_flag = FRA_in_crisis
				}
			}
		}
		cancel = {
			custom_trigger_tooltip = {
				tooltip = FRA_in_crisis_tooltip
				has_country_flag = FRA_in_crisis
			}
		}
		available_if_capitulated = yes
		
		completion_reward = {
			add_ideas = fra_catholic_socialism
			### STABILITY ###
			hidden_effect = {
				if = {
					limit = {
						is_ai = yes
						has_stability < 0.4
					}
					add_stability = 0.1
				}
			}
		}
	}
	
	#Create the CGOC
	focus = {
		id = FRA_economic_fasc
		icon = GFX_focus_generic_etatist_economy
		prerequisite = { focus = FRA_economic_centralization }
		relative_position_id = FRA_economic_centralization
		mutually_exclusive = { focus = FRA_economic_mona }
		mutually_exclusive = { focus = FRA_economic_commie }
		x = 0
		y = 1
		cost = 50
		search_filters = { FOCUS_FILTER_INDUSTRY }
		
		available = {
			has_government = fascism
			custom_trigger_tooltip = {
				tooltip = FRA_not_in_crisis_tooltip
				NOT = {
					has_country_flag = FRA_in_crisis
				}
			}
		}
		cancel = {
			custom_trigger_tooltip = {
				tooltip = FRA_in_crisis_tooltip
				has_country_flag = FRA_in_crisis
			}
		}
		available_if_capitulated = yes
		
		completion_reward = {
			add_ideas = planned_economy
			### STABILITY ###
			hidden_effect = {
				if = {
					limit = {
						is_ai = yes
						has_stability < 0.4
					}
					add_stability = 0.1
				}
			}
		}
	}
	
	#Collectivised Economy
	focus = {
		id = FRA_economic_commie
		icon = GFX_goal_facilitate_full_employment
		prerequisite = { focus = FRA_economic_centralization }
		relative_position_id = FRA_economic_centralization
		mutually_exclusive = { focus = FRA_economic_mona }
		mutually_exclusive = { focus = FRA_economic_fasc }
		x = 2
		y = 1
		cost = 50
		search_filters = { FOCUS_FILTER_INDUSTRY }
		
		available = {
			has_government = communism
			custom_trigger_tooltip = {
				tooltip = FRA_not_in_crisis_tooltip
				NOT = {
					has_country_flag = FRA_in_crisis
				}
			}
		}
		cancel = {
			custom_trigger_tooltip = {
				tooltip = FRA_in_crisis_tooltip
				has_country_flag = FRA_in_crisis
			}
		}
		available_if_capitulated = yes
		
		completion_reward = {
			add_ideas = fra_cgoc
			### STABILITY ###
			hidden_effect = {
				if = {
					limit = {
						is_ai = yes
						has_stability < 0.4
					}
					add_stability = 0.1
				}
			}
		}
	}
	
	focus = {
		id = FRA_defense_national_funds
		icon = GFX_goal_bag_of_money_deal
		#prerequisite = { focus = FRA_rearmament }
		prerequisite = { focus = FRA_promise_econ_renewal }
		relative_position_id = FRA_promise_econ_renewal
		x = 4
		y = 1
		cost = 30
		search_filters = { FOCUS_FILTER_STABILITY }
		
		available = {
			OR = {
				threat > 0.2
				date > 1938.1.1
				has_government = fascism
				custom_trigger_tooltip = {
					tooltip = Unlock_w_crisis_daladier
					has_completed_focus  =  FRA_support_daladier
				}
			}
			custom_trigger_tooltip = {
				tooltip = FRA_not_in_crisis_tooltip
				NOT = {
					has_country_flag = FRA_in_crisis
				}
			}
		}
		cancel = {
			custom_trigger_tooltip = {
				tooltip = FRA_in_crisis_tooltip
				has_country_flag = FRA_in_crisis
			}
		}
		continue_if_invalid = yes
		
		completion_reward = {
			custom_effect_tooltip = FRA_defense_national_funds_tooltip
			add_stability = -0.03
			add_timed_idea = {
				idea = FRA_increase_military_funding
				days = 365
			}
			### STABILITY ###
			hidden_effect = {
				if = {
					limit = {
						is_ai = yes
						has_stability < 0.4
					}
					add_stability = 0.1
				}
			}
		}
	}
	
	focus = {
		id = FRA_war_material_licence
		icon = GFX_goal_certificate
		prerequisite = { focus = FRA_defense_national_funds }
		relative_position_id = FRA_defense_national_funds
		x = 0
		y = 1
		cost = 30
		search_filters = { FOCUS_FILTER_POLITICAL }
		
		available = {
			OR = {
				has_government = fascism
				custom_trigger_tooltip = {
					tooltip = Unlock_w_crisis_daladier
					has_completed_focus  =  FRA_support_daladier
				}
			}
			custom_trigger_tooltip = {
				tooltip = FRA_not_in_crisis_tooltip
				NOT = {
					has_country_flag = FRA_in_crisis
				}
			}
		}
		cancel = {
			custom_trigger_tooltip = {
				tooltip = FRA_in_crisis_tooltip
				has_country_flag = FRA_in_crisis
			}
		}
		available_if_capitulated = yes
		
		completion_reward = {
			custom_effect_tooltip = FRA_war_material_licence_tooltip
			news_event = { id = france.62 hours = 12 }
			### STABILITY ###
			hidden_effect = {
				if = {
					limit = {
						is_ai = yes
						has_stability < 0.4
					}
					add_stability = 0.1
				}
			}
		}
	}
	
	focus = {
		id = FRA_commit_automobile_manufacturer
		icon = GFX_goal_fra_car_deal
		prerequisite = { focus = FRA_war_material_licence }
		relative_position_id = FRA_war_material_licence
		x = 0
		y = 1
		cost = 30
		search_filters = { FOCUS_FILTER_POLITICAL }
		
		available = {
			OR = {
				has_government = fascism
				custom_trigger_tooltip = {
					tooltip = Unlock_w_crisis_daladier
					has_completed_focus  =  FRA_support_daladier
				}
			}
			custom_trigger_tooltip = {
				tooltip = FRA_not_in_crisis_tooltip
				NOT = {
					has_country_flag = FRA_in_crisis
				}
			}
		}
		cancel = {
			custom_trigger_tooltip = {
				tooltip = FRA_in_crisis_tooltip
				has_country_flag = FRA_in_crisis
			}
		}
		available_if_capitulated = yes
		
		completion_reward = {
			custom_effect_tooltip = FRA_commit_automobile_manufacturer_tooltip
			news_event = { id = france.63 hours = 12 }
			### STABILITY ###
			hidden_effect = {
				if = {
					limit = {
						is_ai = yes
						has_stability < 0.4
					}
					add_stability = 0.1
				}
			}
		}
	}
	
########## REARMAMENT TREE ##########
	
	focus = {
		id = FRA_rearmament
		icon = GFX_goal_generic_build_tank
		relative_position_id = FRA_promise_econ_renewal
		x = 11
		y = 0
		cost = 30
		search_filters = { FOCUS_FILTER_POLITICAL }
		
		available = {
			custom_trigger_tooltip = {
				tooltip = FRA_election_tooltip
				OR = {
					has_completed_focus = FRA_matignon_agreement_focus
					has_completed_focus = FRA_back_to_work
					has_war = yes
				}
			}
			custom_trigger_tooltip = {
				tooltip = FRA_not_in_crisis_tooltip
				NOT = {
					has_country_flag = FRA_in_crisis
				}
			}
		}
		cancel = {
			custom_trigger_tooltip = {
				tooltip = FRA_in_crisis_tooltip
				has_country_flag = FRA_in_crisis
			}
		}
		
		available_if_capitulated = yes
		allow_branch = {
			NOT = { has_global_flag = fall_of_france }
		}
		

		
		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
					is_on_continent = europe				
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
			add_political_power = -50
			custom_effect_tooltip = Line_break_keep_formating
			add_ideas = low_economic_mobilisation
			### STABILITY ###
			hidden_effect = {
				if = {
					limit = {
						is_ai = yes
						has_stability < 0.4
					}
					add_stability = 0.1
				}
			}
		}
	}
	
	focus = {
		id = FRA_balanced_rearmament
		icon = GFX_goal_shield_rifles_green
		prerequisite = { focus = FRA_rearmament }
		mutually_exclusive = { focus = FRA_reckless_rearmament }
		relative_position_id = FRA_rearmament
		x = 0
		y = 1
		cost = 50
		search_filters = { FOCUS_FILTER_INDUSTRY }
		
		available = {
			custom_trigger_tooltip = {
				tooltip = Unlock_w_crisis_deregulate
				has_completed_focus = FRA_deregulate_arms_industry
			}
			custom_trigger_tooltip = {
				tooltip = FRA_not_in_crisis_tooltip
				NOT = {
					has_country_flag = FRA_in_crisis
				}
			}
		}
		cancel = {
			custom_trigger_tooltip = {
				tooltip = FRA_in_crisis_tooltip
				has_country_flag = FRA_in_crisis
			}
		}
		
		complete_tooltip = {
			every_state = {
				limit = { has_state_flag = FRA_military_factories_BR0 }
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
						type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}
		
		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
					is_on_continent = europe				
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
				set_state_flag = FRA_military_factories_BR0
			}
			if = {
				limit = {
					is_ai = yes
				}
				hidden_effect = {
					random_owned_controlled_state = {
						limit = {
							free_building_slots = {
								building = arms_factory
								size > 0
								include_locked = yes
							}
							is_on_continent = europe				
						}
						add_extra_state_shared_building_slots = 1
						add_building_construction = {
							type = arms_factory
							level = 1
							instant_build = yes
						}
						set_state_flag = FRA_military_factories_hidden
					}
				}
			}
			### STABILITY ###
			hidden_effect = {
				if = {
					limit = {
						is_ai = yes
						has_stability < 0.4
					}
					add_stability = 0.1
				}
			}
		}
	}
	
	focus = {
		id = FRA_reckless_rearmament
		icon = GFX_goal_shield_rifles_fire
		prerequisite = { focus = FRA_rearmament }
		mutually_exclusive = { focus = FRA_balanced_rearmament }
		relative_position_id = FRA_rearmament
		x = -4
		y = 1
		cost = 30
		search_filters = { FOCUS_FILTER_INDUSTRY }
		
		available = {
			custom_trigger_tooltip = {
				tooltip = Unlock_w_crisis_nationalize
				has_completed_focus = FRA_nationalisation_acts
			}
			custom_trigger_tooltip = {
				tooltip = FRA_not_in_crisis_tooltip
				NOT = {
					has_country_flag = FRA_in_crisis
				}
			}
		}
		cancel = {
			custom_trigger_tooltip = {
				tooltip = FRA_in_crisis_tooltip
				has_country_flag = FRA_in_crisis
			}
		}
		
		complete_tooltip = {
		}
		
		completion_reward = {
			if = {
				limit = {
					NOT = {
						has_completed_focus = FRA_budget_balanced
					}
				}
				if = {
					limit = {
						not = {
							has_idea = FRA_stagnant_econ_1
							has_idea = FRA_stagnant_econ_2
							has_idea = FRA_stagnant_econ_3
							has_idea = FRA_stagnant_econ_4
							has_idea = FRA_stagnant_econ_5
						}
					}
					add_ideas = FRA_stagnant_econ_1
				}
				if = {
					limit = {
						has_idea = FRA_stagnant_econ_4
					}
					swap_ideas = {
						remove_idea = FRA_stagnant_econ_4
						add_idea = FRA_stagnant_econ_5
					}
				}
				if = {
					limit = {
						has_idea = FRA_stagnant_econ_3
					}
					swap_ideas = {
						remove_idea = FRA_stagnant_econ_3
						add_idea = FRA_stagnant_econ_4
					}
				}
				if = {
					limit = {
						has_idea = FRA_stagnant_econ_2
					}
					swap_ideas = {
						remove_idea = FRA_stagnant_econ_2
						add_idea = FRA_stagnant_econ_3
					}
				}
				if = {
					limit = {
						has_idea = FRA_stagnant_econ_1
					}
					swap_ideas = {
						remove_idea = FRA_stagnant_econ_1
						add_idea = FRA_stagnant_econ_2
					}
				}
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
					is_on_continent = europe				
				}
				add_extra_state_shared_building_slots = 4
				add_building_construction = {
					type = arms_factory
					level = 4
					instant_build = yes
				}
			}
			if = {
				limit = {
					is_ai = yes
				}
				hidden_effect = {
					random_owned_controlled_state = {
						limit = {
							free_building_slots = {
								building = arms_factory
								size > 0
								include_locked = yes
							}
							is_on_continent = europe				
						}
						add_extra_state_shared_building_slots = 2
						add_building_construction = {
							type = arms_factory
							level = 2
							instant_build = yes
						}
					}
				}
			}
			### STABILITY ###
			hidden_effect = {
				if = {
					limit = {
						is_ai = yes
						has_stability < 0.4
					}
					add_stability = 0.1
				}
			}
		}
	}
	
	focus = {
		id = FRA_military_complex_nationalisation
		icon = GFX_goal_reckless_rearm
		prerequisite = { focus = FRA_reckless_rearmament }
		relative_position_id = FRA_reckless_rearmament
		x = 0
		y = 1
		cost = 30
		search_filters = { FOCUS_FILTER_INDUSTRY }
		
		available = {
			OR = {
				threat > 0.05
				date > 1937.1.1
				has_war = yes
			}
			custom_trigger_tooltip = {
				tooltip = FRA_improve_econ_first
				NOT = {
					has_idea = FRA_stagnant_econ_5
				}
			}
			custom_trigger_tooltip = {
				tooltip = FRA_in_crisis_tooltip
				NOT = {
					has_country_flag = FRA_in_crisis
				}
			}
		}
		cancel = {
			custom_trigger_tooltip = {
				tooltip = FRA_in_crisis_tooltip
				has_country_flag = FRA_in_crisis
			}
		}
		

		
		completion_reward = {
			if = {
				limit = {
					NOT = {
						has_completed_focus = FRA_budget_balanced
					}
				}
				if = {
					limit = {
						not = {
							has_idea = FRA_stagnant_econ_1
							has_idea = FRA_stagnant_econ_2
							has_idea = FRA_stagnant_econ_3
							has_idea = FRA_stagnant_econ_4
							has_idea = FRA_stagnant_econ_5
						}
					}
					add_ideas = FRA_stagnant_econ_1
				}
				if = {
					limit = {
						has_idea = FRA_stagnant_econ_4
					}
					swap_ideas = {
						remove_idea = FRA_stagnant_econ_4
						add_idea = FRA_stagnant_econ_5
					}
				}
				if = {
					limit = {
						has_idea = FRA_stagnant_econ_3
					}
					swap_ideas = {
						remove_idea = FRA_stagnant_econ_3
						add_idea = FRA_stagnant_econ_4
					}
				}
				if = {
					limit = {
						has_idea = FRA_stagnant_econ_2
					}
					swap_ideas = {
						remove_idea = FRA_stagnant_econ_2
						add_idea = FRA_stagnant_econ_3
					}
				}
				if = {
					limit = {
						has_idea = FRA_stagnant_econ_1
					}
					swap_ideas = {
						remove_idea = FRA_stagnant_econ_1
						add_idea = FRA_stagnant_econ_2
					}
				}
			}
			
			every_owned_state = {	
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
					is_on_continent = europe
				}
				random_select_amount = 2
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
			if = {
				limit = {
					is_ai = yes
				}
				hidden_effect = {
					random_owned_controlled_state = {
						limit = {
							free_building_slots = {
								building = arms_factory
								size > 0
								include_locked = yes
							}
							is_on_continent = europe				
						}
						add_extra_state_shared_building_slots = 1
						add_building_construction = {
							type = arms_factory
							level = 1
							instant_build = yes
						}
					}
				}
			}
			### STABILITY ###
			hidden_effect = {
				if = {
					limit = {
						is_ai = yes
						has_stability < 0.4
					}
					add_stability = 0.1
				}
			}
		}
	}
	
	focus = {
		id = FRA_military_complex_nationalisation_2
		icon = GFX_goal_reckless_rearm
		prerequisite = { focus = FRA_military_complex_nationalisation }
		relative_position_id = FRA_military_complex_nationalisation
		x = 0
		y = 1
		cost = 30
		search_filters = { FOCUS_FILTER_INDUSTRY }
		
		available = {
			OR = {
				threat > 0.1
				date > 1937.6.1
				has_war = yes
			}
			custom_trigger_tooltip = {
				tooltip = FRA_improve_econ_first
				NOT = {
					has_idea = FRA_stagnant_econ_5
				}
			}
			custom_trigger_tooltip = {
				tooltip = FRA_not_in_crisis_tooltip
				NOT = {
					has_country_flag = FRA_in_crisis
				}
			}
		}
		cancel = {
			custom_trigger_tooltip = {
				tooltip = FRA_in_crisis_tooltip
				has_country_flag = FRA_in_crisis
			}
		}
		
	
		completion_reward = {
			if = {
				limit = {
					NOT = {
						has_completed_focus = FRA_budget_balanced
					}
				}
				if = {
					limit = {
						not = {
							has_idea = FRA_stagnant_econ_1
							has_idea = FRA_stagnant_econ_2
							has_idea = FRA_stagnant_econ_3
							has_idea = FRA_stagnant_econ_4
							has_idea = FRA_stagnant_econ_5
						}
					}
					add_ideas = FRA_stagnant_econ_1
				}
				if = {
					limit = {
						has_idea = FRA_stagnant_econ_4
					}
					swap_ideas = {
						remove_idea = FRA_stagnant_econ_4
						add_idea = FRA_stagnant_econ_5
					}
				}
				if = {
					limit = {
						has_idea = FRA_stagnant_econ_3
					}
					swap_ideas = {
						remove_idea = FRA_stagnant_econ_3
						add_idea = FRA_stagnant_econ_4
					}
				}
				if = {
					limit = {
						has_idea = FRA_stagnant_econ_2
					}
					swap_ideas = {
						remove_idea = FRA_stagnant_econ_2
						add_idea = FRA_stagnant_econ_3
					}
				}
				if = {
					limit = {
						has_idea = FRA_stagnant_econ_1
					}
					swap_ideas = {
						remove_idea = FRA_stagnant_econ_1
						add_idea = FRA_stagnant_econ_2
					}
				}
			}
			
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = tank_assembly
						size > 0
						include_locked = yes
					}
					is_on_continent = europe				
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = tank_assembly
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = artillery_assembly
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
					building = arms_factory
						size > 0
						include_locked = yes
					}
					is_on_continent = europe					
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
			
			if = {
				limit = {
					is_ai = yes
				}
				hidden_effect = {
					random_owned_controlled_state = {
						limit = {
							free_building_slots = {
								building = arms_factory
								size > 0
								include_locked = yes
							}
							is_on_continent = europe				
						}
						add_extra_state_shared_building_slots = 2
						add_building_construction = {
							type = arms_factory
							level = 2
							instant_build = yes
						}
					}
				}
			}
			### STABILITY ###
			hidden_effect = {
				if = {
					limit = {
						is_ai = yes
						has_stability < 0.4
					}
					add_stability = 0.1
				}
			}
		}
	}
	
	focus = {
		id = FRA_aircraft_manufacturer_nationalisation
		icon = GFX_goal_reckless_rearm
		prerequisite = {
			focus = FRA_military_complex_nationalisation_2
		}
		relative_position_id = FRA_military_complex_nationalisation_2
		x = 0
		y = 1
		cost = 30
		search_filters = { FOCUS_FILTER_AIRFORCE FOCUS_FILTER_INFRASTRUCTURE }
		
		available = {
			OR = {
				threat > 0.15
				date > 1938.1.1
				has_war = yes
			}
			custom_trigger_tooltip = {
				tooltip = FRA_improve_econ_first
				NOT = {
					has_idea = FRA_stagnant_econ_5
				}
			}
			custom_trigger_tooltip = {
				tooltip = FRA_not_in_crisis_tooltip
				NOT = {
					has_country_flag = FRA_in_crisis
				}
			}
		}
		cancel = {
			custom_trigger_tooltip = {
				tooltip = FRA_in_crisis_tooltip
				has_country_flag = FRA_in_crisis
			}
		}
		
		
		completion_reward = {
			if = {
				limit = {
					NOT = {
						has_completed_focus = FRA_budget_balanced
					}
				}
				if = {
					limit = {
						not = {
							has_idea = FRA_stagnant_econ_1
							has_idea = FRA_stagnant_econ_2
							has_idea = FRA_stagnant_econ_3
							has_idea = FRA_stagnant_econ_4
							has_idea = FRA_stagnant_econ_5
						}
					}
					add_ideas = FRA_stagnant_econ_1
				}
				if = {
					limit = {
						has_idea = FRA_stagnant_econ_4
					}
					swap_ideas = {
						remove_idea = FRA_stagnant_econ_4
						add_idea = FRA_stagnant_econ_5
					}
				}
				if = {
					limit = {
						has_idea = FRA_stagnant_econ_3
					}
					swap_ideas = {
						remove_idea = FRA_stagnant_econ_3
						add_idea = FRA_stagnant_econ_4
					}
				}
				if = {
					limit = {
						has_idea = FRA_stagnant_econ_2
					}
					swap_ideas = {
						remove_idea = FRA_stagnant_econ_2
						add_idea = FRA_stagnant_econ_3
					}
				}
				if = {
					limit = {
						has_idea = FRA_stagnant_econ_1
					}
					swap_ideas = {
						remove_idea = FRA_stagnant_econ_1
						add_idea = FRA_stagnant_econ_2
					}
				}
			}
			
			air_experience = 15
			random_owned_controlled_state = {
				limit = {
					is_in_home_area = yes
					free_building_slots = {
						building = air_base
						size > 1
					}
				}
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
				set_state_flag = FRA_air_focus_2air
			}
			
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = air_assembly
						size > 2
						include_locked = yes
					}
					is_on_continent = europe				
				}
				add_extra_state_shared_building_slots = 4
				add_building_construction = {
					type = air_assembly
					level = 3
					instant_build = yes
				}
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
			
			if = {
				limit = {
					is_ai = yes
				}
				hidden_effect = {
					random_owned_controlled_state = {
						limit = {
							free_building_slots = {
								building = arms_factory
								size > 0
								include_locked = yes
							}
							is_on_continent = europe				
						}
						add_extra_state_shared_building_slots = 2
						add_building_construction = {
							type = arms_factory
							level = 2
							instant_build = yes
						}
						set_state_flag = FRA_military_factories_hidden
					}
				}
			}
			### STABILITY ###
			hidden_effect = {
				if = {
					limit = {
						is_ai = yes
						has_stability < 0.4
					}
					add_stability = 0.1
				}
			}
		}
	}
	
	focus = {
		id = FRA_military_factories_1
		icon = GFX_goal_generic_construct_mil_factory
		prerequisite = { focus = FRA_balanced_rearmament }
		relative_position_id = FRA_balanced_rearmament
		x = 0
		y = 1
		cost = 50
		search_filters = { FOCUS_FILTER_INDUSTRY }
		
		available = {
			custom_trigger_tooltip = {
				tooltip = FRA_not_in_crisis_tooltip
				NOT = {
					has_country_flag = FRA_in_crisis
				}
			}
		}
		cancel = {
			custom_trigger_tooltip = {
				tooltip = FRA_in_crisis_tooltip
				has_country_flag = FRA_in_crisis
			}
		}
		
		
		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
					building = arms_factory
						size > 0
						include_locked = yes
					}
					is_on_continent = europe					
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
			if = {
				limit = {
					is_ai = yes
				}
				hidden_effect = {
					random_owned_controlled_state = {
						limit = {
							free_building_slots = {
								building = arms_factory
								size > 0
								include_locked = yes
							}
							is_on_continent = europe				
						}
						add_extra_state_shared_building_slots = 2
						add_building_construction = {
							type = arms_factory
							level = 2
							instant_build = yes
						}
					}
				}
			}
			### STABILITY ###
			hidden_effect = {
				if = {
					limit = {
						is_ai = yes
						has_stability < 0.4
					}
					add_stability = 0.1
				}
			}
		}
	}
	
	focus = {
		id = FRA_military_factories_2
		icon = GFX_goal_generic_construct_mil_factory
		prerequisite = { focus = FRA_military_factories_1 }
		relative_position_id = FRA_military_factories_1
		x = 0
		y = 1
		cost = 50
		search_filters = { FOCUS_FILTER_INDUSTRY }
		
		available = {
			custom_trigger_tooltip = {
				tooltip = FRA_not_in_crisis_tooltip
				NOT = {
					has_country_flag = FRA_in_crisis
				}
			}
		}
		cancel = {
			custom_trigger_tooltip = {
				tooltip = FRA_in_crisis_tooltip
				has_country_flag = FRA_in_crisis
			}
		}
		
		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
					building = arms_factory
						size > 0
						include_locked = yes
					}
					is_on_continent = europe					
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
			if = {
				limit = {
					is_ai = yes
				}
				hidden_effect = {
					random_owned_controlled_state = {
						limit = {
							free_building_slots = {
								building = arms_factory
								size > 0
								include_locked = yes
							}
							is_on_continent = europe				
						}
						add_extra_state_shared_building_slots = 2
						add_building_construction = {
							type = arms_factory
							level = 2
							instant_build = yes
						}
					}
				}
			}
			### STABILITY ###
			hidden_effect = {
				if = {
					limit = {
						is_ai = yes
						has_stability < 0.4
					}
					add_stability = 0.1
				}
			}
		}
	}
	
	focus = {
		id = FRA_military_factories_3
		icon = GFX_goal_generic_construct_mil_factory
		prerequisite = { focus = FRA_military_factories_2 }
		relative_position_id = FRA_military_factories_2
		x = 0
		y = 1
		cost = 50
		search_filters = { FOCUS_FILTER_INDUSTRY }
		
		available = {
			custom_trigger_tooltip = {
				tooltip = FRA_not_in_crisis_tooltip
				NOT = {
					has_country_flag = FRA_in_crisis
				}
			}
		}
		cancel = {
			custom_trigger_tooltip = {
				tooltip = FRA_in_crisis_tooltip
				has_country_flag = FRA_in_crisis
			}
		}
		
		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
					building = arms_factory
						size > 0
						include_locked = yes
					}
					is_on_continent = europe					
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
			if = {
				limit = {
					is_ai = yes
				}
				hidden_effect = {
					random_owned_controlled_state = {
						limit = {
							free_building_slots = {
								building = arms_factory
								size > 0
								include_locked = yes
							}
							is_on_continent = europe				
						}
						add_extra_state_shared_building_slots = 2
						add_building_construction = {
							type = arms_factory
							level = 2
							instant_build = yes
						}
					}
				}
			}
			### STABILITY ###
			hidden_effect = {
				if = {
					limit = {
						is_ai = yes
						has_stability < 0.4
					}
					add_stability = 0.1
				}
			}
		}
	}
	
	focus = {
		id = FRA_army_improvements
		icon = GFX_goal_fra_army_seal
		prerequisite = { focus = FRA_balanced_rearmament focus = FRA_reckless_rearmament }
		relative_position_id = FRA_balanced_rearmament
		x = -2
		y = 1
		cost = 30
		search_filters = { FOCUS_FILTER_INDUSTRY }
		
		available = {
			if = {
				limit = {
					is_ai = no
				}
				OR = {
					threat > 0.04
					has_completed_focus = FRA_nationalisation_acts
					has_war = yes
				}
			}
			custom_trigger_tooltip = {
				tooltip = FRA_not_in_crisis_tooltip
				NOT = {
					has_country_flag = FRA_in_crisis
				}
			}
		}
		cancel = {
			custom_trigger_tooltip = {
				tooltip = FRA_in_crisis_tooltip
				has_country_flag = FRA_in_crisis
			}
		}
		
		completion_reward = {
			add_tech_bonus = {
				name = FRA_army_reform
				bonus = 0.3
				uses = 1
				category = land_doctrine
			}
			add_tech_bonus = {
				name = FRA_army_reform
				bonus = 0.3
				uses = 1
				category = artillery
			}
			add_tech_bonus = {
				name = FRA_army_reform
				bonus = 0.3
				uses = 1
				category = support_tech
			}
			if = {
				limit = {
					is_ai = yes
				}
				hidden_effect = {
					add_equipment_to_stockpile = {
						type = infantry_equipment_0
						amount = 5000
						producer = FRA
					}
					add_equipment_to_stockpile = {
						type = infantry_uniforms_0
						amount = 5000
						producer = FRA
					}
				}
			}
			### STABILITY ###
			hidden_effect = {
				if = {
					limit = {
						is_ai = yes
						has_stability < 0.4
					}
					add_stability = 0.1
				}
			}
		}
	}
	
	focus = {
		id = FRA_motorized_focus
		icon = GFX_goal_generic_army_motorized
		prerequisite = { focus = FRA_army_improvements }
		relative_position_id = FRA_army_improvements
		x = 0
		y = 1
		cost = 30
		search_filters = { FOCUS_FILTER_ICCOST_REDUCTION }
		
		available = {
			if = {
				limit = {
					is_ai = no
				}
				OR = {
					threat > 0.07
					has_completed_focus = FRA_nationalisation_acts
					has_war = yes
				}
			}
			custom_trigger_tooltip = {
				tooltip = FRA_not_in_crisis_tooltip
				NOT = {
					has_country_flag = FRA_in_crisis
				}
			}
		}
		cancel = {
			custom_trigger_tooltip = {
				tooltip = FRA_in_crisis_tooltip
				has_country_flag = FRA_in_crisis
			}
		}
		available_if_capitulated = yes
		
		completion_reward = {
			add_ideas = FRA_motorized_focus
			### STABILITY ###
			hidden_effect = {
				if = {
					limit = {
						is_ai = yes
						has_stability < 0.4
					}
					add_stability = 0.1
				}
			}
		}
	}
	
	focus = {
		id = FRA_tank_modernisation
		icon = GFX_goal_fra_heavy_tank
		prerequisite = { focus = FRA_motorized_focus }
		relative_position_id = FRA_motorized_focus
		x = 0
		y = 1
		cost = 30
		search_filters = { FOCUS_FILTER_RESEARCH }
		
		available = {
			if = {
				limit = {
					is_ai = no
				}
				OR = {
					threat > 0.1
					has_completed_focus = FRA_nationalisation_acts
					has_war = yes
				}
			}
			custom_trigger_tooltip = {
				tooltip = FRA_not_in_crisis_tooltip
				NOT = {
					has_country_flag = FRA_in_crisis
				}
			}
		}
		cancel = {
			custom_trigger_tooltip = {
				tooltip = FRA_in_crisis_tooltip
				has_country_flag = FRA_in_crisis
			}
		}
		available_if_capitulated = yes
		
		completion_reward = {
			add_tech_bonus = {
				name = FRA_tank_modernisation
				bonus = 0.5
				uses = 2
				category = armor_tech
			}
			add_tech_bonus = {
				name = motorized_bonus
				bonus = 0.5
				uses = 1
				category = motorized_equipment
			}
			if = {
				limit = { is_ai = yes }
				custom_effect_tooltip = FRA_heavy_armor_div_tt
			}
			hidden_effect = {
				division_template = {
					name = "Division Cuirassées"			# Heavy Armor Division
					#division_names_group = FRA_ARM_01
					template_counter = 273
					
					regiments = {
						trm_heavy_armor = { x = 0 y = 0 }
						trm_heavy_armor = { x = 0 y = 1 }
						
						trm_light_armor = { x = 1 y = 0 }
						trm_light_armor = { x = 1 y = 1 }
						
						motorized = { x = 2 y = 0 }			# Historically had little infantry support
						
						artillery_brigade_mot = { x = 3 y = 0 }
						artillery_brigade_mot = { x = 3 y = 1 }
						artillery_brigade_mot = { x = 3 y = 2 }
						anti_tank_brigade_mot =  { x = 3 y = 3 }
					}
					support = {
						DIV_HQ_car = { x = 0 y = 0 }
						recon_mot = { x = 0 y = 1 }
						engineer_mot = { x = 0 y = 2 }
						maintenance_company = { x = 0 y = 3 }
						logistics_company_car = { x = 0 y = 4 }
						
						field_hospital = { x = 1 y = 0 }
					}
				}
			}
			### STABILITY ###
			hidden_effect = {
				if = {
					limit = {
						is_ai = yes
						has_stability < 0.4
					}
					add_stability = 0.1
				}
			}
		}
	}
	
	focus = {
		id = FRA_partial_mobilization
		icon = GFX_mobilisation
		prerequisite = { focus = FRA_tank_modernisation }
		prerequisite = { focus = FRA_military_factories_3 focus = FRA_aircraft_manufacturer_nationalisation }
		relative_position_id = FRA_tank_modernisation
		x = 0
		y = 2
		cost = 30
		search_filters =  { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }
		
		available = {
			OR = {
				threat > 0.10
				GER = { has_completed_focus  =  GER_anschluss }
				has_war = yes 
			}
			if = {
				limit = {
					is_ai = no
				}
				if = {
					limit = {
						threat < 0.05
					}
					has_political_power > 200
				}
				if = {
					limit = {
						AND = {
							threat > 0.05
							threat < 0.10
						}
					}
					has_political_power > 100
				}
				if = {
					limit = {
						AND = {
							threat > 0.10
							threat < 0.15
						}
					}
					has_political_power > 50
				}
				if = {
					limit = {
						AND = {
							threat > 0.15
							threat < 0.20
						}
					}
					has_political_power > 25
				}
			}
			custom_trigger_tooltip = {
				tooltip = FRA_not_in_crisis_tooltip
				NOT = {
					has_country_flag = FRA_in_crisis
				}
			}
		}
		cancel = {
			custom_trigger_tooltip = {
				tooltip = FRA_in_crisis_tooltip
				has_country_flag = FRA_in_crisis
			}
		}
		#bypass = {
		#	OR = {
		#		has_idea = partial_economic_mobilisation
		#		has_idea = war_economy
		#		has_idea = tot_economic_mobilisation
		#	}
	 	#}
		
		completion_reward = {
			if = {
				limit = {
					threat < 0.05
				}
				add_political_power = -200
			}
			if = {
				limit = {
					AND = {
						threat > 0.05
						threat < 0.10
					}
				}
				add_political_power = -100
			}
			if = {
				limit = {
					AND = {
						threat > 0.10
						threat < 0.15
					}
				}
				add_political_power = -50
			}
			if = {
				limit = {
					AND = {
						threat > 0.15
						threat < 0.20
					}
				}
				add_political_power = -25
			}
			custom_effect_tooltip = FRA_threat_reduction
			
			set_temp_variable = { input_group = token:economy }
			set_temp_variable = { input_lvl = 4 } #partial_economic_mobilisation
			set_temp_variable = { input_only_upgrade = 1 }
			add_law = yes

			if = {
				limit = {
					has_idea = partial_economic_mobilisation
				}
				add_timed_idea = {
					idea = FRA_increase_military_funding
					days = 300
				}
				add_manpower = 25000
			}
			### STABILITY ###
			hidden_effect = {
				if = {
					limit = {
						is_ai = yes
						has_stability < 0.4
					}
					add_stability = 0.1
				}
			}
		}
	}
	
	#### NAVAL SECTION ####
	
	focus = {
		id = FRA_naval_contruction_program
		icon = GFX_goal_generic_build_navy
		mutually_exclusive = { focus = FRA_accept_british_rule }
		prerequisite = { focus = FRA_rearmament }
		relative_position_id = FRA_rearmament
		x = 3
		y = 1
		cost = 20
		search_filters = { FOCUS_FILTER_NAVY }
		
		available = {
			custom_trigger_tooltip = {
				tooltip = FRA_not_in_crisis_tooltip
				NOT = {
					has_country_flag = FRA_in_crisis
				}
			}
		}
		cancel = {
			custom_trigger_tooltip = {
				tooltip = FRA_in_crisis_tooltip
				has_country_flag = FRA_in_crisis
			}
		}
		available_if_capitulated = yes
		
		complete_tooltip = {
			navy_experience = 25
			every_state = {
				limit = { has_state_flag = FRA_navy_focus_2NB }
			}		
		}
		
		completion_reward = {
			navy_experience = 25
			21 = {
				if = {
					limit = { is_controlled_by = ROOT }
					add_building_construction = {
						type = naval_base
						province = 11834
						level = 2
						instant_build = yes
					}
					set_state_flag = FRA_navy_focus_2NB
				}
			}
			459 = {
				if = {
					limit = { is_controlled_by = ROOT }
					add_building_construction = {
						type = naval_base
						province = 1145
						level = 2
						instant_build = yes
					}
					set_state_flag = FRA_navy_focus_2NB
				}
			}
			286 = {
				if = {
					limit = { is_controlled_by = ROOT }
					add_building_construction = {
						type = naval_base
						province = 4401
						level = 2
						instant_build = yes
					}
					set_state_flag = FRA_navy_focus_2NB
				}
			}
			### STABILITY ###
			hidden_effect = {
				if = {
					limit = {
						is_ai = yes
						has_stability < 0.4
					}
					add_stability = 0.1
				}
			}
		}
	}
	
	focus = {
		id = FRA_accept_british_rule
		icon = GFX_goal_fra_royal_navy
		mutually_exclusive = { focus = FRA_naval_contruction_program }
		prerequisite = { focus = FRA_rearmament }
		relative_position_id = FRA_rearmament
		x = 5
		y = 1
		cost = 30
		search_filters = { FOCUS_FILTER_NAVY }
		
		available = {
			is_in_faction_with = ENG
			custom_trigger_tooltip = {
				tooltip = FRA_not_in_crisis_tooltip
				NOT = {
					has_country_flag = FRA_in_crisis
				}
			}
		}
		cancel = {
			custom_trigger_tooltip = {
				tooltip = FRA_in_crisis_tooltip
				has_country_flag = FRA_in_crisis
			}
		}
		available_if_capitulated = yes
		
		complete_tooltip = {
			add_ideas = FRA_abandon_navy
		}
		
		completion_reward = {
			army_experience = 25
			add_ideas = FRA_abandon_navy
			### STABILITY ###
			hidden_effect = {
				if = {
					limit = {
						is_ai = yes
						has_stability < 0.4
					}
					add_stability = 0.1
				}
			}
		}
	}
	
	focus = {
		id = FRA_altlantic_domination
		icon = GFX_goal_generic_navy_battleship
	 	mutually_exclusive = { focus = FRA_pacific_protection }
	 	prerequisite = { focus = FRA_naval_contruction_program }
		relative_position_id = FRA_naval_contruction_program
		x = -1
		y = 1
		cost = 30
		search_filters = { FOCUS_FILTER_NAVY FOCUS_FILTER_RESEARCH }
		
		available = {
			custom_trigger_tooltip = {
				tooltip = FRA_not_in_crisis_tooltip
				NOT = {
					has_country_flag = FRA_in_crisis
				}
			}
		}
		cancel = {
			custom_trigger_tooltip = {
				tooltip = FRA_in_crisis_tooltip
				has_country_flag = FRA_in_crisis
			}
		}
		available_if_capitulated = yes
		
		completion_reward = {
			add_tech_bonus = {
				name = FRA_capital_ship_focus
				bonus = 0.5
				uses = 2
				category = bb_tech
				category = bc_tech
				category = ca_tech
				category = fbb_tech
			}
			if = {
				limit = {
					has_dlc = "Man the Guns"
				}
				add_tech_bonus = {
					name = FRA_capital_ship_focus
					bonus = 0.25
					uses = 1
					category = naval_battery_heavy
					category = naval_battery_medium
				}
			}
			### STABILITY ###
			hidden_effect = {
				if = {
					limit = {
						is_ai = yes
						has_stability < 0.4
					}
					add_stability = 0.1
				}
			}
		}
	}
	
	focus = {
		id = FRA_pacific_protection
		icon = GFX_goal_generic_navy_carrier
	 	mutually_exclusive = { focus = FRA_altlantic_domination }
	 	prerequisite = { focus = FRA_naval_contruction_program }
		relative_position_id = FRA_naval_contruction_program
		x = 1
		y = 1
		cost = 30
		search_filters = { FOCUS_FILTER_NAVY FOCUS_FILTER_RESEARCH }
		
		available = {
			custom_trigger_tooltip = {
				tooltip = FRA_not_in_crisis_tooltip
				NOT = {
					has_country_flag = FRA_in_crisis
				}
			}
		}
		cancel = {
			custom_trigger_tooltip = {
				tooltip = FRA_in_crisis_tooltip
				has_country_flag = FRA_in_crisis
			}
		}
		available_if_capitulated = yes
		
		completion_reward = {
			add_tech_bonus = {
				name = FRA_carrier_focus
				bonus = 0.5
				uses = 1
				category = cv_tech
			}
			### STABILITY ###
			hidden_effect = {
				if = {
					limit = {
						is_ai = yes
						has_stability < 0.4
					}
					add_stability = 0.1
				}
			}
		}
	}
	
	focus = {
		id = FRA_darlan_doctrine
		icon = GFX_goal_generic_navy_doctrines_tactics
	 	prerequisite = { 
	 		focus = FRA_altlantic_domination
	 		focus = FRA_pacific_protection
	 	}
		relative_position_id = FRA_altlantic_domination
		x = 1
		y = 1
		cost = 30
		search_filters = { FOCUS_FILTER_NAVY FOCUS_FILTER_RESEARCH }
		
		available = {
			custom_trigger_tooltip = {
				tooltip = FRA_not_in_crisis_tooltip
				NOT = {
					has_country_flag = FRA_in_crisis
				}
			}
		}
		cancel = {
			custom_trigger_tooltip = {
				tooltip = FRA_in_crisis_tooltip
				has_country_flag = FRA_in_crisis
			}
		}
		available_if_capitulated = yes
		
		completion_reward = {
			navy_experience = 50
			add_tech_bonus = {
				name = FRA_naval_doctrine
				bonus = 0.5
				uses = 2
				category = naval_doctrine
			}
			### STABILITY ###
			hidden_effect = {
				if = {
					limit = {
						is_ai = yes
						has_stability < 0.4
					}
					add_stability = 0.1
				}
			}
		}
	}
	
	focus = {
		id = FRA_shipyard_expansion
		icon = GFX_goal_generic_build_navy
		prerequisite = { 
			focus = FRA_darlan_doctrine
		}
		relative_position_id = FRA_darlan_doctrine
		x = -1
		y = 1
		cost = 70 # Previously was: 70.0 
		search_filters = { FOCUS_FILTER_NAVY FOCUS_FILTER_RESEARCH }

		available_if_capitulated = yes

		completion_reward = {
			random_owned_controlled_state = {
				prioritize = { 21 }
				limit = {
					dockyard > 2
					is_core_of = FRA
					is_fully_controlled_by = FRA
					is_coastal = yes
					NOT = { has_state_category = tiny_island }
					NOT = { has_state_category = small_island }
				}
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = shipyard_capital_building
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = shipyard
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = dockyard
					level = 1
					instant_build = yes
				}
			}
			### STABILITY ###
			hidden_effect = {
				if = {
					limit = {
						is_ai = yes
						has_stability < 0.4
					}
					add_stability = 0.1
				}
			}
		}
	}
	
	focus = {
		id = FRA_standardisation_engine
		icon = GFX_goal_generic_air_naval_bomber
		prerequisite = { focus = FRA_darlan_doctrine }
		relative_position_id = FRA_darlan_doctrine
		x = 1
		y = 1
		cost = 30
		search_filters = { FOCUS_FILTER_NAVY FOCUS_FILTER_RESEARCH }
		
		available = {
			custom_trigger_tooltip = {
				tooltip = FRA_not_in_crisis_tooltip
				NOT = {
					has_country_flag = FRA_in_crisis
				}
			}
		}
		cancel = {
			custom_trigger_tooltip = {
				tooltip = FRA_in_crisis_tooltip
				has_country_flag = FRA_in_crisis
			}
		}
		available_if_capitulated = yes
		
		completion_reward = {
			add_tech_bonus = {
				name = FRA_sea_wolves
				bonus = 0.5
				uses = 1
				category = ss_tech
			}
			add_tech_bonus = {
				name = FRA_naval_bomber_focus
				bonus = 0.35
				uses = 1
				category = naval_bomber
			}
			if = {
				limit = {
					has_dlc = "Man the Guns"
				}
				add_tech_bonus = {
					name = FRA_standardisation_engine
					bonus = 0.25
					uses = 1
					category = naval_engine
				}
			}
			### STABILITY ###
			hidden_effect = {
				if = {
					limit = {
						is_ai = yes
						has_stability < 0.4
					}
					add_stability = 0.1
				}
			}
		}
	}
	
	focus = {
		id = FRA_mediterranean_special_measures
		icon = GFX_goal_generic_navy_cruiser
		prerequisite = { focus = FRA_naval_contruction_program }
		relative_position_id = FRA_naval_contruction_program
		x = 2
		y = 2
		cost = 30
		search_filters = { FOCUS_FILTER_NAVY FOCUS_FILTER_RESEARCH }
		
		available = {
			custom_trigger_tooltip = {
				tooltip = FRA_not_in_crisis_tooltip
				NOT = {
					has_country_flag = FRA_in_crisis
				}
			}
		}
		cancel = {
			custom_trigger_tooltip = {
				tooltip = FRA_in_crisis_tooltip
				has_country_flag = FRA_in_crisis
			}
		}
		available_if_capitulated = yes
		
		completion_reward = {
			add_tech_bonus = {
				name = FRA_improved_screen_ships
				bonus = 0.5
				uses = 2
				category = dd_tech
				category = cl_tech
			}
			if = {
				limit = {
					has_dlc = "Man the Guns"
				}
				add_tech_bonus = {
					name = FRA_improved_screen_ships
					bonus = 0.25
					uses = 1
					category = naval_battery_light
				}
			}
			### STABILITY ###
			hidden_effect = {
				if = {
					limit = {
						is_ai = yes
						has_stability < 0.4
					}
					add_stability = 0.1
				}
			}
		}
	}
	
	#### AIR SECTION ####
	
	focus = {
		id = FRA_air_bases
		icon = GFX_goal_generic_build_airforce
		prerequisite = { focus = FRA_rearmament }
		relative_position_id = FRA_rearmament
		x = 8
		y = 1
		cost = 30
		search_filters = { FOCUS_FILTER_AIRFORCE }
		
		available = {
			custom_trigger_tooltip = {
				tooltip = FRA_not_in_crisis_tooltip
				NOT = {
					has_country_flag = FRA_in_crisis
				}
			}
		}
		cancel = {
			custom_trigger_tooltip = {
				tooltip = FRA_in_crisis_tooltip
				has_country_flag = FRA_in_crisis
			}
		}
		available_if_capitulated = yes
		
		complete_tooltip = {
			every_state = {
				limit = { has_state_flag = FRA_air_focus_2air }
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
			}
		}
		
		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = air_base
						size > 1
					}
					is_on_continent = europe
				}
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
				set_state_flag = FRA_air_focus_2air
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = air_base
						size > 1
					}
					is_on_continent = europe
				}
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
				set_state_flag = FRA_air_focus_2air
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = air_base
						size > 1
					}
					is_on_continent = europe
				}
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
				set_state_flag = FRA_air_focus_2air
			}
			### STABILITY ###
			hidden_effect = {
				if = {
					limit = {
						is_ai = yes
						has_stability < 0.4
					}
					add_stability = 0.1
				}
			}
		}
	}
	
	focus = {
		id = FRA_modernisation_program
		icon = GFX_goal_generic_air_fighter
	 	prerequisite = { focus = FRA_air_bases }
		relative_position_id = FRA_air_bases
		x = -1
		y = 1
		cost = 30
		search_filters = {FOCUS_FILTER_AIRFORCE FOCUS_FILTER_RESEARCH }
		
		available = {
			custom_trigger_tooltip = {
				tooltip = FRA_not_in_crisis_tooltip
				NOT = {
					has_country_flag = FRA_in_crisis
				}
			}
		}
		cancel = {
			custom_trigger_tooltip = {
				tooltip = FRA_in_crisis_tooltip
				has_country_flag = FRA_in_crisis
			}
		}
		available_if_capitulated = yes
		
		completion_reward = {
			add_tech_bonus = {
				name = FRA_fighter_focus
				bonus = 0.35
				uses = 1
				category = light_fighter
			}
			add_tech_bonus = {
				name = FRA_heavy_fighter_focus
				bonus = 0.35
				uses = 1
				category = cat_heavy_fighter
			}
			### STABILITY ###
			hidden_effect = {
				if = {
					limit = {
						is_ai = yes
						has_stability < 0.4
					}
					add_stability = 0.1
				}
			}
		}
	}
	
	focus = {
		id = FRA_buy_american_bombers
		icon = GFX_focus_USA_north_america_avi
	 	prerequisite = { focus = FRA_modernisation_program }
		relative_position_id = FRA_modernisation_program
		x = 0
		y = 1
		cost = 30
		search_filters = { FOCUS_FILTER_AIRFORCE FOCUS_FILTER_RESEARCH }
		
		available = {
			OR = {
				threat > 0.15
				date > 1939.1.1
				USA = {
					has_completed_focus = USA_past_neurtrality_act36
				}
			}
			custom_trigger_tooltip = {
				tooltip = FRA_not_in_crisis_tooltip
				NOT = {
					has_country_flag = FRA_in_crisis
				}
			}
		}
		cancel = {
			custom_trigger_tooltip = {
				tooltip = FRA_in_crisis_tooltip
				has_country_flag = FRA_in_crisis
			}
		}
		available_if_capitulated = yes
		
		completion_reward = {
			if = {
				limit = {
					USA = {
						has_tech = tech_boeing_b17_equipment_1
					}
				}
				add_equipment_to_stockpile = { type = boeing_b17_equipment_1 amount = 100 producer = USA }
			}
			else_if = {
				limit = {
					USA = {
						has_tech = tech_douglas_b23_equipment_1
					}
				}
				add_equipment_to_stockpile = { type = douglas_b23_equipment_1 amount = 100 producer = USA }
			}
			else_if = {
				limit = {
					USA = {
						has_tech = tech_douglas_b18_equipment_1
					}
				}
				add_equipment_to_stockpile = { type = douglas_b18_equipment_1 amount = 100 producer = USA }
			}
			add_tech_bonus = {
				name = FRA_bomber_focus
				bonus = 0.35
				uses = 1
				category = tactical_bomber
			}
			add_tech_bonus = {
				name = FRA_heavy_bomber_focus
				bonus = 0.35
				uses = 1
				category = cat_strategic_bomber
			}
			### STABILITY ###
			hidden_effect = {
				if = {
					limit = {
						is_ai = yes
						has_stability < 0.4
					}
					add_stability = 0.1
				}
			}
		}
	}
	
	focus = {
		id = FRA_barrage_david
		icon = GFX_goal_generic_radar
		prerequisite = { focus = FRA_modernisation_program }
		relative_position_id = FRA_modernisation_program
		x = 1
		y = 2
		cost = 30
		search_filters = { FOCUS_FILTER_AIRFORCE FOCUS_FILTER_RESEARCH }
		
		available = {
			custom_trigger_tooltip = {
				tooltip = FRA_not_in_crisis_tooltip
				NOT = {
					has_country_flag = FRA_in_crisis
				}
			}
		}
		cancel = {
			custom_trigger_tooltip = {
				tooltip = FRA_in_crisis_tooltip
				has_country_flag = FRA_in_crisis
			}
		}
		available_if_capitulated = yes
		
		completion_reward = {
			air_experience = 25
			add_tech_bonus = {
				name = radar_focus
				bonus = 0.3
				uses = 2
				category = radar_tech
			}
			### STABILITY ###
			hidden_effect = {
				if = {
					limit = {
						is_ai = yes
						has_stability < 0.4
					}
					add_stability = 0.1
				}
			}
		}
	}
	
	focus = {
		id = FRA_jet_effort
		icon = GFX_focus_rocketry
		prerequisite = { focus = FRA_barrage_david }
		relative_position_id = FRA_barrage_david
		x = 0
		y = 1
		cost = 50
		search_filters = { FOCUS_FILTER_AIRFORCE FOCUS_FILTER_RESEARCH }
		
		available = {
			custom_trigger_tooltip = {
				tooltip = FRA_not_in_crisis_tooltip
				NOT = {
					has_country_flag = FRA_in_crisis
				}
			}
		}
		cancel = {
			custom_trigger_tooltip = {
				tooltip = FRA_in_crisis_tooltip
				has_country_flag = FRA_in_crisis
			}
		}
		available_if_capitulated = yes
		
		completion_reward = {
			add_tech_bonus = {
				name = FRA_jet_effort
				bonus = 0.3
				uses = 3
				category = jet_technology
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = air_assembly
						size > 0
						include_locked = yes
					}
				}
				add_building_construction = {
					type = air_assembly
					level = 1
					instant_build = yes
				}
			}
		}
	}
	
	focus = {
		id = FRA_interwar_experience
		icon = GFX_goal_generic_CAS
	 	prerequisite = { focus = FRA_air_bases }
		relative_position_id = FRA_air_bases
		x = 1
		y = 1
		cost = 30
		search_filters = { FOCUS_FILTER_AIRFORCE FOCUS_FILTER_RESEARCH }
		
		available = {
			custom_trigger_tooltip = {
				tooltip = FRA_not_in_crisis_tooltip
				NOT = {
					has_country_flag = FRA_in_crisis
				}
			}
		}
		cancel = {
			custom_trigger_tooltip = {
				tooltip = FRA_in_crisis_tooltip
				has_country_flag = FRA_in_crisis
			}
		}
		available_if_capitulated = yes
		
		completion_reward = {
			air_experience = 50
			add_tech_bonus = {
				name = FRA_air_doctrine
				bonus = 0.3
				uses = 2
				category = air_doctrine
			}
			add_tech_bonus = {
				name = FRA_cas_focus
				bonus = 0.3
				uses = 1
				category = cas_bomber
			}
			### STABILITY ###
			hidden_effect = {
				if = {
					limit = {
						is_ai = yes
						has_stability < 0.4
					}
					add_stability = 0.1
				}
			}
		}
	}
	
	focus = {
		id = FRA_reorganize_air_army
		icon = GFX_goal_generic_air_doctrine
	 	prerequisite = { focus = FRA_interwar_experience }
		relative_position_id = FRA_interwar_experience
		x = 0
		y = 1
		cost = 30
		search_filters = { FOCUS_FILTER_AIRFORCE FOCUS_FILTER_RESEARCH }
		
		available = {
			custom_trigger_tooltip = {
				tooltip = FRA_not_in_crisis_tooltip
				NOT = {
					has_country_flag = FRA_in_crisis
				}
			}
		}
		cancel = {
			custom_trigger_tooltip = {
				tooltip = FRA_in_crisis_tooltip
				has_country_flag = FRA_in_crisis
			}
		}
		available_if_capitulated = yes

		
		completion_reward = {
			every_owned_state = {	
				limit = {
					free_building_slots = {
						building = air_assembly
						size > 1
						include_locked = yes
					}
					is_on_continent = europe				
				}
				random_select_amount = 4
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = air_assembly
					level = 1
					instant_build = yes
				}
			}
			### STABILITY ###
			hidden_effect = {
				if = {
					limit = {
						is_ai = yes
						has_stability < 0.4
					}
					add_stability = 0.1
				}
			}
		}
	}
	
	focus = {
		id = FRA_parachute_battalions
		icon = GFX_focus_generic_paratrooper
		prerequisite = { focus = FRA_interwar_experience }
		relative_position_id = FRA_interwar_experience
		x = 2
		y = 1
		cost = 30
		search_filters = { FOCUS_FILTER_AIRFORCE FOCUS_FILTER_RESEARCH }
		
		available = {
			custom_trigger_tooltip = {
				tooltip = FRA_not_in_crisis_tooltip
				NOT = {
					has_country_flag = FRA_in_crisis
				}
			}
		}
		cancel = {
			custom_trigger_tooltip = {
				tooltip = FRA_in_crisis_tooltip
				has_country_flag = FRA_in_crisis
			}
		}
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		
		completion_reward = {
			add_tech_bonus = {
				name = paratrooper_bonus
				bonus = 0.75
				uses = 1
				category = para_tech
			}
			### STABILITY ###
			hidden_effect = {
				if = {
					limit = {
						is_ai = yes
						has_stability < 0.4
					}
					add_stability = 0.1
				}
			}
		}
	}
	
########## End Game Economy Tree ##########
	
	focus = {
		id = FRA_renewed_economy
		icon = GFX_focus_generic_the_giant_wakes
		prerequisite = { focus = FRA_partial_mobilization focus = FRA_research_grants }
		relative_position_id = FRA_partial_mobilization
		x = -8
		y = 1
		cost = 50
		search_filters = { FOCUS_FILTER_INDUSTRY }
		
		available = {
			if = {
				limit = {
					has_idea = FRA_inflation3
				}
				NOT = {
					has_idea = FRA_inflation3
				}
			}
			if = {
				limit = {
					has_idea = FRA_inflation2
				}
				NOT = {
					has_idea = FRA_inflation2
				}
			}
			if = {
				limit = {
					has_idea = FRA_inflation1
				}
				NOT = {
					has_idea = FRA_inflation1
				}
			}
			if = {
				limit = {
					NOT = {
						has_idea = FRA_inflation3
						has_idea = FRA_inflation2
						has_idea = FRA_inflation1
					}
				}
				NOT = {
					has_idea = FRA_inflation1
				}
			}
			if = {
				limit = {
					has_idea = FRA_stagnant_econ_5
				}
				NOT = {
					has_idea = FRA_stagnant_econ_5
				}
			}
			if = {
				limit = {
					has_idea = FRA_stagnant_econ_4
				}
				NOT = {
					has_idea = FRA_stagnant_econ_4
				}
			}
			if = {
				limit = {
					has_idea = FRA_stagnant_econ_3
				}
				NOT = {
					has_idea = FRA_stagnant_econ_3
				}
			}
			if = {
				limit = {
					has_idea = FRA_stagnant_econ_2
				}
				NOT = {
					has_idea = FRA_stagnant_econ_2
				}
			}
			if = {
				limit = {
					has_idea = FRA_stagnant_econ_1
				}
				NOT = {
					has_idea = FRA_stagnant_econ_1
				}
			}
			if = {
				limit = {
					NOT = {
						has_idea = FRA_stagnant_econ_5
						has_idea = FRA_stagnant_econ_4
						has_idea = FRA_stagnant_econ_3
						has_idea = FRA_stagnant_econ_2
						has_idea = FRA_stagnant_econ_1
					}
				}
				NOT = {
					has_idea = FRA_stagnant_econ_1
				}
			}
			custom_trigger_tooltip = {
				tooltip = FRA_not_in_crisis_tooltip
				NOT = {
					has_country_flag = FRA_in_crisis
				}
			}
		}
		cancel = {
			custom_trigger_tooltip = {
				tooltip = FRA_in_crisis_tooltip
				has_country_flag = FRA_in_crisis
			}
		}
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		
		completion_reward = {
			add_stability = 0.15
			add_ideas = FRA_renewed_economy
			### STABILITY ###
			hidden_effect = {
				if = {
					limit = {
						is_ai = yes
						has_stability < 0.4
					}
					add_stability = 0.1
				}
			}
		}
	}
	
	#National Center for Scientific Research
	focus = {
		id = FRA_cnrs
		icon = GFX_goal_research_blue_cogs
		prerequisite = { focus = FRA_partial_mobilization focus = FRA_research_grants }
		relative_position_id = FRA_partial_mobilization
		x = -6
		y = 1
		cost = 30
		search_filters = { FOCUS_FILTER_RESEARCHCENTER }
		
		available = {
			custom_trigger_tooltip = {
				tooltip = FRA_not_in_crisis_tooltip
				NOT = {
					has_country_flag = FRA_in_crisis
				}
			}
		}
		cancel = {
			custom_trigger_tooltip = {
				tooltip = FRA_in_crisis_tooltip
				has_country_flag = FRA_in_crisis
			}
		}
		available_if_capitulated = yes
		
		completion_reward = {
			add_research_slot = 1
			add_research_centre = yes
			SLOT:infantry_folder = yes
			SLOT:support_folder = yes
			SLOT:artillery_folder = yes
			SLOT:tank_techs_folder = yes
			SLOT:armor_folder = yes
			SLOT:air_techs_folder = yes
			SLOT:naval_folder = yes
			SLOT:naval_techs_folder = yes
			SLOT:raw_materials_folder = yes
			SLOT:industry_folder = yes
			SLOT:electronics_folder = yes
			### STABILITY ###
			hidden_effect = {
				if = {
					limit = {
						is_ai = yes
						has_stability < 0.4
					}
					add_stability = 0.1
				}
			}
		}
	}
	
	focus = {
		id = FRA_massive_industrial_effort
		icon = GFX_goal_fra_industry
		prerequisite = { focus = FRA_renewed_economy }
		relative_position_id = FRA_renewed_economy
		x = 0
		y = 1
		cost = 50
		search_filters = { FOCUS_FILTER_ARMY }
		
		available = {
			custom_trigger_tooltip = {
				tooltip = FRA_not_in_crisis_tooltip
				NOT = {
					has_country_flag = FRA_in_crisis
				}
			}
		}
		cancel = {
			custom_trigger_tooltip = {
				tooltip = FRA_in_crisis_tooltip
				has_country_flag = FRA_in_crisis
			}
		}
		available_if_capitulated = yes
		
		complete_tooltip = {
			every_state = {
				limit = { has_state_flag = FRA_metropolitan_civilian_factory_eg1 }
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
		}
		
		completion_reward = {
			every_owned_state = {	
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
					is_on_continent = europe
				}
				random_select_amount = 5
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			### STABILITY ###
			hidden_effect = {
				if = {
					limit = {
						is_ai = yes
						has_stability < 0.4
					}
					add_stability = 0.1
				}
			}
		}
	}
	
	focus = {
		id = FRA_massive_industrial_effort_2
		icon = GFX_goal_fra_industry
		prerequisite = { focus = FRA_massive_industrial_effort }
		relative_position_id = FRA_massive_industrial_effort
		x = 0
		y = 1
		cost = 50
		search_filters = { FOCUS_FILTER_ARMY }
		
		available = {
			custom_trigger_tooltip = {
				tooltip = FRA_not_in_crisis_tooltip
				NOT = {
					has_country_flag = FRA_in_crisis
				}
			}
		}
		cancel = {
			custom_trigger_tooltip = {
				tooltip = FRA_in_crisis_tooltip
				has_country_flag = FRA_in_crisis
			}
		}
		available_if_capitulated = yes
		
		completion_reward = {
			every_owned_state = {	
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
					is_on_continent = europe
				}
				random_select_amount = 10
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
			### STABILITY ###
			hidden_effect = {
				if = {
					limit = {
						is_ai = yes
						has_stability < 0.4
					}
					add_stability = 0.1
				}
			}
		}
	}
	
	focus = {
		id = FRA_construct_refineries
		icon = GFX_goal_generic_oil_factory
		prerequisite = { focus = FRA_renewed_economy }
		relative_position_id = FRA_renewed_economy
		x = -2
		y = 1
		cost = 50
		search_filters = { FOCUS_FILTER_INDUSTRY }
		
		available = {
			custom_trigger_tooltip = {
				tooltip = FRA_not_in_crisis_tooltip
				NOT = {
					has_country_flag = FRA_in_crisis
				}
			}
		}
		cancel = {
			custom_trigger_tooltip = {
				tooltip = FRA_in_crisis_tooltip
				has_country_flag = FRA_in_crisis
			}
		}
		
		completion_reward = {
			random_owned_controlled_state = {
				prioritize = { 19 }
				limit = {
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = synthetic_refinery
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				prioritize = { 22 }
				limit = {
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = synthetic_refinery
					level = 1
					instant_build = yes
				}
			}
			### STABILITY ###
			hidden_effect = {
				if = {
					limit = {
						is_ai = yes
						has_stability < 0.4
					}
					add_stability = 0.1
				}
			}
		}
	}
	
	focus = {
		id = FRA_buy_heavy_water
		icon = GFX_goal_fra_nuclear_research
		prerequisite = { focus = FRA_renewed_economy }
		relative_position_id = FRA_renewed_economy
		x = -4
		y = 1
		cost = 50
		search_filters = { FOCUS_FILTER_RESEARCH }
		
		available = {
			custom_trigger_tooltip = {
				tooltip = FRA_not_in_crisis_tooltip
				NOT = {
					has_country_flag = FRA_in_crisis
				}
			}
			NOR = {
				has_capitulated = no
			}
		}
		cancel = {
			custom_trigger_tooltip = {
				tooltip = FRA_in_crisis_tooltip
				has_country_flag = FRA_in_crisis
			}
		}
		available_if_capitulated = yes
		
		completion_reward = {
			add_tech_bonus = {
				name = FRA_nuclear_effort
				bonus = 0.33
				uses = 2
				category = nuclear
			}
			news_event = { id = news.174 }
			NOR = { 
				add_offsite_building = { type = industrial_complex level = 1 } 
			}
			### STABILITY ###
			hidden_effect = {
				if = {
					limit = {
						is_ai = yes
						has_stability < 0.4
					}
					add_stability = 0.1
				}
			}
		}
	}
	
	focus = {
		id = FRA_build_more_planes
		icon = GFX_goal_industry_aircraft
		prerequisite = { focus = FRA_buy_heavy_water focus = FRA_construct_refineries }
		relative_position_id = FRA_buy_heavy_water
		x = 1
		y = 1
		cost = 50
		search_filters = { FOCUS_FILTER_RESEARCH }
		
		available = {
			custom_trigger_tooltip = {
				tooltip = FRA_not_in_crisis_tooltip
				NOT = {
					has_country_flag = FRA_in_crisis
				}
			}
		}
		cancel = {
			custom_trigger_tooltip = {
				tooltip = FRA_in_crisis_tooltip
				has_country_flag = FRA_in_crisis
			}
		}
		available_if_capitulated = yes
		
		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = air_assembly
						size > 0
						include_locked = yes
					}
					is_on_continent = europe				
				}
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = air_assembly
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
			### STABILITY ###
			hidden_effect = {
				if = {
					limit = {
						is_ai = yes
						has_stability < 0.4
					}
					add_stability = 0.1
				}
			}
		}
	}
	
########## End Game Rearmament Tree ##########
	
	focus = {
		id = FRA_further_armament_program
		icon = GFX_goal_shield_rifles_blue
		prerequisite = { focus = FRA_partial_mobilization focus = FRA_research_grants }
		relative_position_id = FRA_partial_mobilization
		x = -4
		y = 1
		cost = 30
		search_filters = { FOCUS_FILTER_ICCOST_REDUCTION }
		
		available_if_capitulated = yes
		
		available = {
			has_completed_focus  = FRA_defense_national_funds
			custom_trigger_tooltip = {
				tooltip = FRA_not_in_crisis_tooltip
				NOT = {
					has_country_flag = FRA_in_crisis
				}
			}
		}
		cancel = {
			custom_trigger_tooltip = {
				tooltip = FRA_in_crisis_tooltip
				has_country_flag = FRA_in_crisis
			}
		}
		
		completion_reward = {
			if = {
				limit = {
					NOT = { has_completed_focus  = FRA_defense_national_funds }
				}
				custom_effect_tooltip = FRA_further_armament_program_tooltip
			}
			add_ideas = FRA_armament_program
			### STABILITY ###
			hidden_effect = {
				if = {
					limit = {
						is_ai = yes
						has_stability < 0.4
					}
					add_stability = 0.1
				}
			}
		}
	}
	
	focus = {
		id = FRA_rapid_military_factories_1
		icon = GFX_goal_generic_construct_mil_factory
		prerequisite = { focus = FRA_further_armament_program }
		relative_position_id = FRA_further_armament_program
		x = 0
		y = 1
		cost = 30
		search_filters = { FOCUS_FILTER_INDUSTRY }
		
		available = {
			if = {
				limit = {
					is_ai = no
				}
				OR = {
					threat > 0.2
					has_war = yes
				}
			}
			custom_trigger_tooltip = {
				tooltip = FRA_not_in_crisis_tooltip
				NOT = {
					has_country_flag = FRA_in_crisis
				}
			}
		}
		cancel = {
			custom_trigger_tooltip = {
				tooltip = FRA_in_crisis_tooltip
				has_country_flag = FRA_in_crisis
			}
		}
		continue_if_invalid = yes

		
		completion_reward = {
			every_owned_state = {	
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
					is_on_continent = europe
				}
				random_select_amount = 4
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
			### STABILITY ###
			hidden_effect = {
				if = {
					limit = {
						is_ai = yes
						has_stability < 0.4
					}
					add_stability = 0.1
				}
			}
		}
	}
	
	focus = {
		id = FRA_rapid_military_factories_2
		icon = GFX_goal_generic_construct_mil_factory
		prerequisite = { focus = FRA_rapid_military_factories_1 }
		relative_position_id = FRA_rapid_military_factories_1
		x = 0
		y = 1
		cost = 30
		search_filters = { FOCUS_FILTER_INDUSTRY }
		
		available = {
			if = {
				limit = {
					is_ai = no
				}
				threat > 0.5
			}
			custom_trigger_tooltip = {
				tooltip = FRA_not_in_crisis_tooltip
				NOT = {
					has_country_flag = FRA_in_crisis
				}
			}
		}
		cancel = {
			custom_trigger_tooltip = {
				tooltip = FRA_in_crisis_tooltip
				has_country_flag = FRA_in_crisis
			}
		}
		
		completion_reward = {
			every_owned_state = {	
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
					is_on_continent = europe
				}
				random_select_amount = 8
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
			### STABILITY ###
			hidden_effect = {
				if = {
					limit = {
						is_ai = yes
						has_stability < 0.4
					}
					add_stability = 0.1
				}
			}
		}
	}
	
	focus = {
		id = FRA_infantry_focus
		icon = GFX_goal_fra_troops_law
		prerequisite = { focus = FRA_further_armament_program }
		relative_position_id = FRA_further_armament_program
		x = 4
		y = 1
		cost = 30
		search_filters = { FOCUS_FILTER_ARMY FOCUS_FILTER_RESEARCH }
		
		available = {
			custom_trigger_tooltip = {
				tooltip = FRA_not_in_crisis_tooltip
				NOT = {
					has_country_flag = FRA_in_crisis
				}
			}
		}
		cancel = {
			custom_trigger_tooltip = {
				tooltip = FRA_in_crisis_tooltip
				has_country_flag = FRA_in_crisis
			}
		}
		available_if_capitulated = yes
		
		completion_reward = {
			army_experience = 25
			add_manpower = 50000
			add_equipment_to_stockpile = { type = infantry_equipment amount = 1000 producer = FRA }
			### STABILITY ###
			hidden_effect = {
				if = {
					limit = {
						is_ai = yes
						has_stability < 0.4
					}
					add_stability = 0.1
				}
			}
		}
	}
	
	focus = {
		id = FRA_artillery_focus
		icon = GFX_goal_generic_army_artillery2
		prerequisite = { focus = FRA_further_armament_program }
		relative_position_id = FRA_further_armament_program
		x = 2
		y = 1
		cost = 30
		search_filters = { FOCUS_FILTER_ARMY FOCUS_FILTER_RESEARCH }
		
		available = {
			custom_trigger_tooltip = {
				tooltip = FRA_not_in_crisis_tooltip
				NOT = {
					has_country_flag = FRA_in_crisis
				}
			}
		}
		cancel = {
			custom_trigger_tooltip = {
				tooltip = FRA_in_crisis_tooltip
				has_country_flag = FRA_in_crisis
			}
		}
		available_if_capitulated = yes
		
		completion_reward = {
			army_experience = 25
			add_tech_bonus = {
				name = FRA_artillery_focus
				bonus = 0.5
				uses = 3
				category = artillery
			}
			random_owned_controlled_state = {
				add_building_construction = {
					type = artillery_assembly
					level = 1
					instant_build = yes
				}
			}
			### STABILITY ###
			hidden_effect = {
				if = {
					limit = {
						is_ai = yes
						has_stability < 0.4
					}
					add_stability = 0.1
				}
			}
		}
	}
	
	focus = {
		id = FRA_build_more_tanks
		icon = GFX_goal_fra_heavy_tank
		prerequisite = { focus = FRA_artillery_focus focus = FRA_infantry_focus }
		relative_position_id = FRA_artillery_focus
		x = 1
		y = 1
		cost = 30
		search_filters = { FOCUS_FILTER_ARMY FOCUS_FILTER_RESEARCH }
		
		available = {
			custom_trigger_tooltip = {
				tooltip = FRA_not_in_crisis_tooltip
				NOT = {
					has_country_flag = FRA_in_crisis
				}
			}
		}
		cancel = {
			custom_trigger_tooltip = {
				tooltip = FRA_in_crisis_tooltip
				has_country_flag = FRA_in_crisis
			}
		}
		available_if_capitulated = yes
		
		complete_tooltip = {
			every_state = {
				limit = { has_state_flag = FRA_military_factories_2MF }
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
						type = tank_assembly
					level = 2
					instant_build = yes
				}
			}
			every_state = {
				limit = { has_state_flag = FRA_military_factories_1MF }
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
							type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}
		
		completion_reward = {
			every_owned_state = {	
				limit = {
					free_building_slots = {
						building = tank_assembly
						size > 1
						include_locked = yes
					}
					is_on_continent = europe
				}
				random_select_amount = 2
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = tank_assembly
					level = 2
					instant_build = yes
				}
			}
			every_owned_state = {	
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
					is_on_continent = europe
				}
				random_select_amount = 2
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
			### STABILITY ###
			hidden_effect = {
				if = {
					limit = {
						is_ai = yes
						has_stability < 0.4
					}
					add_stability = 0.1
				}
			}
		}
	}
	
	focus = {
		id = FRA_wartime_organisation_act
		icon = GFX_goal_expand_civ_cooperation
		prerequisite = { focus = FRA_renewed_economy focus = FRA_further_armament_program }
		relative_position_id = FRA_renewed_economy
		x = 2
		y = 1
		cost = 20
		search_filters = { FOCUS_FILTER_INDUSTRY }
		
		available = {
			custom_trigger_tooltip = {
				tooltip = FRA_not_in_crisis_tooltip
				NOT = {
					has_country_flag = FRA_in_crisis
				}
			}
		}
		cancel = {
			custom_trigger_tooltip = {
				tooltip = FRA_in_crisis_tooltip
				has_country_flag = FRA_in_crisis
			}
		}
		
		completion_reward = {
			add_ideas = FRA_wartime_focus
			### STABILITY ###
			hidden_effect = {
				if = {
					limit = {
						is_ai = yes
						has_stability < 0.4
					}
					add_stability = 0.1
				}
			}
		}
	}
	
########## STRATEGIC TREE ##########
	
	focus = {
		id = FRA_military_review
		icon = GFX_goal_fra_army
		relative_position_id = FRA_rearmament
		x = 20
		y = 0
		cost = 10
		search_filters = { FOCUS_FILTER_ARMY }
		
		available = {
			OR = {
				threat > 0.05
				date > 1937.1.1
			}
			custom_trigger_tooltip = {
				tooltip = FRA_not_in_crisis_tooltip
				NOT = {
					has_country_flag = FRA_in_crisis
				}
			}
		}
		cancel = {
			custom_trigger_tooltip = {
				tooltip = FRA_in_crisis_tooltip
				has_country_flag = FRA_in_crisis
			}
		}
		
		available_if_capitulated = yes
		allow_branch = {
			NOT = { has_global_flag = fall_of_france }
		}
		
		completion_reward = {
			country_event = { id = franceBiceE.04 }
			army_experience = 15
			air_experience = 10
			navy_experience = 10
			### STABILITY ###
			hidden_effect = {
				if = {
					limit = {
						is_ai = yes
						has_stability < 0.4
					}
					add_stability = 0.1
				}
			}
		}
	}
	
	focus = {
		id = FRA_giraud_plan
		icon = GFX_goal_fra_giraud
		mutually_exclusive = { focus = FRA_de_gaulle_strategy }
		prerequisite = { focus = FRA_military_review }
		relative_position_id = FRA_military_review
		x = 3
		y = 1
		cost = 20
		search_filters = { FOCUS_FILTER_ARMY }
		
		available = {
			custom_trigger_tooltip = {
				tooltip = FRA_not_in_crisis_tooltip
				NOT = {
					has_country_flag = FRA_in_crisis
				}
			}
		}
		cancel = {
			custom_trigger_tooltip = {
				tooltip = FRA_in_crisis_tooltip
				has_country_flag = FRA_in_crisis
			}
		}
		available_if_capitulated = yes
		
		completion_reward = {
			#show_ideas_tooltip = FRA_weygand_maxime_army_chief
			custom_effect_tooltip = available_chief_of_army
			add_ideas = FRA_gamelin_maurice_army_chief

			### STABILITY ###
			hidden_effect = {
				if = {
					limit = {
						is_ai = yes
						has_stability < 0.4
					}
					add_stability = 0.1
				}
			}
		}
	}
	
	focus = {
		id = FRA_de_gaulle_strategy
		icon = GFX_goal_fra_de_gaulle
		prerequisite = { focus = FRA_military_review }
		mutually_exclusive = { focus = FRA_giraud_plan }
		relative_position_id = FRA_military_review
		x = -3
		y = 1
		cost = 60
		search_filters = { FOCUS_FILTER_ARMY }
		
		available = {
			has_army_experience > 50
			custom_trigger_tooltip = {
				tooltip = FRA_not_in_crisis_tooltip
				NOT = {
					has_country_flag = FRA_in_crisis
				}
			}
		}
		cancel = {
			custom_trigger_tooltip = {
				tooltip = FRA_in_crisis_tooltip
				has_country_flag = FRA_in_crisis
			}
		}
		available_if_capitulated = yes
		
		completion_reward = {
			#show_ideas_tooltip = FRA_gamelin_maurice_army_chief
			custom_effect_tooltip = available_chief_of_army
			add_ideas = FRA_henri_marie_auguste_bineau_army_chief
			### STABILITY ###
			hidden_effect = {
				if = {
					limit = {
						is_ai = yes
						has_stability < 0.4
					}
					add_stability = 0.1
				}
			}
		}
	}
	
	focus = {
		id = FRA_finish_maginot
		icon = GFX_goal_fra_defense
		mutually_exclusive = { focus = FRA_cut_maginot_fund }
		prerequisite = { focus = FRA_giraud_plan focus = FRA_de_gaulle_strategy }
		relative_position_id = FRA_military_review
		x = 1
		y = 2
		cost = 40
		search_filters = { FOCUS_FILTER_ARMY }
		
		available = {
			custom_trigger_tooltip = {
				tooltip = FRA_not_in_crisis_tooltip
				NOT = {
					has_country_flag = FRA_in_crisis
				}
			}
		}
		cancel = {
			custom_trigger_tooltip = {
				tooltip = FRA_in_crisis_tooltip
				has_country_flag = FRA_in_crisis
			}
		}
		available_if_capitulated = yes
		
		completion_reward = {
			add_stability = 0.10
			28 = {
				add_building_construction = {
					type = air_base
					level = 3
					instant_build = yes
				}
			}
			### STABILITY ###
			hidden_effect = {
				if = {
					limit = {
						is_ai = yes
						has_stability < 0.4
					}
					add_stability = 0.1
				}
			}
		}
	}
	
	focus = {
		id = FRA_cut_maginot_fund
		icon = GFX_goal_fra_defense_cracks
		mutually_exclusive = { focus = FRA_finish_maginot }
		prerequisite = { focus = FRA_giraud_plan focus = FRA_de_gaulle_strategy }
		relative_position_id = FRA_military_review
		x = -1
		y = 2
		cost = 20
		search_filters = { FOCUS_FILTER_ARMY }
		
		available = {
			has_stability > 0.6
			custom_trigger_tooltip = {
				tooltip = FRA_not_in_crisis_tooltip
				NOT = {
					has_country_flag = FRA_in_crisis
				}
			}
		}
		cancel = {
			custom_trigger_tooltip = {
				tooltip = FRA_in_crisis_tooltip
				has_country_flag = FRA_in_crisis
			}
		}
		available_if_capitulated = yes
		
		completion_reward = {
			add_ideas = { FRA_cut_maginot }
			add_stability = -0.15
			### STABILITY ###
			hidden_effect = {
				if = {
					limit = {
						is_ai = yes
						has_stability < 0.4
					}
					add_stability = 0.1
				}
			}
		}
	}
	
	focus = {
		id = FRA_fund_army
		icon = GFX_goal_fra_grand_armee
		mutually_exclusive = { focus = FRA_fund_navy }
		mutually_exclusive = { focus = FRA_fund_airforce }
		prerequisite = { focus = FRA_cut_maginot_fund }
		relative_position_id = FRA_cut_maginot_fund
		x = 0
		y = 1
		cost = 30
		search_filters = { FOCUS_FILTER_ARMY }
		
		available = {
			custom_trigger_tooltip = {
				tooltip = FRA_not_in_crisis_tooltip
				NOT = {
					has_country_flag = FRA_in_crisis
				}
			}
		}
		cancel = {
			custom_trigger_tooltip = {
				tooltip = FRA_in_crisis_tooltip
				has_country_flag = FRA_in_crisis
			}
		}
		available_if_capitulated = yes
		
		completion_reward = {
			swap_ideas = {
				add_idea = FRA_maginot_fund_army
				remove_idea = FRA_cut_maginot
			}
			### STABILITY ###
			hidden_effect = {
				if = {
					limit = {
						is_ai = yes
						has_stability < 0.4
					}
					add_stability = 0.1
				}
			}
		}
	}
	
	focus = {
		id = FRA_fund_navy
		icon = GFX_goal_fra_Marine_Nationale
		mutually_exclusive = { focus = FRA_fund_army }
		mutually_exclusive = { focus = FRA_fund_airforce }
		prerequisite = { focus = FRA_cut_maginot_fund }
		relative_position_id = FRA_cut_maginot_fund
		x = -2
		y = 1
		cost = 30
		search_filters = { FOCUS_FILTER_ARMY }
		
		available = {
			custom_trigger_tooltip = {
				tooltip = FRA_not_in_crisis_tooltip
				NOT = {
					has_country_flag = FRA_in_crisis
				}
			}
		}
		cancel = {
			custom_trigger_tooltip = {
				tooltip = FRA_in_crisis_tooltip
				has_country_flag = FRA_in_crisis
			}
		}
		available_if_capitulated = yes
		
		completion_reward = {
			swap_ideas = {
				add_idea = FRA_maginot_fund_navy
				remove_idea = FRA_cut_maginot
			}
			unlock_decision_tooltip = FRA_maginot_fund_navy_capital_shipyard
			### STABILITY ###
			hidden_effect = {
				if = {
					limit = {
						is_ai = yes
						has_stability < 0.4
					}
					add_stability = 0.1
				}
			}
		}
	}
	
	focus = {
		id = FRA_fund_airforce
		icon = GFX_goal_fra_fighter
		mutually_exclusive = { focus = FRA_fund_army }
		mutually_exclusive = { focus = FRA_fund_navy }
		prerequisite = { focus = FRA_cut_maginot_fund }
		relative_position_id = FRA_cut_maginot_fund
		x = -4
		y = 1
		cost = 30
		search_filters = { FOCUS_FILTER_ARMY }
		
		available = {
			custom_trigger_tooltip = {
				tooltip = FRA_not_in_crisis_tooltip
				NOT = {
					has_country_flag = FRA_in_crisis
				}
			}
		}
		cancel = {
			custom_trigger_tooltip = {
				tooltip = FRA_in_crisis_tooltip
				has_country_flag = FRA_in_crisis
			}
		}
		available_if_capitulated = yes
		
		completion_reward = {
			swap_ideas = {
				add_idea = FRA_maginot_fund_air
				remove_idea = FRA_cut_maginot
			}
			### STABILITY ###
			hidden_effect = {
				if = {
					limit = {
						is_ai = yes
						has_stability < 0.4
					}
					add_stability = 0.1
				}
			}
		}
	}
	
	focus = {
		id = FRA_offensive_doctrine
		icon = GFX_goal_generic_major_war
		prerequisite = { focus = FRA_fund_airforce focus = FRA_fund_army focus = FRA_fund_navy }
		prerequisite = { focus = FRA_de_gaulle_strategy }
		relative_position_id = FRA_fund_navy
		x = -3
		y = 1
		cost = 30
		search_filters = { FOCUS_FILTER_ARMY }
		
		available = {
			custom_trigger_tooltip = {
				tooltip = FRA_not_in_crisis_tooltip
				NOT = {
					has_country_flag = FRA_in_crisis
				}
			}
		}
		cancel = {
			custom_trigger_tooltip = {
				tooltip = FRA_in_crisis_tooltip
				has_country_flag = FRA_in_crisis
			}
		}
		available_if_capitulated = yes
		
		completion_reward = {
			if = {
				limit = {
					has_idea = FRA_protected_by_the_maginot_line
				}
				swap_ideas = {
					add_idea = FRA_offensive_doc
					remove_idea = FRA_protected_by_the_maginot_line
				}
			}
			### STABILITY ###
			hidden_effect = {
				if = {
					limit = {
						is_ai = yes
						has_stability < 0.4
					}
					add_stability = 0.1
				}
			}
		}
	}
	
	focus = {
		id = FRA_cross_the_rhein
		icon = GFX_focus_attack_germany
		prerequisite = { focus = FRA_offensive_doctrine }
		relative_position_id = FRA_offensive_doctrine
		x = -2
		y = 1
		cost = 70
		search_filters = { FOCUS_FILTER_ARMY }
		
		available = {
			custom_trigger_tooltip = {
				tooltip = FRA_not_in_crisis_tooltip
				NOT = {
					has_country_flag = FRA_in_crisis
				}
			}
			set_temp_variable = { FRA_cross_the_rhein = 1 }
			set_temp_variable = { target = GER.id }
			ai_can_take_wargoal_focus/FRA = yes  
		}
		cancel = {
			custom_trigger_tooltip = {
				tooltip = FRA_in_crisis_tooltip
				has_country_flag = FRA_in_crisis
			}
		}
		available_if_capitulated = no
		will_lead_to_war_with = GER
		
		completion_reward = {
			create_wargoal = {
				type = puppet_wargoal_focus
				target = GER
			}
			### STABILITY ###
			hidden_effect = {
				if = {
					limit = {
						is_ai = yes
						has_stability < 0.4
					}
					add_stability = 0.1
				}
			}
		}
	}
	
	focus = {
		id = FRA_cross_the_alps
		icon = GFX_focus_attack_italy
		prerequisite = { focus = FRA_offensive_doctrine }
		relative_position_id = FRA_offensive_doctrine
		x = 0
		y = 1
		cost = 70
		search_filters = { FOCUS_FILTER_ARMY }
		
		available = {
			custom_trigger_tooltip = {
				tooltip = FRA_not_in_crisis_tooltip
				NOT = {
					has_country_flag = FRA_in_crisis
				}
			}
			set_temp_variable = { FRA_cross_the_alps = 1 }
			set_temp_variable = { target = ITA.id }
			ai_can_take_wargoal_focus/FRA = yes  
		}
		cancel = {
			custom_trigger_tooltip = {
				tooltip = FRA_in_crisis_tooltip
				has_country_flag = FRA_in_crisis
			}
		}
		available_if_capitulated = no
		will_lead_to_war_with = ITA
		
		completion_reward = {
			create_wargoal = {
				type = puppet_wargoal_focus
				target = ITA
			}
			### STABILITY ###
			hidden_effect = {
				if = {
					limit = {
						is_ai = yes
						has_stability < 0.4
					}
					add_stability = 0.1
				}
			}
		}
	}
	
	focus = {
		id = FRA_naval_invasion
		icon = GFX_goal_generic_amphibious_assault
		prerequisite = { focus = FRA_offensive_doctrine }
		prerequisite = { focus = FRA_fund_navy }
		relative_position_id = FRA_offensive_doctrine
		x = 2
		y = 1
		cost = 30
		search_filters = { FOCUS_FILTER_ARMY }
		
		available = {
			custom_trigger_tooltip = {
				tooltip = FRA_not_in_crisis_tooltip
				NOT = {
					has_country_flag = FRA_in_crisis
				}
			}
		}
		cancel = {
			custom_trigger_tooltip = {
				tooltip = FRA_in_crisis_tooltip
				has_country_flag = FRA_in_crisis
			}
		}
		available_if_capitulated = yes
		
		completion_reward = {
			add_tech_bonus = {
				name = uk_amphibious_focus
				bonus = 0.5
				uses = 1
				category = marine_tech
			}
			add_tech_bonus = {
				name = uk_amphibious_focus
				bonus = 0.5
				uses = 1
				category = tp_tech
			}
			### STABILITY ###
			hidden_effect = {
				if = {
					limit = {
						is_ai = yes
						has_stability < 0.4
					}
					add_stability = 0.1
				}
			}
		}
	}
	
	focus = {
		id = FRA_fortification_focus
		icon = GFX_goal_generic_construction2
		prerequisite = { focus = FRA_finish_maginot }
		relative_position_id = FRA_finish_maginot
		x = 0
		y = 1
		cost = 20
		search_filters = { FOCUS_FILTER_FORTIFICATION }
		
		available = {
			custom_trigger_tooltip = {
				tooltip = FRA_not_in_crisis_tooltip
				NOT = {
					has_country_flag = FRA_in_crisis
				}
			}
		}
		cancel = {
			custom_trigger_tooltip = {
				tooltip = FRA_in_crisis_tooltip
				has_country_flag = FRA_in_crisis
			}
		}
		available_if_capitulated = yes
		
		completion_reward = {
			add_ideas = FRA_fortification_focus
			### STABILITY ###
			hidden_effect = {
				if = {
					limit = {
						is_ai = yes
						has_stability < 0.4
					}
					add_stability = 0.1
				}
			}
		}
	}
	
	focus = {
		id = FRA_alpine_forts
		icon = GFX_goal_mountain_forts
		prerequisite = { focus = FRA_finish_maginot }
		relative_position_id = FRA_finish_maginot
		x = 2
		y = 1
		cost = 50
		search_filters = { FOCUS_FILTER_FORTIFICATION }
		
		available = {
			has_completed_focus  = FRA_defense_national_funds
			735 = { is_controlled_by = FRA }
			158 = { controller = { NOT = {has_war_with = ROOT}}}
			857 = { controller = { NOT = {has_war_with = ROOT}}}
			custom_trigger_tooltip = {
				tooltip = FRA_not_in_crisis_tooltip
				NOT = {
					has_country_flag = FRA_in_crisis
				}
			}
		}
		cancel = {
			custom_trigger_tooltip = {
				tooltip = FRA_in_crisis_tooltip
				has_country_flag = FRA_in_crisis
			}
		}
		
		completion_reward = {
			if = {
				limit = {
					NOT = { has_completed_focus  = FRA_defense_national_funds }
				}
				custom_effect_tooltip = FRA_alpine_forts_tooltip
			}
			ROOT = { country_event = { id = france.3 } }
			ITA = {
				add_opinion_modifier = {
					target = ROOT
					modifier = FRA_alpine_forts
				}
			}
			SWI = {
				add_opinion_modifier = {
					target = ROOT
					modifier = small_decrease
				}
			}
			add_political_power = -50
			### STABILITY ###
			hidden_effect = {
				if = {
					limit = {
						is_ai = yes
						has_stability < 0.4
					}
					add_stability = 0.1
				}
			}
		}
	}
	
	focus = {
		id = FRA_extend_the_maginot_line
		icon = GFX_goal_fra_forts
		mutually_exclusive = { focus = FRA_invite_benelux }
		prerequisite = { focus = FRA_alpine_forts }
		prerequisite = { focus = FRA_fortification_focus }	
		relative_position_id = FRA_alpine_forts
		x = -1
		y = 1
		cost = 90
		search_filters = { FOCUS_FILTER_FORTIFICATION FOCUS_FILTER_POLITICAL }
		
		available = {
			date > 1939.1.1
			if = {
				limit = {
					is_ai = no
				}
				OR = {
					threat > 0.5
					has_political_power > 200
				}
			}
			17 = { is_controlled_by = FRA }
			18 = { is_controlled_by = FRA }
			29 = { is_controlled_by = FRA }
			34 = { controller = { NOT = {has_war_with = ROOT}}}
			6 = { controller = { NOT = {has_war_with = ROOT}}}
			custom_trigger_tooltip = {
				tooltip = FRA_not_in_crisis_tooltip
				NOT = {
					has_country_flag = FRA_in_crisis
				}
			}
		}
		cancel = {
			custom_trigger_tooltip = {
				tooltip = FRA_in_crisis_tooltip
				has_country_flag = FRA_in_crisis
			}
		}
		
		completion_reward = {
			if = {
				limit = {
					threat < 0.5
				}
				add_political_power = -200
			}
			else = {
				add_political_power = -100
			}
		#	if = { limit = { has_completed_focus = FRA_exchange_rate_stabilisation }
		#		add_political_power = -25
		#	}
		#	if = { limit = { has_completed_focus = FRA_budget_deficit_law }
		#		add_political_power = -50
		#	}
		#	if = { limit = { NOT = { has_completed_focus = FRA_budget_deficit_law } }
		#		add_political_power = -75
		#	}
			ROOT = { country_event = { id = france.2 } }
			BEL = {
				add_opinion_modifier = {
					target = ROOT
					modifier = FRA_extend_the_maginot_line_focus_neg
				}
				add_opinion_modifier = {
					target = GER
					modifier = FRA_extend_the_maginot_line_focus_pos
				}
			}
			### STABILITY ###
			hidden_effect = {
				if = {
					limit = {
						is_ai = yes
						has_stability < 0.4
					}
					add_stability = 0.1
				}
			}
		}
	}
	
	focus = {
		id = FRA_defensive_doctrine
		icon = GFX_goal_generic_defence
		prerequisite = { focus = FRA_giraud_plan }
		relative_position_id = FRA_giraud_plan
		x = 3
		y = 1
		cost = 20
		search_filters = { FOCUS_FILTER_ARMY }
		
		available = {
			custom_trigger_tooltip = {
				tooltip = FRA_not_in_crisis_tooltip
				NOT = {
					has_country_flag = FRA_in_crisis
				}
			}
		}
		cancel = {
			custom_trigger_tooltip = {
				tooltip = FRA_in_crisis_tooltip
				has_country_flag = FRA_in_crisis
			}
		}
		available_if_capitulated = yes

		completion_reward = {
			swap_ideas = {
				add_idea = FRA_defensive_doc
				remove_idea = FRA_protected_by_the_maginot_line
			}
			### STABILITY ###
			hidden_effect = {
				if = {
					limit = {
						is_ai = yes
						has_stability < 0.4
					}
					add_stability = 0.1
				}
			}
		}
	}
	
	focus = {
		id = FRA_defend_bel
		icon = GFX_goal_ger_around_maginot
		prerequisite = { focus = FRA_defensive_doctrine }
		relative_position_id = FRA_defensive_doctrine
		x = 1
		y = 1
		cost = 10
		search_filters = { FOCUS_FILTER_ARMY }
		
		available = {
			custom_trigger_tooltip = {
				tooltip = FRA_not_in_crisis_tooltip
				NOT = {
					has_country_flag = FRA_in_crisis
				}
			}
		}
		cancel = {
			custom_trigger_tooltip = {
				tooltip = FRA_in_crisis_tooltip
				has_country_flag = FRA_in_crisis
			}
		}
		available_if_capitulated = yes
		
		completion_reward = {
			give_guarantee = BEL
			BEL = {
				add_ideas = FRA_fortification_focus
				add_opinion_modifier = { 
					target = FRA
					modifier = medium_increase 
				}
			}
			### STABILITY ###
			hidden_effect = {
				if = {
					limit = {
						is_ai = yes
						has_stability < 0.4
					}
					add_stability = 0.1
				}
			}
		}
	}
	
	focus = {
		id = FRA_watch_ita
		icon = GFX_focus_generic_italy_first
		prerequisite = { focus = FRA_defensive_doctrine }
		relative_position_id = FRA_defensive_doctrine
		x = -1
		y = 1
		cost = 30
		search_filters = { FOCUS_FILTER_ARMY }
		
		available = {
			custom_trigger_tooltip = {
				tooltip = FRA_not_in_crisis_tooltip
				NOT = {
					has_country_flag = FRA_in_crisis
				}
			}
		}
		cancel = {
			custom_trigger_tooltip = {
				tooltip = FRA_in_crisis_tooltip
				has_country_flag = FRA_in_crisis
			}
		}
		available_if_capitulated = yes
		
		completion_reward = {
			735 = {
				add_building_construction = {
					type = pillbox
					level = 1
					province = 9736
					instant_build = yes
				}
				add_building_construction = {
					type = pillbox
					level = 1
					province = 6609
					instant_build = yes
				}
				add_building_construction = {
					type = coastal_bunker
					level = 1
					province = 9909
					instant_build = yes
				}
				add_building_construction = {
					type = air_base
					level = 1
					instant_build = yes
				}
			}
			21 = {
				add_building_construction = {
					type = coastal_bunker
					level = 1
					province = 911
					instant_build = yes
				}
				add_building_construction = {
					type = coastal_bunker
					level = 1
					province = 11834
					instant_build = yes
				}
			}
			458 = {
				add_building_construction = {
					type = coastal_bunker
					level = 1
					province = 9994
					instant_build = yes
				}
				add_building_construction = {
					type = coastal_bunker
					level = 1
					province = 11969
					instant_build = yes
				}
				add_building_construction = {
					type = air_base
					level = 1
					instant_build = yes
				}
			}
			### STABILITY ###
			hidden_effect = {
				if = {
					limit = {
						is_ai = yes
						has_stability < 0.4
					}
					add_stability = 0.1
				}
			}
		}
	}
	
	focus = {
		id = FRA_mechanized_focus
		icon = GFX_goal_fra_tank
		prerequisite = { focus = FRA_de_gaulle_strategy }
		relative_position_id = FRA_de_gaulle_strategy
		x = 0
		y = 1
		cost = 40
		search_filters = { FOCUS_FILTER_RESEARCH }
		
		available = {
			custom_trigger_tooltip = {
				tooltip = FRA_not_in_crisis_tooltip
				NOT = {
					has_country_flag = FRA_in_crisis
				}
			}
		}
		cancel = {
			custom_trigger_tooltip = {
				tooltip = FRA_in_crisis_tooltip
				has_country_flag = FRA_in_crisis
			}
		}
		
		completion_reward = {
			add_tech_bonus = {
				name = FRA_mechanized_focus
				bonus = 0.5
				uses = 1
				category = cat_mechanized_equipment
			}
			add_tech_bonus = {
				name = FRA_mechanized_focus
				bonus = 0.5
				uses = 2
				category = cat_light_armor
				category = cat_medium_armor
			}
			### STABILITY ###
			hidden_effect = {
				if = {
					limit = {
						is_ai = yes
						has_stability < 0.4
					}
					add_stability = 0.1
				}
			}
		}
	}
	
	focus = {
		id = FRA_army_reform
		icon = GFX_goal_generic_army_doctrines
		prerequisite = {
			focus = FRA_cut_maginot_fund
			focus = FRA_finish_maginot
		}
		relative_position_id = FRA_military_review
		x = 0
		y = 4
		cost = 50
		search_filters = { FOCUS_FILTER_ARMY FOCUS_FILTER_RESEARCH }
		
		available = {
			if = {
				limit = {
					OR = {
						is_ai = no
						is_historical_focus_on = yes
					}
				}
				has_army_experience > 40
				OR = {
					threat > 0.15
					has_war = yes
				}
			}
			custom_trigger_tooltip = {
				tooltip = FRA_not_in_crisis_tooltip
				NOT = {
					has_country_flag = FRA_in_crisis
				}
			}
		}
		cancel = {
			custom_trigger_tooltip = {
				tooltip = FRA_in_crisis_tooltip
				has_country_flag = FRA_in_crisis
			}
		}
		available_if_capitulated = yes
		
		completion_reward = {
			if = {
				limit = {
					has_idea = FRA_victors_of_wwi_1
				}
				remove_ideas = FRA_victors_of_wwi_1
			}
			if = {
				limit = {
					has_idea = FRA_victors_of_wwi_2
				}
				swap_ideas = {
					remove_idea = FRA_victors_of_wwi_2
					add_idea = FRA_victors_of_wwi_1
				}
			}
			if = {
				limit = {
					has_idea = FRA_victors_of_wwi_3
				}
				swap_ideas = {
					remove_idea = FRA_victors_of_wwi_3
					add_idea = FRA_victors_of_wwi_2
				}
			}
			if = {
				limit = {
					has_idea = FRA_victors_of_wwi_4
				}
				swap_ideas = {
					remove_idea = FRA_victors_of_wwi_4
					add_idea = FRA_victors_of_wwi_3
				}
			}
			add_tech_bonus = {
				name = FRA_army_reform
				bonus = 0.25
				uses = 1
				category = land_doctrine
			}
			army_experience = -50
			### STABILITY ###
			hidden_effect = {
				if = {
					limit = {
						is_ai = yes
						has_stability < 0.4
					}
					add_stability = 0.1
				}
			}
		}
	}
	
	focus = {
		id = FRA_new_strategy_textbooks
		icon = GFX_goal_fra_soldiers_fire
		prerequisite = { focus = FRA_army_reform }
		relative_position_id = FRA_army_reform
		x = 0
		y = 1
		cost = 50
		search_filters = { FOCUS_FILTER_ARMY FOCUS_FILTER_RESEARCH }
		
		available = {
			if = {
				limit = {
					OR = {
						is_ai = no
						is_historical_focus_on = yes
					}
				}
				has_army_experience > 80
				OR = {
					threat > 0.5
					has_completed_focus = FRA_another_great_war
				}
			}
			custom_trigger_tooltip = {
				tooltip = FRA_not_in_crisis_tooltip
				NOT = {
					has_country_flag = FRA_in_crisis
				}
			}
		}
		cancel = {
			custom_trigger_tooltip = {
				tooltip = FRA_in_crisis_tooltip
				has_country_flag = FRA_in_crisis
			}
		}
		available_if_capitulated = yes
		continue_if_invalid = yes
		
		completion_reward = {
			if = {
				limit = {
					has_idea = FRA_victors_of_wwi_1
				}
				remove_ideas = FRA_victors_of_wwi_1
			}
			if = {
				limit = {
					has_idea = FRA_victors_of_wwi_2
				}
				swap_ideas = {
					remove_idea = FRA_victors_of_wwi_2
					add_idea = FRA_victors_of_wwi_1
				}
			}
			if = {
				limit = {
					has_idea = FRA_victors_of_wwi_3
				}
				swap_ideas = {
					remove_idea = FRA_victors_of_wwi_3
					add_idea = FRA_victors_of_wwi_2
				}
			}
			if = {
				limit = {
					has_idea = FRA_victors_of_wwi_4
				}
				swap_ideas = {
					remove_idea = FRA_victors_of_wwi_4
					add_idea = FRA_victors_of_wwi_3
				}
			}
			#remove_ideas = FRA_victors_of_wwi
			add_tech_bonus = {
				name = FRA_army_reform
				bonus = 0.5
				uses = 1
				category = land_doctrine
			}
			army_experience = -100
			### STABILITY ###
			hidden_effect = {
				if = {
					limit = {
						is_ai = yes
						has_stability < 0.4
					}
					add_stability = 0.1
				}
			}
		}
	}
	
	focus = {
		id = FRA_shakeup_senior_staff
		icon = GFX_goal_officer_salute
		prerequisite = { focus = FRA_new_strategy_textbooks }
		relative_position_id = FRA_new_strategy_textbooks
		x = 0
		y = 1
		cost = 50
		search_filters = { FOCUS_FILTER_ARMY FOCUS_FILTER_RESEARCH }
		
		available = {
			if = {
				limit = {
					OR = {
						is_ai = no
						is_historical_focus_on = yes
					}
				}
				has_army_experience > 120
				OR = {
					threat > 0.9
					has_completed_focus = FRA_another_great_war
				}
			}
			custom_trigger_tooltip = {
				tooltip = FRA_not_in_crisis_tooltip
				NOT = {
					has_country_flag = FRA_in_crisis
				}
			}
		}
		cancel = {
			custom_trigger_tooltip = {
				tooltip = FRA_in_crisis_tooltip
				has_country_flag = FRA_in_crisis
			}
		}
		available_if_capitulated = yes
		continue_if_invalid = yes
		
		completion_reward = {
			custom_effect_tooltip = FRA_sack_gamelin_tt
			custom_effect_tooltip = Line_break_keep_formating
			if = {
				limit = {
					has_idea = FRA_victors_of_wwi_1
				}
				remove_ideas = FRA_victors_of_wwi_1
			}
			if = {
				limit = {
					has_idea = FRA_victors_of_wwi_2
				}
				swap_ideas = {
					remove_idea = FRA_victors_of_wwi_2
					add_idea = FRA_victors_of_wwi_1
				}
			}
			if = {
				limit = {
					has_idea = FRA_victors_of_wwi_3
				}
				swap_ideas = {
					remove_idea = FRA_victors_of_wwi_3
					add_idea = FRA_victors_of_wwi_2
				}
			}
			if = {
				limit = {
					has_idea = FRA_victors_of_wwi_4
				}
				swap_ideas = {
					remove_idea = FRA_victors_of_wwi_4
					add_idea = FRA_victors_of_wwi_3
				}
			}
			add_tech_bonus = {
				name = FRA_army_reform
				bonus = 0.25
				uses = 1
				category = land_doctrine
			}
			army_experience = -160
			### STABILITY ###
			hidden_effect = {
				if = {
					limit = {
						is_ai = yes
						has_stability < 0.4
					}
					add_stability = 0.1
				}
			}
		}
	}
	
	focus = {
		id = FRA_army_research
		icon = GFX_goal_organize_military_research_branch
		prerequisite = { focus = FRA_shakeup_senior_staff }
		relative_position_id = FRA_shakeup_senior_staff
		x = 0
		y = 1
		cost = 50
		search_filters = { FOCUS_FILTER_RESEARCHCENTER }
		
		available = {
			if = {
				limit = {
					OR = {
						is_ai = no
						is_historical_focus_on = yes
					}
				}
				has_army_experience > 150
				OR = {
					threat > 0.9
					has_completed_focus = FRA_another_great_war
				}
			}
			custom_trigger_tooltip = {
				tooltip = FRA_not_in_crisis_tooltip
				NOT = {
					has_country_flag = FRA_in_crisis
				}
			}
		}
		cancel = {
			custom_trigger_tooltip = {
				tooltip = FRA_in_crisis_tooltip
				has_country_flag = FRA_in_crisis
			}
		}
		continue_if_invalid = yes
		
		available_if_capitulated = yes
		
		completion_reward = {
			add_research_slot = 1
			add_research_centre = yes
			SLOT:ww1_land_doctrine_folder = yes
			SLOT:land_doctrine_folder = yes
			SLOT:air_doctrine_folder = yes
			army_experience = -200
			### STABILITY ###
			hidden_effect = {
				if = {
					limit = {
						is_ai = yes
						has_stability < 0.4
					}
					add_stability = 0.1
				}
			}
		}
	}
	
########## Foreign Diplomacy ##########
	
	focus = {
		id = FRA_foreign_diplo
		icon = GFX_goal_FRA_support_democracy
		relative_position_id = FRA_military_review
		x = 14
		y = 0
		cost = 10
		search_filters = { FOCUS_FILTER_POLITICAL }
		
		available = {
			custom_trigger_tooltip = {
				tooltip = FRA_election_tooltip
				OR = {
					has_completed_focus = FRA_matignon_agreement_focus
					has_completed_focus = FRA_back_to_work
				}
			}
			custom_trigger_tooltip = {
				tooltip = FRA_not_in_crisis_tooltip
				NOT = {
					has_country_flag = FRA_in_crisis
				}
			}
		}
		cancel = {
			custom_trigger_tooltip = {
				tooltip = FRA_in_crisis_tooltip
				has_country_flag = FRA_in_crisis
			}
		}
		
		available_if_capitulated = yes
		allow_branch = {
			NOT = { has_global_flag = fall_of_france }
		}

		completion_reward = {
			add_political_power = 75
			### STABILITY ###
			hidden_effect = {
				if = {
					limit = {
						is_ai = yes
						has_stability < 0.4
					}
					add_stability = 0.1
				}
			}
		}
	}
	
	focus = {
		id = FRA_the_german_threat
		icon = GFX_goal_ger_reich
		prerequisite = { focus = FRA_foreign_diplo }
		relative_position_id = FRA_foreign_diplo
		x = -3
		y = 1
		cost = 30
		search_filters = { FOCUS_FILTER_POLITICAL }
		
		available = {
			OR = {
				threat > 0.05
				date > 1937.1.1
			}
			custom_trigger_tooltip = {
				tooltip = FRA_not_in_crisis_tooltip
				NOT = {
					has_country_flag = FRA_in_crisis
				}
			}
		}
		cancel = {
			custom_trigger_tooltip = {
				tooltip = FRA_in_crisis_tooltip
				has_country_flag = FRA_in_crisis
			}
		}
		available_if_capitulated = yes
		continue_if_invalid = yes
		
		completion_reward = {
			if = {
				limit = {
					has_dlc = "La Resistance"
				}
				add_intel = {
					target = GER
					civilian_intel = 7
					army_intel = 5
					airforce_intel = 2
				}
			}
			else = { add_political_power = 25 }
			add_war_support = 0.1
			### STABILITY ###
			hidden_effect = {
				if = {
					limit = {
						is_ai = yes
						has_stability < 0.4
					}
					add_stability = 0.1
				}
			}
		}
	}
	
	focus = {
		id = FRA_little_entente
		icon = GFX_CZE_alliance
	 	prerequisite = { focus = FRA_the_german_threat }
		relative_position_id = FRA_the_german_threat
	 	mutually_exclusive = { focus = FRA_go_with_britain }
		x = 1
		y = 1
		cost = 30
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }
		
		available = {
			custom_trigger_tooltip = {
				tooltip = FRA_little_entente_faction_req
				any_of_scopes = {
					array = global.majors
					
					is_puppet = no
					NOT = { is_in_faction_with = FRA }
				}
			}
			OR = {
				threat > 0.1
				date > 1938.1.1
				GER = {
					has_completed_focus = GER_anschluss
				}
			}
		}
		available_if_capitulated = no
		continue_if_invalid = yes
		
		bypass = {
	 		is_in_faction_with = CZE
	 		is_faction_leader = yes
	 	}
		
		completion_reward = {
			add_stability = 0.03
			set_rule = { can_create_factions = yes }
			create_faction = "french_entente_alliance"
			set_global_flag = little_entente
			if = {
				limit = {
					CZE = {
						is_subject = no
						NOT = { has_war_with = FRA }
						is_in_faction = no
					}
				}
				CZE = { country_event = france.17 }
				hidden_effect = {
					news_event = { hours = 6 id = news.177 }
				}
			}
			if = {
				limit = {
					has_war_together_with = SPR
				}
				FRA = {
					add_to_faction = SPR
				}
			}
			### STABILITY ###
			hidden_effect = {
				if = {
					limit = {
						is_ai = yes
						has_stability < 0.4
					}
					add_stability = 0.1
				}
			}
		}
	}
	
	focus = {
		id = FRA_invite_yugoslavia
		icon = GFX_YUG_alliance
		available = { is_puppet = no }
	 	prerequisite = { focus = FRA_little_entente }
		relative_position_id = FRA_little_entente
		x = 1
		y = 1
		cost = 30
		search_filters = { FOCUS_FILTER_POLITICAL }
		
		bypass = {
			YUG = {
				OR = { 
					has_country_flag = fra_finalize_little_entente
					has_war_with = FRA 
					is_in_faction_with = FRA
					exists = no 
					is_subject = yes
				}
			}
		}
		
		completion_reward = {
			YUG = { country_event = france.17 }
			### STABILITY ###
			hidden_effect = {
				if = {
					limit = {
						is_ai = yes
						has_stability < 0.4
					}
					add_stability = 0.1
				}
			}
		}
	}
	
	focus = {
		id = FRA_invite_romania
		icon = GFX_ROM_alliance
	 	prerequisite = { focus = FRA_invite_yugoslavia focus = FRA_little_entente }
		relative_position_id = FRA_invite_yugoslavia
		x = 0
		y = 1
		cost = 30
		search_filters = { FOCUS_FILTER_POLITICAL }
		
		available = { is_puppet = no }
		
		bypass = {
			ROM = {
				OR = { 
					has_country_flag = fra_finalize_little_entente
					has_war_with = FRA 
					is_in_faction_with = FRA
					exists = no 
					is_subject = yes
				}
			}
		}
		
		completion_reward = {
			ROM = { country_event = france.17 }
			### STABILITY ###
			hidden_effect = {
				if = {
					limit = {
						is_ai = yes
						has_stability < 0.4
					}
					add_stability = 0.1
				}
			}
		}
	}
	
	focus = {
		id = FRA_invite_poland
		icon = GFX_POL_alliance
	 	prerequisite = { focus = FRA_invite_romania focus = FRA_little_entente }
		relative_position_id = FRA_invite_romania
		x = 0
		y = 1
		cost = 30
		search_filters = { FOCUS_FILTER_POLITICAL }
		
		available = { is_puppet = no }
		
		bypass = {
			POL = {
				OR = { 
					has_country_flag = fra_finalize_little_entente
					has_war_with = FRA 
					is_in_faction_with = FRA
					exists = no 
					is_subject = yes
				}
			}
		}
		
		completion_reward = {
			POL = { country_event = france.17 }
			### STABILITY ###
			hidden_effect = {
				if = {
					limit = {
						is_ai = yes
						has_stability < 0.4
					}
					add_stability = 0.1
				}
			}
		}
	}
	
	focus = {
		id = FRA_go_with_britain
		icon = GFX_ENG_alliance
	 	prerequisite = { focus = FRA_the_german_threat }
		relative_position_id = FRA_the_german_threat
	 	mutually_exclusive = { focus = FRA_little_entente }
		x = -1
		y = 1
		cost = 30
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_WAR_SUPPORT }
		
		available = {
			custom_trigger_tooltip = {
				tooltip = FRA_britain_alliance_tt
				is_puppet = no
				democratic_govt = yes
				ENG = {
					exists = yes
					is_puppet = no
					democratic_govt = yes
				}
				NOT = { has_war_with = ENG }
			}
			if = {
				limit = {
					has_completed_focus = FRA_intervene_in_spain
					NOT = { ENG = { has_completed_focus = ENG_global_defense } }
				}
				custom_trigger_tooltip = {
					tooltip = FRA_britain_alliance_refused_tt
					ENG = {
						has_opinion = {
							target = FRA
							value > 50
						}
					}
				}
			}
			OR = {
				threat > 0.15
				date > 1938.8.1
				GER = {
					has_completed_focus = GER_anschluss
				}
			}
		}
		
		bypass = {
			is_in_faction_with = ENG
		}
		available_if_capitulated = yes
		continue_if_invalid = yes
		
		completion_reward = {
			ENG = { country_event = { id = britain.13 } }
			FRA = {
				add_ai_strategy = {
						type = alliance
						id = "ENG"
						value = 300000
				}
			}
			ENG = {
				add_ai_strategy = {
						type = alliance
						id = "FRA"
						value = 300000
				}
			}
			if = {
				limit = {
					is_in_faction = yes
					NOT = { is_in_faction_with = ENG }
				}
				custom_effect_tooltip = FRA_leaving_faction_warning
			}
			### STABILITY ###
			hidden_effect = {
				if = {
					limit = {
						is_ai = yes
						has_stability < 0.4
					}
					add_stability = 0.1
				}
			}
		}
	}
	
	focus = {
		id = FRA_economic_cooperation_agreement
		icon = GFX_allies
	 	prerequisite = { focus = FRA_go_with_britain }
		relative_position_id = FRA_go_with_britain
		x = -1
		y = 1
		cost = 50
		search_filters = { FOCUS_FILTER_POLITICAL }
		
		available = {
			is_puppet = no 
			is_in_faction_with = ENG
		}
		
		completion_reward = {
			country_event = france.61
			### STABILITY ###
			hidden_effect = {
				if = {
					limit = {
						is_ai = yes
						has_stability < 0.4
					}
					add_stability = 0.1
				}
			}
		}
	}
	
	focus = {
		id = FRA_invite_benelux
		icon = GFX_goal_benelux
		mutually_exclusive = { focus = FRA_extend_the_maginot_line }
	 	prerequisite = { focus = FRA_economic_cooperation_agreement }
		prerequisite = { focus = FRA_defend_bel }
		relative_position_id = FRA_economic_cooperation_agreement
		x = -1
		y = 1
		cost = 50
		search_filters = { FOCUS_FILTER_POLITICAL }
		
		available = { is_puppet = no }
		
		bypass = {
	 		BEL = {
	 			OR = {
	 				exists = no
	 				is_puppet = yes
	 				has_war_with = FRA
					is_in_faction_with = FRA
	 			}
	 		}
			LUX = {
	 			OR = {
	 				exists = no
	 				is_puppet = yes
	 				has_war_with = FRA
					is_in_faction_with = FRA
	 			}
	 		}
	 	}
		
		completion_reward = {
			ENG = { country_event = france.40 }
			### STABILITY ###
			hidden_effect = {
				if = {
					limit = {
						is_ai = yes
						has_stability < 0.4
					}
					add_stability = 0.1
				}
			}
		}
	}
	
	focus = {
		id = FRA_research_treaty
		icon = GFX_goal_generic_scientific_exchange
	 	prerequisite = { focus = FRA_go_with_britain focus = FRA_little_entente }
		relative_position_id = FRA_go_with_britain
		x = 1
		y = 1
		cost = 50
		search_filters = { FOCUS_FILTER_RESEARCHCENTER }
		
		available = { 
			is_puppet = no 
			is_in_faction = yes
		}
		
		completion_reward = {
			if = {
				limit = {
					is_in_faction_with = ENG
					OR = {
						126 = { NOT = { has_state_flag = research_centre } is_fully_controlled_by = ENG }
						121 = { NOT = { has_state_flag = research_centre } is_fully_controlled_by = ENG }
						119 = { NOT = { has_state_flag = research_centre } is_fully_controlled_by = ENG }
					}
				}
				custom_effect_tooltip = FRA_research_treaty_uk
				if = {
					limit = { 126 = { NOT = { has_state_flag = research_centre } is_fully_controlled_by = ENG } }
					add_research_slot = 1
					126 = { state_add_research_centre = yes }
					SLOT:electronics_folder = yes
					SLOT:ww1_land_doctrine_folder = yes
					SLOT:land_doctrine_folder = yes
					SLOT:naval_folder = yes
					SLOT:naval_techs_folder = yes
				}
				else_if = {
					limit = { 121 = { NOT = { has_state_flag = research_centre } is_fully_controlled_by = ENG } }
					add_research_slot = 1
					121 = { state_add_research_centre = yes }
					SLOT:electronics_folder = yes
					SLOT:ww1_land_doctrine_folder = yes
					SLOT:land_doctrine_folder = yes
					SLOT:naval_folder = yes
					SLOT:naval_techs_folder = yes
				}
				else_if = {
					limit = { 119 = { NOT = { has_state_flag = research_centre } is_fully_controlled_by = ENG } }
					add_research_slot = 1
					119 = { state_add_research_centre = yes }
					SLOT:electronics_folder = yes
					SLOT:ww1_land_doctrine_folder = yes
					SLOT:land_doctrine_folder = yes
					SLOT:naval_folder = yes
					SLOT:naval_techs_folder = yes
				}
			}
			else = {
				add_research_slot = 1
				add_research_centre = yes
				SLOT:electronics_folder = yes
				SLOT:ww1_land_doctrine_folder = yes
				SLOT:land_doctrine_folder = yes
				SLOT:naval_folder = yes
				SLOT:naval_techs_folder = yes
			}
			### STABILITY ###
			hidden_effect = {
				if = {
					limit = {
						is_ai = yes
						has_stability < 0.4
					}
					add_stability = 0.1
				}
			}
		}
	}
	
	#### COLONIAL TREE ####
	
	focus = {
		id = FRA_colonial_investments
		icon = GFX_africa
		prerequisite = { focus = FRA_foreign_diplo }
		relative_position_id = FRA_foreign_diplo
		x = 3
		y = 1
		cost = 30
		search_filters = { FOCUS_FILTER_POLITICAL }
		
		available = {
			custom_trigger_tooltip = {
				tooltip = FRA_not_in_crisis_tooltip
				NOT = {
					has_country_flag = FRA_in_crisis
				}
			}
		}
		cancel = {
			custom_trigger_tooltip = {
				tooltip = FRA_in_crisis_tooltip
				has_country_flag = FRA_in_crisis
			}
		}
		available_if_capitulated = yes

		completion_reward = {
			add_ideas = FRA_colonial_focus
			### STABILITY ###
			hidden_effect = {
				if = {
					limit = {
						is_ai = yes
						has_stability < 0.4
					}
					add_stability = 0.1
				}
			}
		}
	}
	
	focus = {
		id = FRA_vienot_agreement
		icon = GFX_goal_generic_goal_rural_coop
		prerequisite = { focus = FRA_colonial_investments }
		relative_position_id = FRA_colonial_investments
		x = 0
		y = 1
		cost = 50
		search_filters = { FOCUS_FILTER_INFRASTRUCTURE }
		
		available = {
			SYR = { is_subject_of = FRA }
			LEB = { is_subject_of = FRA }
			custom_trigger_tooltip = {
				tooltip = FRA_not_in_crisis_tooltip
				NOT = {
					has_country_flag = FRA_in_crisis
				}
			}
		}
		cancel = {
			custom_trigger_tooltip = {
				tooltip = FRA_in_crisis_tooltip
				has_country_flag = FRA_in_crisis
			}
		}
		available_if_capitulated = yes
		
		completion_reward = {
			if = {
				limit = {
					677 = { is_controlled_by = SYR }
				}
				677 = {
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
					add_extra_state_shared_building_slots = 6
					add_building_construction = {
						type = industrial_complex
						level = 6
						instant_build = yes
					}
				}
			}
			if = {
				limit = {
					554 = { is_controlled_by = SYR }
				}
				554 = {
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			add_opinion_modifier = { target = SYR modifier = aided_industry }
			SYR = {
				add_autonomy_ratio = {
					value = -0.05
					localization = fra_syria_focus
				}
				Arab_hyper_inflation_level_down = yes
			}
			if = {
				limit = {
					553 = { is_controlled_by = LEB }
				}
				553 = {
					add_extra_state_shared_building_slots = 4
					add_building_construction = {
						type = industrial_complex
						level = 4
						instant_build = yes
					}
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			add_opinion_modifier = { target = LEB modifier = aided_industry }
			LEB = {
				add_autonomy_ratio = {
					value = -0.05
					localization = fra_lebanon_focus
				}
				Arab_hyper_inflation_level_down = yes
			}
			### STABILITY ###
			hidden_effect = {
				if = {
					limit = {
						is_ai = yes
						has_stability < 0.4
					}
					add_stability = 0.1
				}
			}
		}
	}
	
	focus = {
		id = FRA_develop_morocco
		icon = GFX_goal_generic_construct_civilian
		prerequisite = { focus = FRA_vienot_agreement }
		relative_position_id = FRA_vienot_agreement
		x = 1
		y = 1
		cost = 40
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_INFRASTRUCTURE }
		
		available = {
			MAR = { is_subject_of = FRA }
			custom_trigger_tooltip = {
				tooltip = FRA_not_in_crisis_tooltip
				NOT = {
					has_country_flag = FRA_in_crisis
				}
			}
		}
		cancel = {
			custom_trigger_tooltip = {
				tooltip = FRA_in_crisis_tooltip
				has_country_flag = FRA_in_crisis
			}
		}
		available_if_capitulated = yes
		
		completion_reward = {
			if = {
				limit = {
					461 = { is_controlled_by = MAR }
				}
				461 = {
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}
					add_extra_state_shared_building_slots = 5
					add_building_construction = {
						type = industrial_complex
						level = 5
						instant_build = yes
					}
				}
			}
			if = {
				limit = {
					462 = { is_controlled_by = MAR }
				}
				462 = {
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			add_opinion_modifier = { target = MAR modifier = aided_industry }
			MAR = {
				add_autonomy_ratio = {
					value = -0.05
					localization = fra_morocco_a_focus
				}
				Arab_hyper_inflation_level_down = yes
			}
			### STABILITY ###
			hidden_effect = {
				if = {
					limit = {
						is_ai = yes
						has_stability < 0.4
					}
					add_stability = 0.1
				}
			}
		}
	}
	
	focus = {
		id = FRA_develop_tunisia
		icon = GFX_goal_generic_construct_civilian
		prerequisite = { focus = FRA_vienot_agreement }
		relative_position_id = FRA_vienot_agreement
		x = -1
		y = 1
		cost = 40
		search_filters = { FOCUS_FILTER_INFRASTRUCTURE FOCUS_FILTER_INDUSTRY }
		
		available = {
			TUN = { is_subject_of = FRA }
			custom_trigger_tooltip = {
				tooltip = FRA_not_in_crisis_tooltip
				NOT = {
					has_country_flag = FRA_in_crisis
				}
			}
		}
		cancel = {
			custom_trigger_tooltip = {
				tooltip = FRA_in_crisis_tooltip
				has_country_flag = FRA_in_crisis
			}
		}
		available_if_capitulated = yes
		
		completion_reward = {
			if = {
				limit = {
					458 = { is_controlled_by = TUN }
				}
				458 = {
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
					add_extra_state_shared_building_slots = 6
					add_building_construction = {
						type = industrial_complex
						level = 5
						instant_build = yes
					}	
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
				}
			}
			if = {
				limit = {
					665 = { is_controlled_by = TUN }
				}
				665 = {
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			add_opinion_modifier = { target = TUN modifier = aided_industry }
			TUN = {
				add_autonomy_ratio = {
					value = -0.05
					localization = fra_tunisia_focus
				}
				Arab_hyper_inflation_level_down = yes
			}
			### STABILITY ###
			hidden_effect = {
				if = {
					limit = {
						is_ai = yes
						has_stability < 0.4
					}
					add_stability = 0.1
				}
			}
		}
	}
	
	focus = {
		id = FRA_develop_algeria
		icon = GFX_goal_generic_construct_mil_factory
		prerequisite = { focus = FRA_colonial_investments }
		relative_position_id = FRA_colonial_investments
		x = -2
		y = 1
		cost = 50
		search_filters = { FOCUS_FILTER_INDUSTRY }
		
		available = {
			FRA = {
				controls_state = 459
				controls_state = 460
			}
			custom_trigger_tooltip = {
				tooltip = FRA_not_in_crisis_tooltip
				NOT = {
					has_country_flag = FRA_in_crisis
				}
			}
		}
		cancel = {
			custom_trigger_tooltip = {
				tooltip = FRA_in_crisis_tooltip
				has_country_flag = FRA_in_crisis
			}
		}
		available_if_capitulated = yes
		

		
		completion_reward = {

			459 = {
				add_extra_state_shared_building_slots = 8
				add_building_construction = {
					type = arms_factory
					level = 6
					instant_build = yes
				}
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}			
			### STABILITY ###
			hidden_effect = {
				if = {
					limit = {
						is_ai = yes
						has_stability < 0.4
					}
					add_stability = 0.1
				}
			}
		}
	}
	
	focus = {
		id = FRA_develop_indochine
		icon = GFX_goal_generic_construct_naval_dockyard
		prerequisite = { focus = FRA_colonial_investments }
		relative_position_id = FRA_colonial_investments
		x = 2
		y = 1
		cost = 50
		search_filters = { FOCUS_FILTER_INFRASTRUCTURE FOCUS_FILTER_NAVY }
		
		available = {
			FRI = { is_subject_of = FRA }
			custom_trigger_tooltip = {
				tooltip = FRA_not_in_crisis_tooltip
				NOT = {
					has_country_flag = FRA_in_crisis
				}
			}
		}
		cancel = {
			custom_trigger_tooltip = {
				tooltip = FRA_in_crisis_tooltip
				has_country_flag = FRA_in_crisis
			}
		}
		available_if_capitulated = yes
		
		completion_reward = {
			if = {
				limit = {
					670 = { is_controlled_by = FRI }
				}
				670 = {
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			if = {
				limit = {
					741 = { is_controlled_by = FRI }
				}
				741 = {
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			if = {
				limit = {
					833 = { is_controlled_by = FRI }
				}
				833 = {
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			if = {
				limit = {
					750 = { is_controlled_by = FRI }
				}
				750 = {
					add_building_construction = {						
						type = naval_base
						province = 1185
						level = 3
						instant_build = yes
					}
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
				}
			}
			if = {
				limit = {
					286 = { is_controlled_by = FRI }
				}
				286 = {
					add_building_construction = {
						type = naval_base
						province = 4401
						level = 2
						instant_build = yes
					}
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
				}	
			}
			add_opinion_modifier = { target = FRI modifier = aided_industry }
			FRI = {
				add_autonomy_ratio = {
					value = -0.05
					localization = fra_indochina_focus
				}
			}
			### STABILITY ###
			hidden_effect = {
				if = {
					limit = {
						is_ai = yes
						has_stability < 0.4
					}
					add_stability = 0.1
				}
			}
		}
	}
	
	focus = {
		id = FRA_technology_sharing
		icon = GFX_goal_tfv_generic_tech_sharing
		prerequisite = { focus = FRA_develop_algeria }
		prerequisite = { focus = FRA_develop_indochine }
		prerequisite = { focus = FRA_develop_tunisia }
		prerequisite = { focus = FRA_develop_morocco }
		relative_position_id = FRA_colonial_investments
		x = 0
		y = 3
		cost = 20
		search_filters = { FOCUS_FILTER_RESEARCH }
		
		available = {
			custom_trigger_tooltip = {
				tooltip = FRA_not_in_crisis_tooltip
				NOT = {
					has_country_flag = FRA_in_crisis
				}
			}
		}
		cancel = {
			custom_trigger_tooltip = {
				tooltip = FRA_in_crisis_tooltip
				has_country_flag = FRA_in_crisis
			}
		}
		available_if_capitulated = yes
		
		completion_reward = {
			if = {
				limit = { 
					has_dlc = "Together for Victory" 
				}
				FRA = {
					modify_tech_sharing_bonus = {
						id = french_research
						bonus = 0.1  
					}
				}
				if = {
					limit = { 
						MAR = {
							is_subject_of = FRA
							is_in_tech_sharing_group = french_research
						}
					}
					MAR = {
						modify_tech_sharing_bonus = {
							id = french_research
							bonus = 0.05  
						}
					}
				}
				if = {
					limit = { 
						TUN = {
							is_subject_of = FRA
							is_in_tech_sharing_group = french_research
						}
					}
					TUN = {
						modify_tech_sharing_bonus = {
						id = french_research
						bonus = 0.05  
						}
					}
				}
				if = {
					limit = { 
						FRI = {
							is_subject_of = FRA
							is_in_tech_sharing_group = french_research
						}
					}
					FRI = {
						modify_tech_sharing_bonus = {
						id = french_research
						bonus = 0.05  
						}
					}
				}
				if = {
					limit = { 
						SYR = {
							is_subject_of = FRA
							is_in_tech_sharing_group = french_research
						}
					}
					SYR = {
						modify_tech_sharing_bonus = {
							id = french_research
							bonus = 0.05  
						}
					}
				}
				if = {
					limit = { 
						LEB = {
							is_subject_of = FRA
							is_in_tech_sharing_group = french_research
						}
					}
					LEB = {
						modify_tech_sharing_bonus = {
							id = french_research
							bonus = 0.05  
						}
					}
				}
			}
			
			if = {
				limit = { 
					NOT = { has_dlc = "Together for Victory" }
				}
				add_tech_bonus = {
					name = electronics_bonus
					bonus = 0.5
					uses = 1
					category = electronics
				}
				add_tech_bonus = {
					name = industrial_bonus
					bonus = 0.5
					uses = 1
					category = industry
				}	
				add_tech_bonus = {
					name = infantry_weapons_bonus
					bonus = 0.5
					uses = 1
					category = infantry_weapons
					category = artillery
				}
			}
			### STABILITY ###
			hidden_effect = {
				if = {
					limit = {
						is_ai = yes
						has_stability < 0.4
					}
					add_stability = 0.1
				}
			}
		}
	}
	
	focus = {
		id = FRA_blum_viollette_project
		icon = GFX_goal_extensive_conscription
		prerequisite = { focus = FRA_technology_sharing }
		relative_position_id = FRA_technology_sharing
		x = 0
		y = 1
		cost = 20
		search_filters = { FOCUS_FILTER_STABILITY FOCUS_FILTER_MANPOWER }
		
		available = {
			OR = {
				FRI = { is_subject_of = FRA }
				SYR = { is_subject_of = FRA }
				MAR = { is_subject_of = FRA }
				LEB = { is_subject_of = FRA }
			}
			custom_trigger_tooltip = {
				tooltip = FRA_not_in_crisis_tooltip
				NOT = {
					has_country_flag = FRA_in_crisis
				}
			}
		}
		cancel = {
			custom_trigger_tooltip = {
				tooltip = FRA_in_crisis_tooltip
				has_country_flag = FRA_in_crisis
			}
		}
		available_if_capitulated = yes
		
		completion_reward = {
			add_ideas = FRA_blum_viollette_law
			add_stability = -0.1
			### STABILITY ###
			hidden_effect = {
				if = {
					limit = {
						is_ai = yes
						has_stability < 0.4
					}
					add_stability = 0.1
				}
			}
		}
	}
	
	focus = {
		id = FRA_foreign_legion
		icon = GFX_goal_fra_troops_megaphone
		prerequisite = { focus = FRA_blum_viollette_project }
		relative_position_id = FRA_blum_viollette_project
		x = 0
		y = 1
		cost = 20
		search_filters = { FOCUS_FILTER_RESEARCH }
		
		available = {
			OR = {
				FRI = { is_subject_of = FRA }
				SYR = { is_subject_of = FRA }
				MAR = { is_subject_of = FRA }
				LEB = { is_subject_of = FRA }
			}
			custom_trigger_tooltip = {
				tooltip = FRA_not_in_crisis_tooltip
				NOT = {
					has_country_flag = FRA_in_crisis
				}
			}
		}
		cancel = {
			custom_trigger_tooltip = {
				tooltip = FRA_in_crisis_tooltip
				has_country_flag = FRA_in_crisis
			}
		}
		available_if_capitulated = yes
		
		completion_reward = {
			add_manpower = 50000
			add_tech_bonus = {
				name = FRA_legion
				bonus = 0.5
				uses = 1
				category = para_tech
				category = mountaineers_tech
			}
			### STABILITY ###
			hidden_effect = {
				if = {
					limit = {
						is_ai = yes
						has_stability < 0.4
					}
					add_stability = 0.1
				}
			}
		}
	}
	
	focus = {
		id = FRA_sahara_oil
		icon = GFX_goal_desert_oil
		prerequisite = { focus = FRA_develop_algeria }
		relative_position_id = FRA_develop_algeria
		x = 0
		y = 3
		cost = 50
		search_filters = { FOCUS_FILTER_INDUSTRY }
		
		available = {
			FRA = {
				controls_state = 514
				controls_state = 459
			}
			custom_trigger_tooltip = {
				tooltip = FRA_not_in_crisis_tooltip
				NOT = {
					has_country_flag = FRA_in_crisis
				}
			}
		}
		cancel = {
			custom_trigger_tooltip = {
				tooltip = FRA_in_crisis_tooltip
				has_country_flag = FRA_in_crisis
			}
		}
		available_if_capitulated = yes

		completion_reward = {
			add_resource = {
				type = oil
				amount = 8
				state = 459
			}
			459 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = synthetic_refinery
					level = 2
					instant_build = yes
				}
			}
			### STABILITY ###
			hidden_effect = {
				if = {
					limit = {
						is_ai = yes
						has_stability < 0.4
					}
					add_stability = 0.1
				}
			}
		}
	}
	
	focus = {
		id = FRA_tungsten_mines
		icon = GFX_goal_tungsten
		prerequisite = { focus = FRA_develop_indochine }
		relative_position_id = FRA_develop_indochine
		x = 0
		y = 3
		cost = 50
		search_filters = { FOCUS_FILTER_INDUSTRY }
		
		available = {
			OR = {
				FRA = {
					controls_state = 671
				}
				FRI = {
					controls_state = 671
				}
			}
			custom_trigger_tooltip = {
				tooltip = FRA_not_in_crisis_tooltip
				NOT = {
					has_country_flag = FRA_in_crisis
				}
			}
		}
		cancel = {
			custom_trigger_tooltip = {
				tooltip = FRA_in_crisis_tooltip
				has_country_flag = FRA_in_crisis
			}
		}
		available_if_capitulated = yes
		
		completion_reward = {
			add_resource = {
				type = tungsten
				amount = 21
				state = 671
			}
			### STABILITY ###
			hidden_effect = {
				if = {
					limit = {
						is_ai = yes
						has_stability < 0.4
					}
					add_stability = 0.1
				}
			}
		}
	}
	
########## Wartime Focus Tree ##########
	
	focus = {
		id = FRA_another_great_war
		icon = GFX_goal_lessons_of_ww1
		relative_position_id = FRA_foreign_diplo
		x = 15
		y = 0
		cost = 10
		search_filters = { FOCUS_FILTER_STABILITY FOCUS_FILTER_MANPOWER }
		
		available = {
			OR = {
				has_war_with = GER
				has_war_with = JAP
				has_war_with = ITA
				has_war_with = SOV
				has_war_with = ENG
				has_war_with = USA
			}
		}
		available_if_capitulated = yes
		
		completion_reward = {
			add_stability = 0.25
			if = {
				limit = {
					has_idea = FRA_victors_of_wwi_1
				}
				remove_ideas = FRA_victors_of_wwi_1
			}
			if = {
				limit = {
					has_idea = FRA_victors_of_wwi_2
				}
				swap_ideas = {
					remove_idea = FRA_victors_of_wwi_2
					add_idea = FRA_victors_of_wwi_1
				}
			}
			if = {
				limit = {
					has_idea = FRA_victors_of_wwi_3
				}
				swap_ideas = {
					remove_idea = FRA_victors_of_wwi_3
					add_idea = FRA_victors_of_wwi_2
				}
			}
			if = {
				limit = {
					has_idea = FRA_victors_of_wwi_4
				}
				swap_ideas = {
					remove_idea = FRA_victors_of_wwi_4
					add_idea = FRA_victors_of_wwi_3
				}
			}
			army_experience = -25
			if = {
				limit = {
					is_ai = yes
				}
				hidden_effect = {
					load_oob = "FRA_heavy_armor"
					if = {
						limit = {
							GER = { is_ai = no }
						}
						add_equipment_to_stockpile = {
							type = trm_heavy_tank_chassis_fra_b1_1
							amount = 200
							producer = FRA
						}
						add_equipment_to_stockpile = {
							type = trm_cavalry_tank_chassis_fra_s35_1
							amount = 200
							producer = FRA
						}
						add_equipment_to_stockpile = {
							type = motorized_equipment
							amount = 200
							producer = FRA
						}
					}
				}
			}
			### STABILITY ###
			hidden_effect = {
				if = {
					limit = {
						is_ai = yes
						has_stability < 0.4
					}
					add_stability = 0.1
				}
			}
		}
	}
	
	focus = {
		id = FRA_war_effort_law
		icon = GFX_goal_fra_troops_megaphone
		prerequisite = { focus = FRA_another_great_war }
		relative_position_id = FRA_another_great_war
		x = 0
		y = 1
		cost = 20
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH FOCUS_FILTER_RESEARCH FOCUS_FILTER_STABILITY }
		
		available = {
			has_completed_focus = FRA_partial_mobilization
		}
		bypass = {
			OR = {
				has_idea = war_economy
				has_idea = tot_economic_mobilisation
			}
	 	}
		
		completion_reward = {
			
			set_temp_variable = { input_group = token:economy }
			set_temp_variable = { input_lvl = 5 } #war_economy
			set_temp_variable = { input_only_upgrade = 1 }
			add_law = yes
			
			### STABILITY ###
			hidden_effect = {
				if = {
					limit = {
						is_ai = yes
						has_stability < 0.4
					}
					add_stability = 0.1
				}
			}
		}
	}
	
	focus = {
		id = FRA_general_mobilisation_order
		icon = GFX_goal_fra_troops_law
		prerequisite = { focus = FRA_another_great_war }
		relative_position_id = FRA_another_great_war
		x = 2
		y = 1
		cost = 20
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_ARMY FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_INDUSTRY FOCUS_FILTER_MANPOWER }
		
		bypass = {
			OR = {
				has_idea = cons_three
				has_idea = cons_expanded_draft
				has_idea = cons_extensive_draft
				has_idea = cons_barrel
			}
		}
		
		completion_reward = {
			add_political_power = -50
			add_ideas = cons_expanded_draft
			### STABILITY ###
			hidden_effect = {
				if = {
					limit = {
						is_ai = yes
						has_stability < 0.4
					}
					add_stability = 0.1
				}
			}
		}
	}
	
	focus = {
		id = FRA_africa_army
		icon = GFX_focus_RAJ_indian_gentlemen_offcers
		prerequisite = { focus = FRA_general_mobilisation_order }
		relative_position_id = FRA_general_mobilisation_order
		x = -1
		y = 1
		cost = 30
		search_filters = { FOCUS_FILTER_RESEARCH }
		
		available_if_capitulated = yes
		
		completion_reward = {
			add_tech_bonus = {
				name = FRA_army_reform
				bonus = 0.5
				uses = 1
				category = land_doctrine
			}
			add_tech_bonus = {
				name = FRA_army_reform
				bonus = 0.5
				uses = 1
				category = support_tech
			}
			### STABILITY ###
			hidden_effect = {
				if = {
					limit = {
						is_ai = yes
						has_stability < 0.4
					}
					add_stability = 0.1
				}
			}
		}
	}
	
	focus = {
		id = FRA_colonial_troops
		icon = GFX_goal_desert_troops
		prerequisite = { focus = FRA_general_mobilisation_order }
		relative_position_id = FRA_general_mobilisation_order
		x = 1
		y = 1
		cost = 30
		search_filters = { FOCUS_FILTER_ARMY }
		
		available_if_capitulated = yes
		
		completion_reward = {
			add_ideas = FRA_desert_equipment
			### STABILITY ###
			hidden_effect = {
				if = {
					limit = {
						is_ai = yes
						has_stability < 0.4
					}
					add_stability = 0.1
				}
			}
		}
	}
	
	focus = {
		id = FRA_commandos_marine
		icon = GFX_goal_generic_amphibious_assault
		prerequisite = { focus = FRA_general_mobilisation_order }
		relative_position_id = FRA_general_mobilisation_order
		x = 3
		y = 1
		cost = 30
		search_filters = { FOCUS_FILTER_NAVY }
		
		available_if_capitulated = yes
		
		completion_reward = {
			add_ideas = FRA_commando_marine
			### STABILITY ###
			hidden_effect = {
				if = {
					limit = {
						is_ai = yes
						has_stability < 0.4
					}
					add_stability = 0.1
				}
			}
		}
	}
	
	focus = {
		id = FRA_coordinate_with_allies
		icon = GFX_goal_allies_flags
		prerequisite = { focus = FRA_another_great_war }
		relative_position_id = FRA_another_great_war
		x = -4
		y = 1
		cost = 30
		search_filters = { FOCUS_FILTER_NAVY }
		
		available = {
			OR = {
				is_in_faction_with = ENG
				is_in_faction_with = ITA
				is_in_faction_with = USA
				is_in_faction_with = SOV
				is_in_faction_with = JAP
				is_in_faction_with = GER
				is_in_faction_with = CHI
				custom_trigger_tooltip = {
					tooltip = FRA_formed_little_entente
					has_completed_focus = FRA_little_entente
					has_completed_focus = FRA_invite_yugoslavia
					has_completed_focus = FRA_invite_romania
					has_completed_focus = FRA_invite_poland
				}
			}
		}
		
		available_if_capitulated = yes
		
		completion_reward = {
			if = {
				limit = {
					is_in_faction = no
				}
				custom_effect_tooltip = FRA_not_in_faction
			}
			if = {
				limit = {
					is_in_faction = yes
				}
				add_command_power = 20
			}
			every_country = {
				limit = {
					is_in_faction_with = FRA
				}
				add_command_power = 10
			}
			### STABILITY ###
			hidden_effect = {
				if = {
					limit = {
						is_ai = yes
						has_stability < 0.4
					}
					add_stability = 0.1
				}
			}
		}
	}
	
	focus = {
		id = FRA_attack_westwall
		icon = GFX_focus_generic_strike_at_democracy1
		prerequisite = { focus = FRA_coordinate_with_allies }
		relative_position_id = FRA_coordinate_with_allies
		x = -2
		y = 1
		cost = 30
		search_filters = { FOCUS_FILTER_NAVY }
		
		available = {
			has_war_with = GER
			NOT = {
				has_idea = FRA_phony_war_idea
			}
			is_in_faction = yes
			OR = {
				has_completed_focus = FRA_defensive_doctrine
				has_completed_focus = FRA_offensive_doctrine
			}
			set_temp_variable = { FRA_attack_westwall = 1 }
			set_temp_variable = { target = GER.id }
			ai_can_take_wargoal_focus/FRA = yes
		}
		available_if_capitulated = no
		will_lead_to_war_with = GER
		
		completion_reward = {
			if = {
				limit = {
					is_in_faction = no
				}
				custom_effect_tooltip = FRA_not_in_faction
			}
			every_country = {
				limit = {
					is_in_faction_with = FRA
				}
				add_timed_idea = {
					idea = FRA_attack_westwall_idea
					days = 150
				}
			}
			### STABILITY ###
			hidden_effect = {
				if = {
					limit = {
						is_ai = yes
						has_stability < 0.4
					}
					add_stability = 0.1
				}
			}
		}
	}
	
	focus = {
		id = FRA_hold_out_czech
		icon = GFX_goal_cze_shield
		prerequisite = { focus = FRA_attack_westwall }
		relative_position_id = FRA_attack_westwall
		x = 1
		y = 1
		cost = 10
		search_filters = { FOCUS_FILTER_NAVY }
		
		available = {
			is_in_faction_with = CZE
			CZE = {
				exists = yes
				OR = {
					has_war_with = GER
					has_war_with = SOV
				}
			}
		}
		available_if_capitulated = no
		
		completion_reward = {
			CZE = {
				add_timed_idea = {
					idea = FRA_hold_out
					days = 100
				}
			}
			### STABILITY ###
			hidden_effect = {
				if = {
					limit = {
						is_ai = yes
						has_stability < 0.4
					}
					add_stability = 0.1
				}
			}
		}
	}
	
	focus = {
		id = FRA_hold_out_poland
		icon = GFX_goal_pol_soldier_deal
		prerequisite = { focus = FRA_attack_westwall focus = FRA_hold_out_czech }
		relative_position_id = FRA_hold_out_czech
		x = 0
		y = 1
		cost = 10
		search_filters = { FOCUS_FILTER_POLITICAL }
		
		available = {
			is_in_faction_with = POL
			POL = {
				exists = yes
				OR = {
					has_war_with = GER
					has_war_with = SOV
				}
			}
		}
		available_if_capitulated = no
		
		completion_reward = {
			POL = {
				add_timed_idea = {
					idea = FRA_hold_out
					days = 100
				}
			}
			### STABILITY ###
			hidden_effect = {
				if = {
					limit = {
						is_ai = yes
						has_stability < 0.4
					}
					add_stability = 0.1
				}
			}
		}
	}
	
	focus = {
		id = FRA_hold_out_finland
		icon = GFX_goal_fin_soldier_deal
		prerequisite = { focus = FRA_attack_westwall focus = FRA_hold_out_poland }
		relative_position_id = FRA_hold_out_poland
		x = 0
		y = 1
		cost = 10
		search_filters = { FOCUS_FILTER_NAVY }
		
		available = {
			FIN = {
				exists = yes
				OR = {
					has_war_with = GER
					has_war_with = SOV
				}
			}
		}
		available_if_capitulated = no
		
		completion_reward = {
			FIN = {
				add_timed_idea = {
					idea = FRA_hold_out
					days = 50
				}
			}
			add_stability = 0.15
			add_command_power = 25
			### STABILITY ###
			hidden_effect = {
				if = {
					limit = {
						is_ai = yes
						has_stability < 0.4
					}
					add_stability = 0.1
				}
			}
		}
	}
	
	focus = {
		id = FRA_deal_with_ger_tanks
		icon = GFX_goal_destroyed_tank
		prerequisite = { focus = FRA_attack_westwall focus = FRA_attack_westwall }
		relative_position_id = FRA_attack_westwall
		x = -1
		y = 1
		cost = 30
		search_filters = { FOCUS_FILTER_RESEARCH }
		
		available_if_capitulated = yes
		
		completion_reward = {
			add_tech_bonus = {
				name = anti_tank_bonus
				bonus = 0.5
				uses = 2
				category = cat_anti_tank
			}
			### STABILITY ###
			hidden_effect = {
				if = {
					limit = {
						is_ai = yes
						has_stability < 0.4
					}
					add_stability = 0.1
				}
			}
		}
	}
	
	focus = {
		id = FRA_final_push
		icon = GFX_goal_checkmate
		prerequisite = { focus = FRA_deal_with_ger_tanks }
		relative_position_id = FRA_deal_with_ger_tanks
		x = 0
		y = 1
		cost = 30
		search_filters = { FOCUS_FILTER_NAVY }
		
		available_if_capitulated = no
		
		completion_reward = {
			add_timed_idea = {
				idea = FRA_final_push_idea
				days = 30
			}
			### STABILITY ###
			hidden_effect = {
				if = {
					limit = {
						is_ai = yes
						has_stability < 0.4
					}
					add_stability = 0.1
				}
			}
		}
	}
	
	focus = {
		id = FRA_the_phony_war
		icon = GFX_goal_fra_forts
		prerequisite = { focus = FRA_coordinate_with_allies }
		relative_position_id = FRA_coordinate_with_allies
		x = 2
		y = 1
		cost = 10
		search_filters = { FOCUS_FILTER_NAVY }
		
		available = {
			NOT = {
				has_idea = FRA_attack_westwall_idea
			}
			is_in_faction = yes
			OR = {
				has_completed_focus = FRA_defensive_doctrine
				has_completed_focus = FRA_offensive_doctrine
			}
		}
		available_if_capitulated = no
		
		completion_reward = {
			if = {
				limit = {
					is_in_faction = no
				}
				custom_effect_tooltip = FRA_not_in_faction
			}
			every_country = {
				limit = {
					is_in_faction_with = FRA
				}
				add_timed_idea = {
					idea = FRA_phony_war_idea
					days = 500
				}
			}
			### STABILITY ###
			hidden_effect = {
				if = {
					limit = {
						is_ai = yes
						has_stability < 0.4
					}
					add_stability = 0.1
				}
			}
		}
	}
	
	focus = {
		id = FRA_propaganda_leaflets
		icon = GFX_goal_propaganda_posters
		prerequisite = { focus = FRA_the_phony_war }
		relative_position_id = FRA_the_phony_war
		x = -1
		y = 1
		cost = 20
		search_filters = { FOCUS_FILTER_NAVY }
		
		available_if_capitulated = no
		
		completion_reward = {
			every_enemy_country = {
				add_war_support = -0.10
				add_stability = -0.05
			}
			### STABILITY ###
			hidden_effect = {
				if = {
					limit = {
						is_ai = yes
						has_stability < 0.4
					}
					add_stability = 0.1
				}
			}
		}
	}
	
	focus = {
		id = FRA_begin_strategic_bombing
		icon = GFX_goal_generic_bomber
		prerequisite = { focus = FRA_propaganda_leaflets }
		relative_position_id = FRA_propaganda_leaflets
		x = 0
		y = 1
		cost = 30
		search_filters = { FOCUS_FILTER_NAVY }
		
		available = {
			is_in_faction = yes
		}
		available_if_capitulated = no
		
		completion_reward = {
			if = {
				limit = {
					is_in_faction = no
				}
				custom_effect_tooltip = FRA_not_in_faction
			}
			every_country = {
				limit = {
					is_in_faction_with = FRA
				}
				add_timed_idea = {
					idea = FRA_strat_bombing
					days = 500
				}
			}
			### STABILITY ###
			hidden_effect = {
				if = {
					limit = {
						is_ai = yes
						has_stability < 0.4
					}
					add_stability = 0.1
				}
			}
		}
	}
	
	focus = {
		id = FRA_economic_warfare
		icon = GFX_goal_sieze_capital
		prerequisite = { focus = FRA_the_phony_war }
		relative_position_id = FRA_the_phony_war
		x = 1
		y = 1
		cost = 30
		search_filters = { FOCUS_FILTER_FOREIGN_DIPLOMACY }
		
		available = {
			has_war_with = GER
			custom_trigger_tooltip = {
				tooltip = FRA_econ_warfare_focus_prereq
				OR = {
					NOR = {
						AND = {
							NOT = { has_war_with = GER }
							NOT = { is_in_faction_with = FRA }
							NOT = { is_in_faction_with = GER }
						}
					}
					SWE = {
						AND = {
							NOT = { has_war_with = GER }
							NOT = { is_in_faction_with = FRA }
							NOT = { is_in_faction_with = GER }
						}
					}
					ROM = {
						AND = {
							NOT = { has_war_with = GER }
							NOT = { is_in_faction_with = FRA }
							NOT = { is_in_faction_with = GER }
						}
					}
					TUR = {
						AND = {
							NOT = { has_war_with = GER }
							NOT = { is_in_faction_with = FRA }
							NOT = { is_in_faction_with = GER }
						}
					}
					SOV = {
						AND = {
							NOT = { has_war_with = GER }
							NOT = { is_in_faction_with = FRA }
							NOT = { is_in_faction_with = GER }
						}
					}
				}
			}
		}
		
		completion_reward = {
			custom_effect_tooltip = FRA_econ_warfare_focus
			if = {
				limit = {
					BEL = {
						exists = yes
						has_capitulated = no
						is_subject = no
						NOT = {
							has_war_with = GER
							has_war_with = FRA
						}
					}
				}
				custom_effect_tooltip = FRA_econ_warfare_bel
				hidden_effect = {
					BEL = {
						country_event = franceBiceE.06
					}
				}
			}
			if = {
				limit = {
					GRE = {
						exists = yes
						has_capitulated = no
						is_subject = no
						NOT = {
							has_war_with = GER
							has_war_with = FRA
						}
					}
				}
				custom_effect_tooltip = FRA_econ_warfare_gre
				hidden_effect = {
					GRE = {
						country_event = franceBiceE.06
					}
				}
			}
			if = {
				limit = {
					HUN = {
						exists = yes
						has_capitulated = no
						is_subject = no
						NOT = {
							has_war_with = GER
							has_war_with = FRA
						}
					}
				}
				custom_effect_tooltip = FRA_econ_warfare_hun
				hidden_effect = {
					HUN = {
						country_event = franceBiceE.06
					}
				}
			}
			if = {
				limit = {
					HOL = {
						exists = yes
						has_capitulated = no
						is_subject = no
						NOT = {
							has_war_with = GER
							has_war_with = FRA
						}
					}
				}
				custom_effect_tooltip = FRA_econ_warfare_hol
				hidden_effect = {
					HOL = {
						country_event = franceBiceE.06
					}
				}
			}
			if = {
				limit = {
					ITA = {
						exists = yes
						has_capitulated = no
						is_subject = no
						NOT = {
							has_completed_focus = ITA_pact_of_steel
							has_war_with = GER
							has_war_with = FRA
						}
					}
				}
				custom_effect_tooltip = FRA_econ_warfare_ita
				hidden_effect = {
					ITA = {
						country_event = franceBiceE.06
					}
				}
			}
			if = {
				limit = {
					NOR = {
						exists = yes
						has_capitulated = no
						is_subject = no
						NOT = {
							has_war_with = GER
							has_war_with = FRA
						}
					}
				}
				custom_effect_tooltip = FRA_econ_warfare_nor
				hidden_effect = {
					NOR = {
						country_event = franceBiceE.06
					}
				}
			}
			if = {
				limit = {
					POR = {
						exists = yes
						has_capitulated = no
						is_subject = no
						NOT = {
							has_war_with = GER
							has_war_with = FRA
						}
					}
				}
				custom_effect_tooltip = FRA_econ_warfare_por
				hidden_effect = {
					POR = {
						country_event = franceBiceE.06
					}
				}
			}
			if = {
				limit = {
					ROM = {
						exists = yes
						has_capitulated = no
						is_subject = no
						NOT = {
							has_war_with = GER
							has_war_with = FRA
						}
					}
				}
				custom_effect_tooltip = FRA_econ_warfare_rom
				hidden_effect = {
					ROM = {
						country_event = franceBiceE.06
					}
				}
			}
			if = {
				limit = {
					SOV = {
						exists = yes
						has_capitulated = no
						is_subject = no
						NOT = {
							has_war_with = GER
							has_war_with = FRA
							has_country_flag = mr_accepted
						}
					}
				}
				custom_effect_tooltip = FRA_econ_warfare_sov
				hidden_effect = {
					SOV = {
						country_event = franceBiceE.06
					}
				}
			}
			if = {
				limit = {
					OR = {
						SPR = {
							exists = yes
							has_capitulated = no
							is_subject = no
							NOT = {
								has_war_with = GER
								has_war_with = FRA
							}
						}
						SPA = {
							exists = yes
							has_capitulated = no
							is_subject = no
							NOT = {
								has_war_with = GER
								has_war_with = FRA
							}
						}
					}
				}
				custom_effect_tooltip = FRA_econ_warfare_spa
				if = {
					limit = {
						SPR = {
							NOT = { has_government = fascism }
						}
					}
					hidden_effect = {
						SPR = {
							country_event = franceBiceE.06
						}
					}
				}
			}
			if = {
				limit = {
					SWE = {
						exists = yes
						has_capitulated = no
						is_subject = no
						NOT = {
							has_war_with = GER
							has_war_with = FRA
						}
					}
				}
				custom_effect_tooltip = FRA_econ_warfare_swe
				hidden_effect = {
					SWE = {
						country_event = franceBiceE.06
					}
				}
			}
			if = {
				limit = {
					TUR = {
						exists = yes
						has_capitulated = no
						is_subject = no
						NOT = {
							has_war_with = GER
							has_war_with = FRA
						}
					}
				}
				custom_effect_tooltip = FRA_econ_warfare_tur
				hidden_effect = {
					TUR = {
						country_event = franceBiceE.06
					}
				}
			}
			if = {
				limit = {
					ENG = {
						exists = yes
						has_capitulated = no
						is_subject = no
						NOT = {
							has_war_with = GER
							has_war_with = FRA
						}
					}
				}
				custom_effect_tooltip = FRA_econ_warfare_eng
				hidden_effect = {
					ENG = {
						country_event = franceBiceE.06
					}
				}
			}
			if = {
				limit = {
					YUG = {
						exists = yes
						has_capitulated = no
						is_subject = no
						NOT = {
							has_war_with = GER
							has_war_with = FRA
						}
					}
				}
				custom_effect_tooltip = FRA_econ_warfare_yug
				hidden_effect = {
					YUG = {
						country_event = franceBiceE.06
					}
				}
			}
			### STABILITY ###
			hidden_effect = {
				if = {
					limit = {
						is_ai = yes
						has_stability < 0.4
					}
					add_stability = 0.1
				}
			}
		}
	}
	
	focus = {
		id = FRA_attack_norway
		icon = GFX_goal_attack_nor
		prerequisite = { focus = FRA_economic_warfare }
		relative_position_id = FRA_economic_warfare
		x = 0
		y = 1
		cost = 30
		search_filters = { FOCUS_FILTER_FOREIGN_DIPLOMACY }
		
		available = {
			custom_trigger_tooltip = {
				tooltip = FRA_econ_warfare_prereq
				NOR = {
					exists = yes
					has_capitulated = no
					is_subject = no
					NOT = {
						has_war_with = FRA
						has_war_with = FRA
					}
				}
			}
			set_temp_variable = { FRA_attack_norway = 1 }
			set_temp_variable = { target = NOR.id }
			ai_can_take_wargoal_focus/FRA = yes
		}
		available_if_capitulated = no
		
		bypass = {
			NOR = {
				OR = { 
					has_war_with = FRA 
					has_war_with = GER 
					exists = no 
					has_capitulated = yes
					is_subject = yes
				}
			}
		}
		will_lead_to_war_with = NOR
		
		completion_reward = {
			custom_effect_tooltip = FRA_nor_ultimatum
			NOR = {
				country_event = { id = franceBiceE.09 }
			}
			### STABILITY ###
			hidden_effect = {
				if = {
					limit = {
						is_ai = yes
						has_stability < 0.4
					}
					add_stability = 0.1
				}
			}
		}
	}
	
	focus = {
		id = FRA_attack_sweeden
		icon = GFX_goal_attack_swe
		prerequisite = { focus = FRA_attack_norway }
		relative_position_id = FRA_attack_norway
		x = 0
		y = 1
		cost = 30
		search_filters = { FOCUS_FILTER_FOREIGN_DIPLOMACY }
		
		available = {
			custom_trigger_tooltip = {
				tooltip = FRA_econ_warfare_prereq
				SWE = {
					exists = yes
					has_capitulated = no
					is_subject = no
					NOT = {
						has_war_with = FRA
						has_war_with = GER
					}
				}
			}
			set_temp_variable = { FRA_attack_sweeden = 1 }
			set_temp_variable = { target = SWE.id }
			ai_can_take_wargoal_focus/FRA = yes
		}
		available_if_capitulated = no
		
		bypass = {
			SWE = {
				OR = { 
					has_war_with = FRA 
					has_war_with = GER 
					exists = no 
					has_capitulated = yes
					is_subject = yes
				}
			}
		}
		will_lead_to_war_with = SWE
		
		completion_reward = {
			custom_effect_tooltip = FRA_swe_ultimatum
			SWE = {
				country_event = { id = franceBiceE.09 }
			}
			### STABILITY ###
			hidden_effect = {
				if = {
					limit = {
						is_ai = yes
						has_stability < 0.4
					}
					add_stability = 0.1
				}
			}
		}
	}
	
	focus = {
		id = FRA_attack_yugoslavia
		icon = GFX_goal_attack_yug
		prerequisite = { focus = FRA_economic_warfare }
		relative_position_id = FRA_economic_warfare
		x = 2
		y = 1
		cost = 30
		search_filters = { FOCUS_FILTER_FOREIGN_DIPLOMACY }
		
		available = {
			custom_trigger_tooltip = {
				tooltip = FRA_econ_warfare_prereq
				YUG = {
					exists = yes
					has_capitulated = no
					is_subject = no
					NOT = {
						has_war_with = FRA
						has_war_with = GER
					}
				}
			}
			set_temp_variable = { FRA_attack_yugoslavia = 1 }
			set_temp_variable = { target = YUG.id }
			ai_can_take_wargoal_focus/FRA = yes
		}
		available_if_capitulated = no
		
		bypass = {
			YUG = {
				OR = { 
					has_war_with = FRA 
					has_war_with = GER 
					exists = no 
					has_capitulated = yes
					is_subject = yes
				}
			}
		}
		will_lead_to_war_with = YUG
		
		completion_reward = {
			custom_effect_tooltip = FRA_yug_ultimatum
			YUG = {
				country_event = { id = franceBiceE.09 }
			}
			### STABILITY ###
			hidden_effect = {
				if = {
					limit = {
						is_ai = yes
						has_stability < 0.4
					}
					add_stability = 0.1
				}
			}
		}
	}
	
	focus = {
		id = FRA_attack_romania
		icon = GFX_goal_attack_rom
		prerequisite = { focus = FRA_attack_yugoslavia }
		relative_position_id = FRA_attack_yugoslavia
		x = 0
		y = 1
		cost = 30
		search_filters = { FOCUS_FILTER_FOREIGN_DIPLOMACY }
		
		available = {
			custom_trigger_tooltip = {
				tooltip = FRA_econ_warfare_prereq
				ROM = {
					exists = yes
					has_capitulated = no
					is_subject = no
					NOT = {
						has_war_with = FRA
						has_war_with = GER
					}
				}
			}
			set_temp_variable = { FRA_attack_romania = 1 }
			set_temp_variable = { target = ROM.id }
			ai_can_take_wargoal_focus/FRA = yes
		}
		available_if_capitulated = no
		
		bypass = {
			ROM = {
				OR = { 
					has_war_with = FRA 
					has_war_with = GER 
					exists = no 
					has_capitulated = yes
					is_subject = yes
				}
			}
		}
		will_lead_to_war_with = ROM
		
		completion_reward = {
			custom_effect_tooltip = FRA_rom_ultimatum
			ROM = {
				country_event = { id = franceBiceE.09 }
			}
			### STABILITY ###
			hidden_effect = {
				if = {
					limit = {
						is_ai = yes
						has_stability < 0.4
					}
					add_stability = 0.1
				}
			}
		}
	}
	
	focus = {
		id = FRA_attack_turkey
		icon = GFX_goal_attack_tur
		prerequisite = { focus = FRA_economic_warfare }
		relative_position_id = FRA_economic_warfare
		x = 4
		y = 1
		cost = 30
		search_filters = { FOCUS_FILTER_FOREIGN_DIPLOMACY }
		
		available = {
			custom_trigger_tooltip = {
				tooltip = FRA_econ_warfare_prereq
				TUR = {
					exists = yes
					has_capitulated = no
					is_subject = no
					NOT = {
						has_war_with = FRA
						has_war_with = GER
					}
				}
			}
			set_temp_variable = { FRA_attack_turkey = 1 }
			set_temp_variable = { target = TUR.id }
			ai_can_take_wargoal_focus/FRA = yes
		}
		available_if_capitulated = no
		
		bypass = {
			TUR = {
				OR = { 
					has_war_with = FRA 
					has_war_with = GER 
					exists = no 
					has_capitulated = yes
					is_subject = yes
				}
			}
		}
		will_lead_to_war_with = TUR
		
		completion_reward = {
			custom_effect_tooltip = FRA_tur_ultimatum
			TUR = {
				country_event = { id = franceBiceE.09 }
			}
			### STABILITY ###
			hidden_effect = {
				if = {
					limit = {
						is_ai = yes
						has_stability < 0.4
					}
					add_stability = 0.1
				}
			}
		}
	}
	
	focus = {
		id = FRA_attack_soviets
		icon = GFX_focus_attack_soviet
		prerequisite = { focus = FRA_attack_turkey }
		relative_position_id = FRA_attack_turkey
		x = 0
		y = 1
		cost = 100
		search_filters = { FOCUS_FILTER_FOREIGN_DIPLOMACY }
		
		available = {
			custom_trigger_tooltip = {
				tooltip = FRA_econ_warfare_prereq
				SOV = {
					exists = yes
					has_capitulated = no
					is_subject = no
					NOT = {
						has_war_with = FRA
						has_war_with = GER
					}
				}
			}
			set_temp_variable = { FRA_attack_soviets = 1 }
			set_temp_variable = { target = SOV.id }
			ai_can_take_wargoal_focus/FRA = yes
		}
		available_if_capitulated = no
		
		bypass = {
			SOV = {
				OR = { 
					has_war_with = FRA 
					has_war_with = GER 
					exists = no 
					has_capitulated = yes
					is_subject = yes
				}
			}
		}
		will_lead_to_war_with = SOV
		
		completion_reward = {
			custom_effect_tooltip = FRA_sov_ultimatum
			SOV = {
				country_event = { id = franceBiceE.09 }
			}
			### STABILITY ###
			hidden_effect = {
				if = {
					limit = {
						is_ai = yes
						has_stability < 0.4
					}
					add_stability = 0.1
				}
			}
		}
	}
	
#######################################################	
}


### EOF ###